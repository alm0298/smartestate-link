const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-C8sj2BZ9.js","assets/vendor-ChhLT4kb.js"])))=>i.map(i=>d[i]);
var e,t,n,r,s,o,i,a,l,c,u,d,h,p,f,m,g,v,y,b,w,x,k,E,C,j,S,_,P,L,O,M,T,N,R,D,A,I,U,F,z,$,B,W,q,H,V,K,G,Z,Y,Q,J,X,ee,te,ne,re,se,oe,ie,ae,le,ce,ue,de,he,pe,fe,me,ge,ve,ye,be,we,xe=e=>{throw TypeError(e)},ke=(e,t,n)=>t.has(e)||xe("Cannot "+n),Ee=(e,t,n)=>(ke(e,t,"read from private field"),n?n.call(e):t.get(e)),Ce=(e,t,n)=>t.has(e)?xe("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),je=(e,t,n,r)=>(ke(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Se=(e,t,n)=>(ke(e,t,"access private method"),n),_e=(e,t,n,r)=>({set _(r){je(e,t,r,n)},get _(){return Ee(e,t,r)}});import{r as Pe,a as Le,g as Oe,c as Me,u as Te,R as Ne,b as Re,L as De,d as Ae,e as Ie,N as Ue,H as Fe,f as ze,h as $e}from"./vendor-ChhLT4kb.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Be={exports:{}},We={},qe=Pe,He=Symbol.for("react.element"),Ve=Symbol.for("react.fragment"),Ke=Object.prototype.hasOwnProperty,Ge=qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ze={key:!0,ref:!0,__self:!0,__source:!0};function Ye(e,t,n){var r,s={},o=null,i=null;for(r in void 0!==n&&(o=""+n),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(i=t.ref),t)Ke.call(t,r)&&!Ze.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:He,type:e,key:o,ref:i,props:s,_owner:Ge.current}}We.Fragment=Ve,We.jsx=Ye,We.jsxs=Ye,Be.exports=We;var Qe=Be.exports,Je={},Xe=Le;Je.createRoot=Xe.createRoot,Je.hydrateRoot=Xe.hydrateRoot;var et=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},tt="undefined"==typeof window||"Deno"in globalThis;function nt(){}function rt(e){return"number"==typeof e&&e>=0&&e!==1/0}function st(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ot(e,t){return"function"==typeof e?e(t):e}function it(e,t){return"function"==typeof e?e(t):e}function at(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i)if(r){if(t.queryHash!==ct(i,t.options))return!1}else if(!dt(t.queryKey,i))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!=typeof a||t.isStale()===a)&&((!s||s===t.state.fetchStatus)&&!(o&&!o(t)))}function lt(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(ut(t.options.mutationKey)!==ut(o))return!1}else if(!dt(t.options.mutationKey,o))return!1}return(!r||t.state.status===r)&&!(s&&!s(t))}function ct(e,t){return((null==t?void 0:t.queryKeyHashFn)||ut)(e)}function ut(e){return JSON.stringify(e,((e,t)=>mt(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function dt(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some((n=>!dt(e[n],t[n]))))}function ht(e,t){if(e===t)return e;const n=ft(e)&&ft(t);if(n||mt(e)&&mt(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),i=o.length,a=n?[]:{};let l=0;for(let c=0;c<i;c++){const s=n?c:o[c];(!n&&r.includes(s)||n)&&void 0===e[s]&&void 0===t[s]?(a[s]=void 0,l++):(a[s]=ht(e[s],t[s]),a[s]===e[s]&&void 0!==e[s]&&l++)}return s===i&&l===s?e:a}return t}function pt(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function ft(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function mt(e){if(!gt(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!gt(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function gt(e){return"[object Object]"===Object.prototype.toString.call(e)}function vt(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?ht(e,t):t}function yt(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function bt(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var wt=Symbol();function xt(e,t){return!e.queryFn&&(null==t?void 0:t.initialPromise)?()=>t.initialPromise:e.queryFn&&e.queryFn!==wt?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var kt=new(r=class extends et{constructor(){super(),Ce(this,e),Ce(this,t),Ce(this,n),je(this,n,(e=>{if(!tt&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}))}onSubscribe(){Ee(this,t)||this.setEventListener(Ee(this,n))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=Ee(this,t))||e.call(this),je(this,t,void 0))}setEventListener(e){var r;je(this,n,e),null==(r=Ee(this,t))||r.call(this),je(this,t,e((e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})))}setFocused(t){Ee(this,e)!==t&&(je(this,e,t),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){var t;return"boolean"==typeof Ee(this,e)?Ee(this,e):"hidden"!==(null==(t=globalThis.document)?void 0:t.visibilityState)}},e=new WeakMap,t=new WeakMap,n=new WeakMap,r),Et=new(a=class extends et{constructor(){super(),Ce(this,s,!0),Ce(this,o),Ce(this,i),je(this,i,(e=>{if(!tt&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}))}onSubscribe(){Ee(this,o)||this.setEventListener(Ee(this,i))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=Ee(this,o))||e.call(this),je(this,o,void 0))}setEventListener(e){var t;je(this,i,e),null==(t=Ee(this,o))||t.call(this),je(this,o,e(this.setOnline.bind(this)))}setOnline(e){Ee(this,s)!==e&&(je(this,s,e),this.listeners.forEach((t=>{t(e)})))}isOnline(){return Ee(this,s)}},s=new WeakMap,o=new WeakMap,i=new WeakMap,a);function Ct(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch((()=>{})),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}function jt(e){return Math.min(1e3*2**e,3e4)}function St(e){return"online"!==(e??"online")||Et.isOnline()}var _t=class extends Error{constructor(e){super("CancelledError"),this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}};function Pt(e){return e instanceof _t}function Lt(e){let t,n=!1,r=0,s=!1;const o=Ct(),i=()=>kt.isFocused()&&("always"===e.networkMode||Et.isOnline())&&e.canRun(),a=()=>St(e.networkMode)&&e.canRun(),l=n=>{var r;s||(s=!0,null==(r=e.onSuccess)||r.call(e,n),null==t||t(),o.resolve(n))},c=n=>{var r;s||(s=!0,null==(r=e.onError)||r.call(e,n),null==t||t(),o.reject(n))},u=()=>new Promise((n=>{var r;t=e=>{(s||i())&&n(e)},null==(r=e.onPause)||r.call(e)})).then((()=>{var n;t=void 0,s||null==(n=e.onContinue)||n.call(e)})),d=()=>{if(s)return;let t;const o=0===r?e.initialPromise:void 0;try{t=o??e.fn()}catch(a){t=Promise.reject(a)}Promise.resolve(t).then(l).catch((t=>{var o;if(s)return;const a=e.retry??(tt?0:3),l=e.retryDelay??jt,h="function"==typeof l?l(r,t):l,p=!0===a||"number"==typeof a&&r<a||"function"==typeof a&&a(r,t);var f;!n&&p?(r++,null==(o=e.onFail)||o.call(e,r,t),(f=h,new Promise((e=>{setTimeout(e,f)}))).then((()=>i()?void 0:u())).then((()=>{n?c(t):d()}))):c(t)}))};return{promise:o,cancel:t=>{var n;s||(c(new _t(t)),null==(n=e.abort)||n.call(e))},continue:()=>(null==t||t(),o),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:a,start:()=>(a()?d():u().then(d),o)}}var Ot=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},s=e=>setTimeout(e,0);const o=r=>{t?e.push(r):s((()=>{n(r)}))};return{batch:o=>{let i;t++;try{i=o()}finally{t--,t||(()=>{const t=e;e=[],t.length&&s((()=>{r((()=>{t.forEach((e=>{n(e)}))}))}))})()}return i},batchCalls:e=>(...t)=>{o((()=>{e(...t)}))},schedule:o,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{s=e}}}(),Mt=(c=class{constructor(){Ce(this,l)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rt(this.gcTime)&&je(this,l,setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(tt?1/0:3e5))}clearGcTimeout(){Ee(this,l)&&(clearTimeout(Ee(this,l)),je(this,l,void 0))}},l=new WeakMap,c),Tt=(b=class extends Mt{constructor(e){super(),Ce(this,v),Ce(this,u),Ce(this,d),Ce(this,h),Ce(this,p),Ce(this,f),Ce(this,m),Ce(this,g),je(this,g,!1),je(this,m,e.defaultOptions),this.setOptions(e.options),this.observers=[],je(this,p,e.client),je(this,h,Ee(this,p).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,je(this,u,function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=e.state??Ee(this,u),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null==(e=Ee(this,f))?void 0:e.promise}setOptions(e){this.options={...Ee(this,m),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||Ee(this,h).remove(this)}setData(e,t){const n=vt(this.state.data,e,this.options);return Se(this,v,y).call(this,{data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n}setState(e,t){Se(this,v,y).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,n;const r=null==(t=Ee(this,f))?void 0:t.promise;return null==(n=Ee(this,f))||n.cancel(e),r?r.then(nt).catch(nt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ee(this,u))}isActive(){return this.observers.some((e=>!1!==it(e.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wt||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(e=0){return this.state.isInvalidated||void 0===this.state.data||!st(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find((e=>e.shouldFetchOnWindowFocus()));null==t||t.refetch({cancelRefetch:!1}),null==(e=Ee(this,f))||e.continue()}onOnline(){var e;const t=this.observers.find((e=>e.shouldFetchOnReconnect()));null==t||t.refetch({cancelRefetch:!1}),null==(e=Ee(this,f))||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Ee(this,h).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(Ee(this,f)&&(Ee(this,g)?Ee(this,f).cancel({revert:!0}):Ee(this,f).cancelRetry()),this.scheduleGc()),Ee(this,h).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Se(this,v,y).call(this,{type:"invalidate"})}fetch(e,t){var n,r,s;if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(Ee(this,f))return Ee(this,f).continueRetry(),Ee(this,f).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const o=new AbortController,i=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(je(this,g,!0),o.signal)})},a={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:Ee(this,p),state:this.state,fetchFn:()=>{const e=xt(this.options,t),n={client:Ee(this,p),queryKey:this.queryKey,meta:this.meta};return i(n),je(this,g,!1),this.options.persister?this.options.persister(e,n,this):e(n)}};i(a),null==(n=this.options.behavior)||n.onFetch(a,this),je(this,d,this.state),"idle"!==this.state.fetchStatus&&this.state.fetchMeta===(null==(r=a.fetchOptions)?void 0:r.meta)||Se(this,v,y).call(this,{type:"fetch",meta:null==(s=a.fetchOptions)?void 0:s.meta});const l=e=>{var t,n,r,s;Pt(e)&&e.silent||Se(this,v,y).call(this,{type:"error",error:e}),Pt(e)||(null==(n=(t=Ee(this,h).config).onError)||n.call(t,e,this),null==(s=(r=Ee(this,h).config).onSettled)||s.call(r,this.state.data,e,this)),this.scheduleGc()};return je(this,f,Lt({initialPromise:null==t?void 0:t.initialPromise,fn:a.fetchFn,abort:o.abort.bind(o),onSuccess:e=>{var t,n,r,s;if(void 0!==e){try{this.setData(e)}catch(o){return void l(o)}null==(n=(t=Ee(this,h).config).onSuccess)||n.call(t,e,this),null==(s=(r=Ee(this,h).config).onSettled)||s.call(r,e,this.state.error,this),this.scheduleGc()}else l(new Error(`${this.queryHash} data is undefined`))},onError:l,onFail:(e,t)=>{Se(this,v,y).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{Se(this,v,y).call(this,{type:"pause"})},onContinue:()=>{Se(this,v,y).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),Ee(this,f).start()}},u=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakMap,v=new WeakSet,y=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...Nt(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return Pt(n)&&n.revert&&Ee(this,d)?{...Ee(this,d),fetchStatus:"idle"}:{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),Ot.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),Ee(this,h).notify({query:this,type:"updated",action:e})}))},b);function Nt(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:St(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var Rt=(x=class extends et{constructor(e={}){super(),Ce(this,w),this.config=e,je(this,w,new Map)}build(e,t,n){const r=t.queryKey,s=t.queryHash??ct(r,t);let o=this.get(s);return o||(o=new Tt({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){Ee(this,w).has(e.queryHash)||(Ee(this,w).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Ee(this,w).get(e.queryHash);t&&(e.destroy(),t===e&&Ee(this,w).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ot.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return Ee(this,w).get(e)}getAll(){return[...Ee(this,w).values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>at(t,e)))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>at(e,t))):t}notify(e){Ot.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){Ot.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){Ot.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},w=new WeakMap,x),Dt=(_=class extends Mt{constructor(e){super(),Ce(this,j),Ce(this,k),Ce(this,E),Ce(this,C),this.mutationId=e.mutationId,je(this,E,e.mutationCache),je(this,k,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Ee(this,k).includes(e)||(Ee(this,k).push(e),this.clearGcTimeout(),Ee(this,E).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){je(this,k,Ee(this,k).filter((t=>t!==e))),this.scheduleGc(),Ee(this,E).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Ee(this,k).length||("pending"===this.state.status?this.scheduleGc():Ee(this,E).remove(this))}continue(){var e;return(null==(e=Ee(this,C))?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var t,n,r,s,o,i,a,l,c,u,d,h,p,f,m,g,v,y,b,w;je(this,C,Lt({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{Se(this,j,S).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{Se(this,j,S).call(this,{type:"pause"})},onContinue:()=>{Se(this,j,S).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ee(this,E).canRun(this)}));const x="pending"===this.state.status,k=!Ee(this,C).canStart();try{if(!x){Se(this,j,S).call(this,{type:"pending",variables:e,isPaused:k}),await(null==(n=(t=Ee(this,E).config).onMutate)?void 0:n.call(t,e,this));const o=await(null==(s=(r=this.options).onMutate)?void 0:s.call(r,e));o!==this.state.context&&Se(this,j,S).call(this,{type:"pending",context:o,variables:e,isPaused:k})}const p=await Ee(this,C).start();return await(null==(i=(o=Ee(this,E).config).onSuccess)?void 0:i.call(o,p,e,this.state.context,this)),await(null==(l=(a=this.options).onSuccess)?void 0:l.call(a,p,e,this.state.context)),await(null==(u=(c=Ee(this,E).config).onSettled)?void 0:u.call(c,p,null,this.state.variables,this.state.context,this)),await(null==(h=(d=this.options).onSettled)?void 0:h.call(d,p,null,e,this.state.context)),Se(this,j,S).call(this,{type:"success",data:p}),p}catch(_){try{throw await(null==(f=(p=Ee(this,E).config).onError)?void 0:f.call(p,_,e,this.state.context,this)),await(null==(g=(m=this.options).onError)?void 0:g.call(m,_,e,this.state.context)),await(null==(y=(v=Ee(this,E).config).onSettled)?void 0:y.call(v,void 0,_,this.state.variables,this.state.context,this)),await(null==(w=(b=this.options).onSettled)?void 0:w.call(b,void 0,_,e,this.state.context)),_}finally{Se(this,j,S).call(this,{type:"error",error:_})}}finally{Ee(this,E).runNext(this)}}},k=new WeakMap,E=new WeakMap,C=new WeakMap,j=new WeakSet,S=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),Ot.batch((()=>{Ee(this,k).forEach((t=>{t.onMutationUpdate(e)})),Ee(this,E).notify({mutation:this,type:"updated",action:e})}))},_);var At=(M=class extends et{constructor(e={}){super(),Ce(this,P),Ce(this,L),Ce(this,O),this.config=e,je(this,P,new Set),je(this,L,new Map),je(this,O,0)}build(e,t,n){const r=new Dt({mutationCache:this,mutationId:++_e(this,O)._,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){Ee(this,P).add(e);const t=It(e);if("string"==typeof t){const n=Ee(this,L).get(t);n?n.push(e):Ee(this,L).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Ee(this,P).delete(e)){const t=It(e);if("string"==typeof t){const n=Ee(this,L).get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&Ee(this,L).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=It(e);if("string"==typeof t){const n=Ee(this,L).get(t),r=null==n?void 0:n.find((e=>"pending"===e.state.status));return!r||r===e}return!0}runNext(e){var t;const n=It(e);if("string"==typeof n){const r=null==(t=Ee(this,L).get(n))?void 0:t.find((t=>t!==e&&t.state.isPaused));return(null==r?void 0:r.continue())??Promise.resolve()}return Promise.resolve()}clear(){Ot.batch((()=>{Ee(this,P).forEach((e=>{this.notify({type:"removed",mutation:e})})),Ee(this,P).clear(),Ee(this,L).clear()}))}getAll(){return Array.from(Ee(this,P))}find(e){const t={exact:!0,...e};return this.getAll().find((e=>lt(t,e)))}findAll(e={}){return this.getAll().filter((t=>lt(e,t)))}notify(e){Ot.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return Ot.batch((()=>Promise.all(e.map((e=>e.continue().catch(nt))))))}},P=new WeakMap,L=new WeakMap,O=new WeakMap,M);function It(e){var t;return null==(t=e.options.scope)?void 0:t.id}function Ut(e){return{onFetch:(t,n)=>{var r,s,o,i,a;const l=t.options,c=null==(o=null==(s=null==(r=t.fetchOptions)?void 0:r.meta)?void 0:s.fetchMore)?void 0:o.direction,u=(null==(i=t.state.data)?void 0:i.pages)||[],d=(null==(a=t.state.data)?void 0:a.pageParams)||[];let h={pages:[],pageParams:[]},p=0;const f=async()=>{let n=!1;const r=xt(t.options,t.fetchOptions),s=async(e,s,o)=>{if(n)return Promise.reject();if(null==s&&e.pages.length)return Promise.resolve(e);const i={client:t.client,queryKey:t.queryKey,pageParam:s,direction:o?"backward":"forward",meta:t.options.meta};var a;a=i,Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",(()=>{n=!0})),t.signal)});const l=await r(i),{maxPages:c}=t.options,u=o?bt:yt;return{pages:u(e.pages,l,c),pageParams:u(e.pageParams,s,c)}};if(c&&u.length){const e="backward"===c,t={pages:u,pageParams:d},n=(e?zt:Ft)(l,t);h=await s(t,n,e)}else{const t=e??u.length;do{const e=0===p?d[0]??l.initialPageParam:Ft(l,h);if(p>0&&null==e)break;h=await s(h,e),p++}while(p<t)}return h};t.options.persister?t.fetchFn=()=>{var e,r;return null==(r=(e=t.options).persister)?void 0:r.call(e,f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=f}}}function Ft(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function zt(e,{pages:t,pageParams:n}){var r;return t.length>0?null==(r=e.getPreviousPageParam)?void 0:r.call(e,t[0],t,n[0],n):void 0}var $t=(z=class{constructor(e={}){Ce(this,T),Ce(this,N),Ce(this,R),Ce(this,D),Ce(this,A),Ce(this,I),Ce(this,U),Ce(this,F),je(this,T,e.queryCache||new Rt),je(this,N,e.mutationCache||new At),je(this,R,e.defaultOptions||{}),je(this,D,new Map),je(this,A,new Map),je(this,I,0)}mount(){_e(this,I)._++,1===Ee(this,I)&&(je(this,U,kt.subscribe((async e=>{e&&(await this.resumePausedMutations(),Ee(this,T).onFocus())}))),je(this,F,Et.subscribe((async e=>{e&&(await this.resumePausedMutations(),Ee(this,T).onOnline())}))))}unmount(){var e,t;_e(this,I)._--,0===Ee(this,I)&&(null==(e=Ee(this,U))||e.call(this),je(this,U,void 0),null==(t=Ee(this,F))||t.call(this),je(this,F,void 0))}isFetching(e){return Ee(this,T).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ee(this,N).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=Ee(this,T).get(n.queryHash))?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Ee(this,T).build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ot(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return Ee(this,T).findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=Ee(this,T).get(r.queryHash),o=function(e,t){return"function"==typeof e?e(t):e}(t,null==s?void 0:s.state.data);if(void 0!==o)return Ee(this,T).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Ot.batch((()=>Ee(this,T).findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,n)]))))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=Ee(this,T).get(n.queryHash))?void 0:t.state}removeQueries(e){const t=Ee(this,T);Ot.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=Ee(this,T),r={type:"active",...e};return Ot.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries(r,t))))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ot.batch((()=>Ee(this,T).findAll(e).map((e=>e.cancel(n)))));return Promise.all(r).then(nt).catch(nt)}invalidateQueries(e,t={}){return Ot.batch((()=>{if(Ee(this,T).findAll(e).forEach((e=>{e.invalidate()})),"none"===(null==e?void 0:e.refetchType))return Promise.resolve();const n={...e,type:(null==e?void 0:e.refetchType)??(null==e?void 0:e.type)??"active"};return this.refetchQueries(n,t)}))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ot.batch((()=>Ee(this,T).findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(nt)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(r).then(nt)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=Ee(this,T).build(this,t);return n.isStaleByTime(ot(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(nt).catch(nt)}fetchInfiniteQuery(e){return e.behavior=Ut(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(nt).catch(nt)}ensureInfiniteQueryData(e){return e.behavior=Ut(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Et.isOnline()?Ee(this,N).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ee(this,T)}getMutationCache(){return Ee(this,N)}getDefaultOptions(){return Ee(this,R)}setDefaultOptions(e){je(this,R,e)}setQueryDefaults(e,t){Ee(this,D).set(ut(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ee(this,D).values()],n={};return t.forEach((t=>{dt(e,t.queryKey)&&Object.assign(n,t.defaultOptions)})),n}setMutationDefaults(e,t){Ee(this,A).set(ut(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ee(this,A).values()];let n={};return t.forEach((t=>{dt(e,t.mutationKey)&&(n={...n,...t.defaultOptions})})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Ee(this,R).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ct(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===wt&&(t.enabled=!1),t}defaultMutationOptions(e){return(null==e?void 0:e._defaulted)?e:{...Ee(this,R).mutations,...(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ee(this,T).clear(),Ee(this,N).clear()}},T=new WeakMap,N=new WeakMap,R=new WeakMap,D=new WeakMap,A=new WeakMap,I=new WeakMap,U=new WeakMap,F=new WeakMap,z),Bt=(he=class extends et{constructor(e,t){super(),Ce(this,ne),Ce(this,$),Ce(this,B),Ce(this,W),Ce(this,q),Ce(this,H),Ce(this,V),Ce(this,K),Ce(this,G),Ce(this,Z),Ce(this,Y),Ce(this,Q),Ce(this,J),Ce(this,X),Ce(this,ee),Ce(this,te,new Set),this.options=t,je(this,$,e),je(this,G,null),je(this,K,Ct()),this.options.experimental_prefetchInRender||Ee(this,K).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(Ee(this,B).addObserver(this),Wt(Ee(this,B),this.options)?Se(this,ne,re).call(this):this.updateResult(),Se(this,ne,ae).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return qt(Ee(this,B),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return qt(Ee(this,B),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Se(this,ne,le).call(this),Se(this,ne,ce).call(this),Ee(this,B).removeObserver(this)}setOptions(e,t){const n=this.options,r=Ee(this,B);if(this.options=Ee(this,$).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof it(this.options.enabled,Ee(this,B)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Se(this,ne,ue).call(this),Ee(this,B).setOptions(this.options),n._defaulted&&!pt(this.options,n)&&Ee(this,$).getQueryCache().notify({type:"observerOptionsUpdated",query:Ee(this,B),observer:this});const s=this.hasListeners();s&&Ht(Ee(this,B),r,this.options,n)&&Se(this,ne,re).call(this),this.updateResult(t),!s||Ee(this,B)===r&&it(this.options.enabled,Ee(this,B))===it(n.enabled,Ee(this,B))&&ot(this.options.staleTime,Ee(this,B))===ot(n.staleTime,Ee(this,B))||Se(this,ne,se).call(this);const o=Se(this,ne,oe).call(this);!s||Ee(this,B)===r&&it(this.options.enabled,Ee(this,B))===it(n.enabled,Ee(this,B))&&o===Ee(this,ee)||Se(this,ne,ie).call(this,o)}getOptimisticResult(e){const t=Ee(this,$).getQueryCache().build(Ee(this,$),e),n=this.createResult(t,e);return function(e,t){if(!pt(e.getCurrentResult(),t))return!0;return!1}(this,n)&&(je(this,q,n),je(this,V,this.options),je(this,H,Ee(this,B).state)),n}getCurrentResult(){return Ee(this,q)}trackResult(e,t){const n={};return Object.keys(e).forEach((r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),null==t||t(r),e[r])})})),n}trackProp(e){Ee(this,te).add(e)}getCurrentQuery(){return Ee(this,B)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=Ee(this,$).defaultQueryOptions(e),n=Ee(this,$).getQueryCache().build(Ee(this,$),t);return n.fetch().then((()=>this.createResult(n,t)))}fetch(e){return Se(this,ne,re).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then((()=>(this.updateResult(),Ee(this,q))))}createResult(e,t){var n;const r=Ee(this,B),s=this.options,o=Ee(this,q),i=Ee(this,H),a=Ee(this,V),l=e!==r?e.state:Ee(this,W),{state:c}=e;let u,d={...c},h=!1;if(t._optimisticResults){const n=this.hasListeners(),o=!n&&Wt(e,t),i=n&&Ht(e,r,t,s);(o||i)&&(d={...d,...Nt(c.data,e.options)}),"isRestoring"===t._optimisticResults&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:f,status:m}=d;if(t.select&&void 0!==d.data)if(o&&d.data===(null==i?void 0:i.data)&&t.select===Ee(this,Z))u=Ee(this,Y);else try{je(this,Z,t.select),u=t.select(d.data),u=vt(null==o?void 0:o.data,u,t),je(this,Y,u),je(this,G,null)}catch(k){je(this,G,k)}else u=d.data;if(void 0!==t.placeholderData&&void 0===u&&"pending"===m){let e;if((null==o?void 0:o.isPlaceholderData)&&t.placeholderData===(null==a?void 0:a.placeholderData))e=o.data;else if(e="function"==typeof t.placeholderData?t.placeholderData(null==(n=Ee(this,Q))?void 0:n.state.data,Ee(this,Q)):t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),je(this,G,null)}catch(k){je(this,G,k)}void 0!==e&&(m="success",u=vt(null==o?void 0:o.data,e,t),h=!0)}Ee(this,G)&&(p=Ee(this,G),u=Ee(this,Y),f=Date.now(),m="error");const g="fetching"===d.fetchStatus,v="pending"===m,y="error"===m,b=v&&g,w=void 0!==u,x={status:m,fetchStatus:d.fetchStatus,isPending:v,isSuccess:"success"===m,isError:y,isInitialLoading:b,isLoading:b,data:u,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:f,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:g,isRefetching:g&&!v,isLoadingError:y&&!w,isPaused:"paused"===d.fetchStatus,isPlaceholderData:h,isRefetchError:y&&w,isStale:Vt(e,t),refetch:this.refetch,promise:Ee(this,K)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===x.status?e.reject(x.error):void 0!==x.data&&e.resolve(x.data)},n=()=>{const e=je(this,K,x.promise=Ct());t(e)},s=Ee(this,K);switch(s.status){case"pending":e.queryHash===r.queryHash&&t(s);break;case"fulfilled":"error"!==x.status&&x.data===s.value||n();break;case"rejected":"error"===x.status&&x.error===s.reason||n()}}return x}updateResult(e){const t=Ee(this,q),n=this.createResult(Ee(this,B),this.options);if(je(this,H,Ee(this,B).state),je(this,V,this.options),void 0!==Ee(this,H).data&&je(this,Q,Ee(this,B)),pt(n,t))return;je(this,q,n);const r={};!1!==(null==e?void 0:e.listeners)&&(()=>{if(!t)return!0;const{notifyOnChangeProps:e}=this.options,n="function"==typeof e?e():e;if("all"===n||!n&&!Ee(this,te).size)return!0;const r=new Set(n??Ee(this,te));return this.options.throwOnError&&r.add("error"),Object.keys(Ee(this,q)).some((e=>{const n=e;return Ee(this,q)[n]!==t[n]&&r.has(n)}))})()&&(r.listeners=!0),Se(this,ne,de).call(this,{...r,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Se(this,ne,ae).call(this)}},$=new WeakMap,B=new WeakMap,W=new WeakMap,q=new WeakMap,H=new WeakMap,V=new WeakMap,K=new WeakMap,G=new WeakMap,Z=new WeakMap,Y=new WeakMap,Q=new WeakMap,J=new WeakMap,X=new WeakMap,ee=new WeakMap,te=new WeakMap,ne=new WeakSet,re=function(e){Se(this,ne,ue).call(this);let t=Ee(this,B).fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(nt)),t},se=function(){Se(this,ne,le).call(this);const e=ot(this.options.staleTime,Ee(this,B));if(tt||Ee(this,q).isStale||!rt(e))return;const t=st(Ee(this,q).dataUpdatedAt,e);je(this,J,setTimeout((()=>{Ee(this,q).isStale||this.updateResult()}),t+1))},oe=function(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(Ee(this,B)):this.options.refetchInterval)??!1},ie=function(e){Se(this,ne,ce).call(this),je(this,ee,e),!tt&&!1!==it(this.options.enabled,Ee(this,B))&&rt(Ee(this,ee))&&0!==Ee(this,ee)&&je(this,X,setInterval((()=>{(this.options.refetchIntervalInBackground||kt.isFocused())&&Se(this,ne,re).call(this)}),Ee(this,ee)))},ae=function(){Se(this,ne,se).call(this),Se(this,ne,ie).call(this,Se(this,ne,oe).call(this))},le=function(){Ee(this,J)&&(clearTimeout(Ee(this,J)),je(this,J,void 0))},ce=function(){Ee(this,X)&&(clearInterval(Ee(this,X)),je(this,X,void 0))},ue=function(){const e=Ee(this,$).getQueryCache().build(Ee(this,$),this.options);if(e===Ee(this,B))return;const t=Ee(this,B);je(this,B,e),je(this,W,e.state),this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))},de=function(e){Ot.batch((()=>{e.listeners&&this.listeners.forEach((e=>{e(Ee(this,q))})),Ee(this,$).getQueryCache().notify({query:Ee(this,B),type:"observerResultsUpdated"})}))},he);function Wt(e,t){return function(e,t){return!1!==it(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&qt(e,t,t.refetchOnMount)}function qt(e,t,n){if(!1!==it(t.enabled,e)){const r="function"==typeof n?n(e):n;return"always"===r||!1!==r&&Vt(e,t)}return!1}function Ht(e,t,n,r){return(e!==t||!1===it(r.enabled,e))&&(!n.suspense||"error"!==e.state.status)&&Vt(e,n)}function Vt(e,t){return!1!==it(t.enabled,e)&&e.isStaleByTime(ot(t.staleTime,e))}var Kt=(we=class extends et{constructor(e,t){super(),Ce(this,ve),Ce(this,pe),Ce(this,fe),Ce(this,me),Ce(this,ge),je(this,pe,e),this.setOptions(t),this.bindMethods(),Se(this,ve,ye).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const n=this.options;this.options=Ee(this,pe).defaultMutationOptions(e),pt(this.options,n)||Ee(this,pe).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Ee(this,me),observer:this}),(null==n?void 0:n.mutationKey)&&this.options.mutationKey&&ut(n.mutationKey)!==ut(this.options.mutationKey)?this.reset():"pending"===(null==(t=Ee(this,me))?void 0:t.state.status)&&Ee(this,me).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||null==(e=Ee(this,me))||e.removeObserver(this)}onMutationUpdate(e){Se(this,ve,ye).call(this),Se(this,ve,be).call(this,e)}getCurrentResult(){return Ee(this,fe)}reset(){var e;null==(e=Ee(this,me))||e.removeObserver(this),je(this,me,void 0),Se(this,ve,ye).call(this),Se(this,ve,be).call(this)}mutate(e,t){var n;return je(this,ge,t),null==(n=Ee(this,me))||n.removeObserver(this),je(this,me,Ee(this,pe).getMutationCache().build(Ee(this,pe),this.options)),Ee(this,me).addObserver(this),Ee(this,me).execute(e)}},pe=new WeakMap,fe=new WeakMap,me=new WeakMap,ge=new WeakMap,ve=new WeakSet,ye=function(){var e;const t=(null==(e=Ee(this,me))?void 0:e.state)??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};je(this,fe,{...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset})},be=function(e){Ot.batch((()=>{var t,n,r,s,o,i,a,l;if(Ee(this,ge)&&this.hasListeners()){const c=Ee(this,fe).variables,u=Ee(this,fe).context;"success"===(null==e?void 0:e.type)?(null==(n=(t=Ee(this,ge)).onSuccess)||n.call(t,e.data,c,u),null==(s=(r=Ee(this,ge)).onSettled)||s.call(r,e.data,null,c,u)):"error"===(null==e?void 0:e.type)&&(null==(i=(o=Ee(this,ge)).onError)||i.call(o,e.error,c,u),null==(l=(a=Ee(this,ge)).onSettled)||l.call(a,void 0,e.error,c,u))}this.listeners.forEach((e=>{e(Ee(this,fe))}))}))},we),Gt=Pe.createContext(void 0),Zt=e=>{const t=Pe.useContext(Gt);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Yt=({client:e,children:t})=>(Pe.useEffect((()=>(e.mount(),()=>{e.unmount()})),[e]),Qe.jsx(Gt.Provider,{value:e,children:t})),Qt=Pe.createContext(!1);Qt.Provider;var Jt=Pe.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}());function Xt(e,t){return"function"==typeof e?e(...t):!!e}function en(){}var tn=(e,t,n)=>t.fetchOptimistic(e).catch((()=>{n.clearReset()}));function nn(e,t,n){var r,s,o,i,a;const l=Zt(),c=Pe.useContext(Qt),u=Pe.useContext(Jt),d=l.defaultQueryOptions(e);null==(s=null==(r=l.getDefaultOptions().queries)?void 0:r._experimental_beforeQuery)||s.call(r,d),d._optimisticResults=c?"isRestoring":"optimistic",(e=>{const t=e.staleTime;e.suspense&&(e.staleTime="function"==typeof t?(...e)=>Math.max(t(...e),1e3):Math.max(t??1e3,1e3),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3)))})(d),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(d,u),(e=>{Pe.useEffect((()=>{e.clearReset()}),[e])})(u);const h=!l.getQueryCache().get(d.queryHash),[p]=Pe.useState((()=>new t(l,d))),f=p.getOptimisticResult(d),m=!c&&!1!==e.subscribed;if(Pe.useSyncExternalStore(Pe.useCallback((e=>{const t=m?p.subscribe(Ot.batchCalls(e)):en;return p.updateResult(),t}),[p,m]),(()=>p.getCurrentResult()),(()=>p.getCurrentResult())),Pe.useEffect((()=>{p.setOptions(d,{listeners:!1})}),[d,p]),((e,t)=>(null==e?void 0:e.suspense)&&t.isPending)(d,f))throw tn(d,p,u);if((({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&void 0===e.data||Xt(n,[e.error,r])))({result:f,errorResetBoundary:u,throwOnError:d.throwOnError,query:l.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw f.error;if(null==(i=null==(o=l.getDefaultOptions().queries)?void 0:o._experimental_afterQuery)||i.call(o,d,f),d.experimental_prefetchInRender&&!tt&&((e,t)=>e.isLoading&&e.isFetching&&!t)(f,c)){const e=h?tn(d,p,u):null==(a=l.getQueryCache().get(d.queryHash))?void 0:a.promise;null==e||e.catch(en).finally((()=>{p.updateResult()}))}return d.notifyOnChangeProps?f:p.trackResult(f)}function rn(e,t){return nn(e,Bt)}function sn(e,t){const n=Zt(),[r]=Pe.useState((()=>new Kt(n,e)));Pe.useEffect((()=>{r.setOptions(e)}),[r,e]);const s=Pe.useSyncExternalStore(Pe.useCallback((e=>r.subscribe(Ot.batchCalls(e))),[r]),(()=>r.getCurrentResult()),(()=>r.getCurrentResult())),o=Pe.useCallback(((e,t)=>{r.mutate(e,t).catch(en)}),[r]);if(s.error&&Xt(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}const on={},an=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(t.map((e=>{if((e=function(e){return"/smartestate-link/"+e}(e))in on)return;on[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,n&&s.setAttribute("nonce",n),document.head.appendChild(s),t?new Promise(((t,n)=>{s.addEventListener("load",t),s.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then((t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)}))};class ln extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class cn extends ln{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class un extends ln{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class dn extends ln{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var hn,pn;(pn=hn||(hn={})).Any="any",pn.ApNortheast1="ap-northeast-1",pn.ApNortheast2="ap-northeast-2",pn.ApSouth1="ap-south-1",pn.ApSoutheast1="ap-southeast-1",pn.ApSoutheast2="ap-southeast-2",pn.CaCentral1="ca-central-1",pn.EuCentral1="eu-central-1",pn.EuWest1="eu-west-1",pn.EuWest2="eu-west-2",pn.EuWest3="eu-west-3",pn.SaEast1="sa-east-1",pn.UsEast1="us-east-1",pn.UsWest1="us-west-1",pn.UsWest2="us-west-2";var fn=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((r=r.apply(e,t||[])).next())}))};class mn{constructor(e,{headers:t={},customFetch:n,region:r=hn.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>an((async()=>{const{default:e}=await Promise.resolve().then((()=>Pn));return{default:e}}),void 0).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)})(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return fn(this,void 0,void 0,(function*(){try{const{headers:r,method:s,body:o}=t;let i,a={},{region:l}=t;l||(l=this.region),l&&"any"!==l&&(a["x-region"]=l),o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!=typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",i=o):"string"==typeof o?(a["Content-Type"]="text/plain",i=o):"undefined"!=typeof FormData&&o instanceof FormData?i=o:(a["Content-Type"]="application/json",i=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:i}).catch((e=>{throw new cn(e)})),u=c.headers.get("x-relay-error");if(u&&"true"===u)throw new un(c);if(!c.ok)throw new dn(c);let d,h=(null!==(n=c.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return d="application/json"===h?yield c.json():"application/octet-stream"===h?yield c.blob():"text/event-stream"===h?c:"multipart/form-data"===h?yield c.formData():yield c.text(),{data:d,error:null}}catch(r){return{data:null,error:r}}}))}}var gn={},vn={},yn={},bn={},wn={},xn={},kn=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();const En=kn.fetch,Cn=kn.fetch.bind(kn),jn=kn.Headers,Sn=kn.Request,_n=kn.Response,Pn=Object.freeze(Object.defineProperty({__proto__:null,Headers:jn,Request:Sn,Response:_n,default:Cn,fetch:En},Symbol.toStringTag,{value:"Module"})),Ln=Oe(Pn);var On={};Object.defineProperty(On,"__esModule",{value:!0});let Mn=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};On.default=Mn;var Tn=Me&&Me.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xn,"__esModule",{value:!0});const Nn=Tn(Ln),Rn=Tn(On);xn.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=Nn.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,n,r;let s=null,o=null,i=null,a=e.status,l=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(o="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),c=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&c&&c.length>1&&(i=parseInt(c[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(s={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,i=null,a=406,l="Not Acceptable"):o=1===o.length?o[0]:null)}else{const t=await e.text();try{s=JSON.parse(t),Array.isArray(s)&&404===e.status&&(o=[],s=null,a=200,l="OK")}catch(c){404===e.status&&""===t?(a=204,l="No Content"):s={message:t}}if(s&&this.isMaybeSingle&&(null===(r=null==s?void 0:s.details)||void 0===r?void 0:r.includes("0 rows"))&&(s=null,a=200,l="OK"),s&&this.shouldThrowOnError)throw new Rn.default(s)}return{error:s,data:o,count:i,status:a,statusText:l}}));return this.shouldThrowOnError||(n=n.catch((e=>{var t,n,r;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(n=null==e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null==e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}}))),n.then(e,t)}returns(){return this}overrideTypes(){return this}};var Dn=Me&&Me.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wn,"__esModule",{value:!0});const An=Dn(xn);let In=class extends An.default{select(e){let t=!1;const n=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const o=s?`${s}.order`:"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=void 0===r?"offset":`${r}.offset`,o=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:o="text"}={}){var i;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.Accept)&&void 0!==i?i:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${a};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};wn.default=In;var Un=Me&&Me.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bn,"__esModule",{value:!0});const Fn=Un(wn);let zn=class extends Fn.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map((e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";"plain"===r?s="pl":"phrase"===r?s="ph":"websearch"===r&&(s="w");const o=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach((([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)})),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}};bn.default=zn;var $n=Me&&Me.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yn,"__esModule",{value:!0});const Bn=$n(bn);yn.default=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=t,this.schema=n,this.fetch=r}select(e,{head:t=!1,count:n}={}){const r=t?"HEAD":"GET";let s=!1;const o=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e))).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Bn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new Bn.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){const o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new Bn.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new Bn.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new Bn.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};var Wn={},qn={};Object.defineProperty(qn,"__esModule",{value:!0}),qn.version=void 0,qn.version="0.0.0-automated",Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.DEFAULT_HEADERS=void 0;const Hn=qn;Wn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Hn.version}`};var Vn=Me&&Me.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vn,"__esModule",{value:!0});const Kn=Vn(yn),Gn=Vn(bn),Zn=Wn;vn.default=class e{constructor(e,{headers:t={},schema:n,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},Zn.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new Kn.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:r=!1,count:s}={}){let o;const i=new URL(`${this.url}/rpc/${e}`);let a;n||r?(o=n?"HEAD":"GET",Object.entries(t).filter((([e,t])=>void 0!==t)).map((([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`])).forEach((([e,t])=>{i.searchParams.append(e,t)}))):(o="POST",a=t);const l=Object.assign({},this.headers);return s&&(l.Prefer=`count=${s}`),new Gn.default({method:o,url:i,headers:l,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};var Yn=Me&&Me.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gn,"__esModule",{value:!0}),gn.PostgrestError=gn.PostgrestBuilder=gn.PostgrestTransformBuilder=gn.PostgrestFilterBuilder=gn.PostgrestQueryBuilder=gn.PostgrestClient=void 0;const Qn=Yn(vn);gn.PostgrestClient=Qn.default;const Jn=Yn(yn);gn.PostgrestQueryBuilder=Jn.default;const Xn=Yn(bn);gn.PostgrestFilterBuilder=Xn.default;const er=Yn(wn);gn.PostgrestTransformBuilder=er.default;const tr=Yn(xn);gn.PostgrestBuilder=tr.default;const nr=Yn(On);gn.PostgrestError=nr.default;var rr=gn.default={PostgrestClient:Qn.default,PostgrestQueryBuilder:Jn.default,PostgrestFilterBuilder:Xn.default,PostgrestTransformBuilder:er.default,PostgrestBuilder:tr.default,PostgrestError:nr.default};const{PostgrestClient:sr,PostgrestQueryBuilder:or,PostgrestFilterBuilder:ir,PostgrestTransformBuilder:ar,PostgrestBuilder:lr,PostgrestError:cr}=rr,ur={"X-Client-Info":"realtime-js/2.11.2"};var dr,hr,pr,fr,mr,gr,vr,yr,br,wr,xr;(hr=dr||(dr={}))[hr.connecting=0]="connecting",hr[hr.open=1]="open",hr[hr.closing=2]="closing",hr[hr.closed=3]="closed",(fr=pr||(pr={})).closed="closed",fr.errored="errored",fr.joined="joined",fr.joining="joining",fr.leaving="leaving",(gr=mr||(mr={})).close="phx_close",gr.error="phx_error",gr.join="phx_join",gr.reply="phx_reply",gr.leave="phx_leave",gr.access_token="access_token",(vr||(vr={})).websocket="websocket",(br=yr||(yr={})).Connecting="connecting",br.Open="open",br.Closing="closing",br.Closed="closed";class kr{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),s=t.getUint8(2);let o=this.HEADER_LENGTH+2;const i=n.decode(e.slice(o,o+r));o+=r;const a=n.decode(e.slice(o,o+s));o+=s;return{ref:null,topic:i,event:a,payload:JSON.parse(n.decode(e.slice(o,e.byteLength)))}}}class Er{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}(xr=wr||(wr={})).abstime="abstime",xr.bool="bool",xr.date="date",xr.daterange="daterange",xr.float4="float4",xr.float8="float8",xr.int2="int2",xr.int4="int4",xr.int4range="int4range",xr.int8="int8",xr.int8range="int8range",xr.json="json",xr.jsonb="jsonb",xr.money="money",xr.numeric="numeric",xr.oid="oid",xr.reltime="reltime",xr.text="text",xr.time="time",xr.timestamp="timestamp",xr.timestamptz="timestamptz",xr.timetz="timetz",xr.tsrange="tsrange",xr.tstzrange="tstzrange";const Cr=(e,t,n={})=>{var r;const s=null!==(r=n.skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce(((n,r)=>(n[r]=jr(r,e,t,s),n)),{})},jr=(e,t,n,r)=>{const s=t.find((t=>t.name===e)),o=null==s?void 0:s.type,i=n[e];return o&&!r.includes(o)?Sr(o,i):_r(i)},Sr=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return Mr(t,n)}switch(e){case wr.bool:return Pr(t);case wr.float4:case wr.float8:case wr.int2:case wr.int4:case wr.int8:case wr.numeric:case wr.oid:return Lr(t);case wr.json:case wr.jsonb:return Or(t);case wr.timestamp:return Tr(t);case wr.abstime:case wr.date:case wr.daterange:case wr.int4range:case wr.int8range:case wr.money:case wr.reltime:case wr.text:case wr.time:case wr.timestamptz:case wr.timetz:case wr.tsrange:case wr.tstzrange:default:return _r(t)}},_r=e=>e,Pr=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Lr=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Or=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Mr=(e,t)=>{if("string"!=typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const o=e.slice(1,n);try{r=JSON.parse("["+o+"]")}catch(s){r=o?o.split(","):[]}return r.map((e=>Sr(t,e)))}return e},Tr=e=>"string"==typeof e?e.replace(" ","T"):e,Nr=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Rr{constructor(e,t,n={},r=1e4){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter((t=>t.status===e)).forEach((e=>e.callback(t)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Dr,Ar,Ir,Ur,Fr,zr,$r,Br;(Ar=Dr||(Dr={})).SYNC="sync",Ar.JOIN="join",Ar.LEAVE="leave";class Wr{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wr.syncState(this.state,e,t,n),this.pendingDiffs.forEach((e=>{this.state=Wr.syncDiff(this.state,e,t,n)})),this.pendingDiffs=[],r()})),this.channel._on(n.diff,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Wr.syncDiff(this.state,e,t,n),r())})),this.onJoin(((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})})),this.onLeave(((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,n,r){const s=this.cloneDeep(e),o=this.transformState(t),i={},a={};return this.map(s,((e,t)=>{o[e]||(a[e]=t)})),this.map(o,((e,t)=>{const n=s[e];if(n){const r=t.map((e=>e.presence_ref)),s=n.map((e=>e.presence_ref)),o=t.filter((e=>s.indexOf(e.presence_ref)<0)),l=n.filter((e=>r.indexOf(e.presence_ref)<0));o.length>0&&(i[e]=o),l.length>0&&(a[e]=l)}else i[e]=t})),this.syncDiff(s,{joins:i,leaves:a},n,r)}static syncDiff(e,t,n,r){const{joins:s,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(s,((t,r)=>{var s;const o=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(r),o.length>0){const n=e[t].map((e=>e.presence_ref)),r=o.filter((e=>n.indexOf(e.presence_ref)<0));e[t].unshift(...r)}n(t,o,r)})),this.map(o,((t,n)=>{let s=e[t];if(!s)return;const o=n.map((e=>e.presence_ref));s=s.filter((e=>o.indexOf(e.presence_ref)<0)),e[t]=s,r(t,s,n),0===s.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((n=>t(n,e[n])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):r,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(Ur=Ir||(Ir={})).ALL="*",Ur.INSERT="INSERT",Ur.UPDATE="UPDATE",Ur.DELETE="DELETE",(zr=Fr||(Fr={})).BROADCAST="broadcast",zr.PRESENCE="presence",zr.POSTGRES_CHANGES="postgres_changes",zr.SYSTEM="system",(Br=$r||($r={})).SUBSCRIBED="SUBSCRIBED",Br.TIMED_OUT="TIMED_OUT",Br.CLOSED="CLOSED",Br.CHANNEL_ERROR="CHANNEL_ERROR";class qr{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=pr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Rr(this,mr.join,this.params,this.timeout),this.rejoinTimer=new Er((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=pr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pr.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=pr.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pr.errored,this.rejoinTimer.scheduleTimeout())})),this._on(mr.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new Wr(this),this.broadcastEndpointURL=Nr(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:i}}=this.params;this._onError((t=>null==e?void 0:e($r.CHANNEL_ERROR,t))),this._onClose((()=>null==e?void 0:e($r.CLOSED)));const a={},l={broadcast:s,presence:o,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map((e=>e.filter)))&&void 0!==r?r:[],private:i};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async({postgres_changes:t})=>{var n;if(this.socket.setAuth(),void 0!==t){const r=this.bindings.postgres_changes,s=null!==(n=null==r?void 0:r.length)&&void 0!==n?n:0,o=[];for(let n=0;n<s;n++){const s=r[n],{filter:{event:i,schema:a,table:l,filter:c}}=s,u=t&&t[n];if(!u||u.event!==i||u.schema!==a||u.table!==l||u.filter!==c)return this.unsubscribe(),void(null==e||e($r.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));o.push(Object.assign(Object.assign({},s),{id:u.id}))}return this.bindings.postgres_changes=o,void(e&&e($r.SUBSCRIBED))}null==e||e($r.SUBSCRIBED)})).receive("error",(t=>{null==e||e($r.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null==e||e($r.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise((n=>{var r,s,o;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(o=null===(s=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===s?void 0:s.broadcast)||void 0===o?void 0:o.ack)||n("ok"),i.receive("ok",(()=>n("ok"))),i.receive("error",(()=>n("error"))),i.receive("timeout",(()=>n("timed out")))}));{const{event:o,payload:i}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(s){return"AbortError"===s.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pr.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((n=>{const r=new Rr(this,mr.leave,{},e);r.receive("ok",(()=>{t(),n("ok")})).receive("timeout",(()=>{t(),n("timed out")})).receive("error",(()=>{n("error")})),r.send(),this._canPush()||r.trigger("ok",{})}))}async _fetchWithTimeout(e,t,n){const r=new AbortController,s=setTimeout((()=>r.abort()),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(s),o}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Rr(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,s;const o=e.toLocaleLowerCase(),{close:i,error:a,leave:l,join:c}=mr;if(n&&[i,a,l,c].indexOf(o)>=0&&n!==this._joinRef())return;let u=this._onMessage(o,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter((e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===o})).map((e=>e.callback(u,n))):null===(s=this.bindings[o])||void 0===s||s.filter((e=>{var n,r,s,i,a,l;if(["broadcast","presence","postgres_changes"].includes(o)){if("id"in e){const o=e.id,i=null===(n=e.filter)||void 0===n?void 0:n.event;return o&&(null===(r=t.ids)||void 0===r?void 0:r.includes(o))&&("*"===i||(null==i?void 0:i.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{const n=null===(a=null===(i=null==e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===n||n===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===o})).map((e=>{if("object"==typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:s,errors:o}=e,i={schema:t,table:n,commit_timestamp:r,eventType:s,new:{},old:{},errors:o};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,n)}))}_isClosed(){return this.state===pr.closed}_isJoined(){return this.state===pr.joined}_isJoining(){return this.state===pr.joining}_isLeaving(){return this.state===pr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),s={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter((e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&qr.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(mr.close,{},e)}_onError(e){this._on(mr.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Cr(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Cr(e.columns,e.old_record)),t}}const Hr=()=>{},Vr="undefined"!=typeof WebSocket;class Kr{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=ur,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Hr,this.conn=null,this.sendBuffer=[],this.serializer=new kr,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>an((async()=>{const{default:e}=await Promise.resolve().then((()=>Pn));return{default:e}}),void 0).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},this.endPoint=`${e}/${vr.websocket}`,this.httpEndpoint=Nr(e),(null==t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const r=null===(n=null==t?void 0:t.params)||void 0===n?void 0:n.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Er((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null==t?void 0:t.fetch),null==t?void 0:t.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null==t?void 0:t.worker)||!1,this.workerUrl=null==t?void 0:t.workerUrl}this.accessToken=(null==t?void 0:t.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if(Vr)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new Gr(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),an((async()=>{const{default:e}=await import("./browser-C8sj2BZ9.js").then((e=>e.b));return{default:e}}),__vite__mapDeps([0,1])).then((({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case dr.connecting:return yr.Connecting;case dr.open:return yr.Open;case dr.closing:return yr.Closing;default:return yr.Closed}}isConnected(){return this.connectionState()===yr.Open}channel(e,t={config:{}}){const n=new qr(`realtime:${e}`,t,this);return this.channels.push(n),n}push(e){const{topic:t,event:n,payload:r,ref:s}=e,o=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${t} ${n} (${s})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let e=null;try{e=JSON.parse(atob(t.split(".")[1]))}catch(n){}if(e&&e.exp){if(!(Math.floor(Date.now()/1e3)-e.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${e.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${e.exp}`)}this.accessTokenValue=t,this.channels.forEach((e=>{t&&e.updateJoinPayload({access_token:t}),e.joinedOnce&&e._isJoined()&&e._push(mr.access_token,{access_token:t})}))}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:n,payload:r,ref:s}=e;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${n} ${s&&"("+s+")"||""}`,r),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(n,r,s))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(mr.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class Gr{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=dr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Zr extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Yr(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class Qr extends Zr{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Jr extends Zr{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Xr=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((r=r.apply(e,t||[])).next())}))};const es=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>an((async()=>{const{default:e}=await Promise.resolve().then((()=>Pn));return{default:e}}),void 0).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},ts=e=>{if(Array.isArray(e))return e.map((e=>ts(e)));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((([e,n])=>{const r=e.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[r]=ts(n)})),t};var ns=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((r=r.apply(e,t||[])).next())}))};const rs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ss=(e,t,n)=>ns(void 0,void 0,void 0,(function*(){const r=yield Xr(void 0,void 0,void 0,(function*(){return"undefined"==typeof Response?(yield an((()=>Promise.resolve().then((()=>Pn))),void 0)).Response:Response}));e instanceof r&&!(null==n?void 0:n.noResolveJson)?e.json().then((n=>{t(new Qr(rs(n),e.status||500))})).catch((e=>{t(new Jr(rs(e),e))})):t(new Jr(rs(e),e))}));function os(e,t,n,r,s,o){return ns(this,void 0,void 0,(function*(){return new Promise(((i,a)=>{e(n,((e,t,n,r)=>{const s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))})(t,r,s,o)).then((e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?e:e.json()})).then((e=>i(e))).catch((e=>ss(e,a,r)))}))}))}function is(e,t,n,r){return ns(this,void 0,void 0,(function*(){return os(e,"GET",t,n,r)}))}function as(e,t,n,r,s){return ns(this,void 0,void 0,(function*(){return os(e,"POST",t,r,s,n)}))}function ls(e,t,n,r,s){return ns(this,void 0,void 0,(function*(){return os(e,"DELETE",t,r,s,n)}))}var cs=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((r=r.apply(e,t||[])).next())}))};const us={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ds={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hs{constructor(e,t={},n,r){this.url=e,this.headers=t,this.bucketId=n,this.fetch=es(r)}uploadOrUpdate(e,t,n,r){return cs(this,void 0,void 0,(function*(){try{let s;const o=Object.assign(Object.assign({},ds),r);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(o.upsert)});const a=o.metadata;"undefined"!=typeof Blob&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a)),s.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),a&&s.append("metadata",this.encodeMetadata(a))):(s=n,i["cache-control"]=`max-age=${o.cacheControl}`,i["content-type"]=o.contentType,a&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),(null==r?void 0:r.headers)&&(i=Object.assign(Object.assign({},i),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:s,headers:i},(null==o?void 0:o.duplex)?{duplex:o.duplex}:{})),d=yield u.json();if(u.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(s){if(Yr(s))return{data:null,error:s};throw s}}))}upload(e,t,n){return cs(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,n)}))}uploadToSignedUrl(e,t,n,r){return cs(this,void 0,void 0,(function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),i=new URL(this.url+`/object/upload/sign/${o}`);i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:ds.upsert},r),o=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,o["cache-control"]=`max-age=${t.cacheControl}`,o["content-type"]=t.contentType);const a=yield this.fetch(i.toString(),{method:"PUT",body:e,headers:o}),l=yield a.json();if(a.ok)return{data:{path:s,fullPath:l.Key},error:null};return{data:null,error:l}}catch(a){if(Yr(a))return{data:null,error:a};throw a}}))}createSignedUploadUrl(e,t){return cs(this,void 0,void 0,(function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(r["x-upsert"]="true");const s=yield as(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),o=new URL(this.url+s.url),i=o.searchParams.get("token");if(!i)throw new Zr("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:i},error:null}}catch(n){if(Yr(n))return{data:null,error:n};throw n}}))}update(e,t,n){return cs(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,n)}))}move(e,t,n){return cs(this,void 0,void 0,(function*(){try{return{data:yield as(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Yr(r))return{data:null,error:r};throw r}}))}copy(e,t,n){return cs(this,void 0,void 0,(function*(){try{return{data:{path:(yield as(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Yr(r))return{data:null,error:r};throw r}}))}createSignedUrl(e,t,n){return cs(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e),s=yield as(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null==n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const o=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(r){if(Yr(r))return{data:null,error:r};throw r}}))}createSignedUrls(e,t,n){return cs(this,void 0,void 0,(function*(){try{const r=yield as(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${s}`):null}))),error:null}}catch(r){if(Yr(r))return{data:null,error:r};throw r}}))}download(e,t){return cs(this,void 0,void 0,(function*(){const n=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),s=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield is(this.fetch,`${this.url}/${n}/${t}${s}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(o){if(Yr(o))return{data:null,error:o};throw o}}))}info(e){return cs(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{const e=yield is(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:ts(e),error:null}}catch(n){if(Yr(n))return{data:null,error:n};throw n}}))}exists(e){return cs(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return ns(this,void 0,void 0,(function*(){return os(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)}))}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Yr(n)&&n instanceof Jr){const e=n.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:n}}throw n}}))}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==s&&r.push(s);const o=void 0!==(null==t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==i&&r.push(i);let a=r.join("&");return""!==a&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${a}`)}}}remove(e){return cs(this,void 0,void 0,(function*(){try{return{data:yield ls(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Yr(t))return{data:null,error:t};throw t}}))}list(e,t,n){return cs(this,void 0,void 0,(function*(){try{const r=Object.assign(Object.assign(Object.assign({},us),t),{prefix:e||""});return{data:yield as(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Yr(r))return{data:null,error:r};throw r}}))}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const ps={"X-Client-Info":"storage-js/2.7.1"};var fs=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((r=r.apply(e,t||[])).next())}))};class ms{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},ps),t),this.fetch=es(n)}listBuckets(){return fs(this,void 0,void 0,(function*(){try{return{data:yield is(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Yr(e))return{data:null,error:e};throw e}}))}getBucket(e){return fs(this,void 0,void 0,(function*(){try{return{data:yield is(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Yr(t))return{data:null,error:t};throw t}}))}createBucket(e,t={public:!1}){return fs(this,void 0,void 0,(function*(){try{return{data:yield as(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Yr(n))return{data:null,error:n};throw n}}))}updateBucket(e,t){return fs(this,void 0,void 0,(function*(){try{const n=yield function(e,t,n,r,s){return ns(this,void 0,void 0,(function*(){return os(e,"PUT",t,r,s,n)}))}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(n){if(Yr(n))return{data:null,error:n};throw n}}))}emptyBucket(e){return fs(this,void 0,void 0,(function*(){try{return{data:yield as(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Yr(t))return{data:null,error:t};throw t}}))}deleteBucket(e){return fs(this,void 0,void 0,(function*(){try{return{data:yield ls(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Yr(t))return{data:null,error:t};throw t}}))}}class gs extends ms{constructor(e,t={},n){super(e,t,n)}from(e){return new hs(this.url,this.headers,e,this.fetch)}}let vs="";vs="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const ys={headers:{"X-Client-Info":`supabase-js-${vs}/2.49.1`}},bs={schema:"public"},ws={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xs={};var ks=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((r=r.apply(e,t||[])).next())}))};const Es=(e,t,n)=>{const r=(e=>{let t;return t=e||("undefined"==typeof fetch?Cn:fetch),(...e)=>t(...e)})(n),s="undefined"==typeof Headers?jn:Headers;return(n,o)=>ks(void 0,void 0,void 0,(function*(){var i;const a=null!==(i=yield t())&&void 0!==i?i:e;let l=new s(null==o?void 0:o.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${a}`),r(n,Object.assign(Object.assign({},o),{headers:l}))}))};var Cs=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((r=r.apply(e,t||[])).next())}))};const js="2.68.0",Ss=3e4,_s=9e4,Ps={"X-Client-Info":`gotrue-js/${js}`},Ls="X-Supabase-Api-Version",Os={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"};const Ms=()=>"undefined"!=typeof window&&"undefined"!=typeof document,Ts={tested:!1,writable:!1},Ns=()=>{if(!Ms())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(t){return!1}if(Ts.tested)return Ts.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ts.tested=!0,Ts.writable=!0}catch(t){Ts.tested=!0,Ts.writable=!1}return Ts.writable};const Rs=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>an((async()=>{const{default:e}=await Promise.resolve().then((()=>Pn));return{default:e}}),void 0).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},Ds=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},As=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},Is=async(e,t)=>{await e.removeItem(t)};class Us{constructor(){this.promise=new Us.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function Fs(e){const t=e.split(".");if(3!==t.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=t[1];return JSON.parse(function(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n,r,s,o,i,a,l,c="",u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)o=t.indexOf(e.charAt(u++)),i=t.indexOf(e.charAt(u++)),a=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),n=o<<2|i>>4,r=(15&i)<<4|a>>2,s=(3&a)<<6|l,c+=String.fromCharCode(n),64!=a&&0!=r&&(c+=String.fromCharCode(r)),64!=l&&0!=s&&(c+=String.fromCharCode(s));return c}(n))}function zs(e){return("0"+e.toString(16)).substr(-2)}async function $s(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bs(e,t,n=!1){const r=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,zs).join("")}();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ds(e,`${t}-code-verifier`,s);const o=await $s(r);return[o,r===o?"plain":"s256"]}Us.promiseConstructor=Promise;const Ws=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;class qs extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Hs(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class Vs extends qs{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class Ks extends qs{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Gs extends qs{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class Zs extends Gs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Ys extends Gs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qs extends Gs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Js extends Gs{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xs extends Gs{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eo extends Gs{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function to(e){return Hs(e)&&"AuthRetryableFetchError"===e.name}class no extends Gs{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}const ro=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),so=[502,503,504];async function oo(e){var t,n;if(!("object"==typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"==typeof n.json))throw new eo(ro(e),0);if(so.includes(e.status))throw new eo(ro(e),e.status);let r,s;try{r=await e.json()}catch(i){throw new Ks(ro(i),i)}const o=function(e){const t=e.headers.get(Ls);if(!t)return null;if(!t.match(Ws))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(i){return null}}(e);if(o&&o.getTime()>=Os.timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?s=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(s=r.error_code),s){if("weak_password"===s)throw new no(ro(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===s)throw new Zs}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce(((e,t)=>e&&"string"==typeof t),!0))throw new no(ro(r),e.status,r.weak_password.reasons);throw new Vs(ro(r),e.status||500,s)}async function io(e,t,n,r){var s;const o=Object.assign({},null==r?void 0:r.headers);o[Ls]||(o[Ls]=Os.name),(null==r?void 0:r.jwt)&&(o.Authorization=`Bearer ${r.jwt}`);const i=null!==(s=null==r?void 0:r.query)&&void 0!==s?s:{};(null==r?void 0:r.redirectTo)&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,n,r,s,o){const i=((e,t,n,r)=>{const s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))})(t,r,s,o);let a;try{a=await e(n,Object.assign({},i))}catch(l){throw console.error(l),new eo(ro(l),0)}a.ok||await oo(a);if(null==r?void 0:r.noResolveJson)return a;try{return await a.json()}catch(l){await oo(l)}}(e,t,n+a,{headers:o,noResolveJson:null==r?void 0:r.noResolveJson},{},null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function ao(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function lo(e){const t=ao(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"==typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function co(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function uo(e){return{data:e,error:null}}function ho(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},user:Object.assign({},i)},error:null}}function po(e){return e}class fo{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Rs(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await io(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Hs(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await io(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:co})}catch(n){if(Hs(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null==n?void 0:n.newEmail,delete r.newEmail),await io(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:ho,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(Hs(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await io(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:co})}catch(t){if(Hs(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,s,o,i,a;try{const l={nextPage:null,lastPage:0,total:0},c=await io(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(s=null===(r=null==e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==s?s:""},xform:po});if(c.error)throw c.error;const u=await c.json(),d=null!==(o=c.headers.get("x-total-count"))&&void 0!==o?o:0,h=null!==(a=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==a?a:[];return h.length>0&&(h.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t})),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(Hs(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await io(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:co})}catch(t){if(Hs(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await io(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:co})}catch(n){if(Hs(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){try{return await io(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:co})}catch(n){if(Hs(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await io(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(Hs(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await io(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Hs(t))return{data:null,error:t};throw t}}}const mo={getItem:e=>Ns()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ns()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ns()&&globalThis.localStorage.removeItem(e)}};function go(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const vo=!!(globalThis&&Ns()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class yo extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class bo extends yo{}async function wo(e,t,n){vo&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout((()=>{r.abort(),vo&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)}),t),await Promise.resolve().then((()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},(async r=>{if(!r){if(0===t)throw vo&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new bo(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(vo)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}vo&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{vo&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const xo={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ps,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ko(e,t,n){return await n()}class Eo{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Eo.nextInstanceID,Eo.nextInstanceID+=1,this.instanceID>0&&Ms()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},xo),e);if(this.logDebugMessages=!!r.debug,"function"==typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new fo({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Rs(r.fetch),this.lock=r.lock||ko,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Ms()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=wo:this.lock=ko,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Ns()?this.storage=mo:(this.memoryStorage={},this.storage=go(this.memoryStorage)):(this.memoryStorage={},this.storage=go(this.memoryStorage)),Ms()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${js}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach(((e,n)=>{t[n]=e}))}catch(r){}return n.searchParams.forEach(((e,n)=>{t[n]=e})),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Ms()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:s}=await this._getSessionFromURL(t,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),function(e){return Hs(e)&&"AuthImplicitGrantRedirectError"===e.name}(s)){const t=null===(e=s.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",i),await this._saveSession(o),setTimeout((async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Hs(t)?{error:t}:{error:new Ks("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const s=await io(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:ao}),{data:o,error:i}=s;if(i||!o)return{data:{user:null,session:null},error:i};const a=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(s){if(Hs(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,n,r;try{let s;if("email"in e){const{email:n,password:r,options:o}=e;let i=null,a=null;"pkce"===this.flowType&&([i,a]=await Bs(this.storage,this.storageKey)),s=await io(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==o?void 0:o.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null==o?void 0:o.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken},code_challenge:i,code_challenge_method:a},xform:ao})}else{if(!("phone"in e))throw new Qs("You must provide either an email or phone number and a password");{const{phone:t,password:o,options:i}=e;s=await io(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:o,data:null!==(n=null==i?void 0:i.data)&&void 0!==n?n:{},channel:null!==(r=null==i?void 0:i.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:ao})}}const{data:o,error:i}=s;if(i||!o)return{data:{user:null,session:null},error:i};const a=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(s){if(Hs(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:s}=e;t=await io(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:lo})}else{if(!("phone"in e))throw new Qs("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:s}=e;t=await io(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:lo})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new Ys}}catch(t){if(Hs(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await As(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!=t?t:"").split("/");try{const{data:t,error:s}=await io(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ao});if(await Is(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=r?r:null}),error:s}):{data:{user:null,session:null,redirectType:null},error:new Ys}}catch(s){if(Hs(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:s,nonce:o}=e,i=await io(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:ao}),{data:a,error:l}=i;return l?{data:{user:null,session:null},error:l}:a&&a.session&&a.user?(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:l}):{data:{user:null,session:null},error:new Ys}}catch(t){if(Hs(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,s,o;try{if("email"in e){const{email:r,options:s}=e;let o=null,i=null;"pkce"===this.flowType&&([o,i]=await Bs(this.storage,this.storageKey));const{error:a}=await io(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(n=null==s?void 0:s.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:o,code_challenge_method:i},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:t,options:n}=e,{data:i,error:a}=await io(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null==n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(s=null==n?void 0:n.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},channel:null!==(o=null==n?void 0:n.channel)&&void 0!==o?o:"sms"}});return{data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:a}}throw new Qs("You must provide either an email or phone number.")}catch(i){if(Hs(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,n;try{let r,s;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:o,error:i}=await io(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:ao});if(i)throw i;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,l=o.user;return(null==a?void 0:a.access_token)&&(await this._saveSession(a),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(r){if(Hs(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let s=null,o=null;return"pkce"===this.flowType&&([s,o]=await Bs(this.storage,this.storageKey)),await io(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:uo})}catch(s){if(Hs(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Zs;const{error:r}=await io(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}}))}catch(e){if(Hs(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:s}=e,{error:o}=await io(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:n,type:r,options:s}=e,{data:o,error:i}=await io(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:i}}throw new Qs("You must provide either an email or phone number and a type")}catch(t){if(Hs(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await As(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<_s;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await io(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:co}):await this._useSession((async e=>{var t,n,r;const{data:s,error:o}=e;if(o)throw o;return(null===(t=s.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await io(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:co}):{data:{user:null},error:new Zs}}))}catch(t){if(Hs(t))return function(e){return Hs(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Is(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e,t={}){try{return await this._useSession((async n=>{const{data:r,error:s}=n;if(s)throw s;if(!r.session)throw new Zs;const o=r.session;let i=null,a=null;"pkce"===this.flowType&&null!=e.email&&([i,a]=await Bs(this.storage,this.storageKey));const{data:l,error:c}=await io(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:a}),jwt:o.access_token,xform:co});if(c)throw c;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}}))}catch(n){if(Hs(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return Fs(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Zs;const t=Date.now()/1e3;let n=t,r=!0,s=null;const o=Fs(e.access_token);if(o.exp&&(n=o.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};s=t}else{const{data:r,error:o}=await this._getUser(e.access_token);if(o)throw o;s={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(Hs(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var n;if(!e){const{data:r,error:s}=t;if(s)throw s;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null==e?void 0:e.refresh_token))throw new Zs;const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(Hs(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Ms())throw new Js("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Js(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Xs("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Js("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Xs("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:s,refresh_token:o,expires_in:i,expires_at:a,token_type:l}=e;if(!(s&&i&&o&&l))throw new Js("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(i);let d=c+u;a&&(d=parseInt(a));const h=d-c;1e3*h<=Ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${u}s`);const p=d-u;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,c);const{data:f,error:m}=await this._getUser(s);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:s,expires_in:u,expires_at:d,refresh_token:o,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(Hs(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await As(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut({scope:e}={scope:"global"}){return await this._useSession((async t=>{var n;const{data:r,error:s}=t;if(s)return{error:s};const o=null===(n=r.session)||void 0===n?void 0:n.access_token;if(o){const{error:t}=await this.admin.signOut(o,e);if(t&&(!function(e){return Hs(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Is(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession((async t=>{var n,r;try{const{data:{session:r},error:s}=t;if(s)throw s;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(s){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))}async resetPasswordForEmail(e,t={}){let n=null,r=null;"pkce"===this.flowType&&([n,r]=await Bs(this.storage,this.storageKey,!0));try{return await io(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(Hs(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(Hs(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession((async t=>{var n,r,s,o,i;const{data:a,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:!0});return await io(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(o=a.session)||void 0===o?void 0:o.access_token)&&void 0!==i?i:void 0})}));if(r)throw r;return Ms()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==n?void 0:n.url),{data:{provider:e.provider,url:null==n?void 0:n.url},error:null}}catch(n){if(Hs(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var n,r;const{data:s,error:o}=t;if(o)throw o;return await io(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=s.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})}))}catch(t){if(Hs(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await io(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ao})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&to(t)&&Date.now()+n-s<Ss},new Promise(((e,t)=>{(async()=>{for(let o=0;o<1/0;o++)try{const t=await n(o);if(!r(o,null,t))return void e(t)}catch(s){if(!r(o,s))return void t(s)}})()})))}catch(s){if(this._debug(t,"error",s),Hs(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Ms()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await As(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n))return this._debug(t,"session is not valid"),void(null!==n&&await this._removeSession());const r=1e3*(null!==(e=n.expires_at)&&void 0!==e?e:1/0)-Date.now()<_s;if(this._debug(t,`session has${r?"":" not"} expired with margin of 90000s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),to(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return this._debug(t,"error",n),void console.error(n)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Zs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Us;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new Zs;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(s){if(this._debug(r,"error",s),Hs(s)){const e={session:null,error:s};return to(s)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],s=Array.from(this.stateChangeEmitters.values()).map((async n=>{try{await n.callback(e,t)}catch(s){r.push(s)}}));if(await Promise.all(s),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ds(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Is(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ms()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),Ss);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const t=Date.now();try{return await this._useSession((async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/Ss);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)}))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof yo))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ms()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if((null==n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null==n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=await Bs(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(null==n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null==n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await io(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(Hs(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession((async t=>{var n,r;const{data:s,error:o}=t;if(o)return{data:null,error:o};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:l}=await io(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:null===(n=null==s?void 0:s.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null==a?void 0:a.totp)||void 0===r?void 0:r.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})}))}catch(t){if(Hs(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;if(s)return{data:null,error:s};const{data:o,error:i}=await io(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:i})}))}catch(t){if(Hs(t))return{data:null,error:t};throw t}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:s}=t;return s?{data:null,error:s}:await io(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(Hs(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null==e?void 0:e.factors)||[],r=n.filter((e=>"totp"===e.factor_type&&"verified"===e.status)),s=n.filter((e=>"phone"===e.factor_type&&"verified"===e.status));return{data:{all:n,totp:r,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,n;const{data:{session:r},error:s}=e;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(r.access_token);let i=null;o.aal&&(i=o.aal);let a=i;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==n?n:[]).length>0&&(a="aal2");return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:o.amr||[]},error:null}}))))}}Eo.nextInstanceID=0;const Co=Eo;class jo extends Co{constructor(e){super(e)}}var So=function(e,t,n,r){return new(n||(n=Promise))((function(s,o){function i(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((r=r.apply(e,t||[])).next())}))};class _o{constructor(e,t,n){var r,s,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=e.replace(/\/$/,"");this.realtimeUrl=`${i}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${i}/auth/v1`,this.storageUrl=`${i}/storage/v1`,this.functionsUrl=`${i}/functions/v1`;const a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l=function(e,t){const{db:n,auth:r,realtime:s,global:o}=e,{db:i,auth:a,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},i),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),o),accessToken:()=>Cs(this,void 0,void 0,(function*(){return""}))};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}(null!=n?n:{},{db:bs,realtime:xs,auth:Object.assign(Object.assign({},ws),{storageKey:a}),global:ys});this.storageKey=null!==(r=l.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(s=l.global.headers)&&void 0!==s?s:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(o=l.auth)&&void 0!==o?o:{},this.headers,l.global.fetch),this.fetch=Es(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new sr(`${i}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new mn(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new gs(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return So(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,storageKey:s,flowType:o,lock:i,debug:a},l,c){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jo({url:this.authUrl,headers:Object.assign(Object.assign({},u),l),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,flowType:o,lock:i,debug:a,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Kr(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)}))}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}const Po=(...e)=>{console.info("[INFO]",...e)},Lo=(...e)=>{console.error("[ERROR]",...e)},Oo=((e,t,n)=>new _o(e,t,n))("your_supabase_url","your_supabase_anon_key",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},db:{schema:"public"}});Oo.auth.getSession().then((({data:e,error:t})=>{t?Lo("[Supabase] Session error:",t):e.session}));const Mo=Pe.createContext({user:null,session:null,signOut:async()=>{}}),To=({children:e})=>{const[t,n]=Pe.useState(null),[r,s]=Pe.useState(null),[o,i]=Pe.useState(!0),a=Te();Pe.useEffect((()=>{Po("[AuthProvider] Initialization"),Oo.auth.getSession().then((({data:{session:e}})=>{var t;null==(t=null==e?void 0:e.user)||t.id,(null==e?void 0:e.user)?(e.user.id,e.user.email,e.user.last_sign_in_at,n(e.user)):Po("[AuthProvider] No initial user found"),s(e),i(!1)}));const{data:{subscription:e}}=Oo.auth.onAuthStateChange(((e,t)=>{var r;null==(r=null==t?void 0:t.user)||r.id,n((null==t?void 0:t.user)??null),s(t)}));return()=>{e.unsubscribe()}}),[]);return o?Qe.jsx("div",{children:"Loading..."}):(Po("[AuthProvider] Ready:",{hasUser:!!t,userId:null==t?void 0:t.id,hasSession:!!r}),Qe.jsx(Mo.Provider,{value:{user:t,session:r,signOut:async()=>{Po("[AuthProvider] Signing out user:",null==t?void 0:t.id),await Oo.auth.signOut(),a("/auth")}},children:e}))},No=()=>{const e=Pe.useContext(Mo);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};let Ro=0;const Do=new Map,Ao=e=>{if(Do.has(e))return;const t=setTimeout((()=>{Do.delete(e),zo({type:"REMOVE_TOAST",toastId:e})}),1e6);Do.set(e,t)},Io=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Ao(n):e.toasts.forEach((e=>{Ao(e.id)})),{...e,toasts:e.toasts.map((e=>e.id===n||void 0===n?{...e,open:!1}:e))}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))}}},Uo=[];let Fo={toasts:[]};function zo(e){Fo=Io(Fo,e),Uo.forEach((e=>{e(Fo)}))}function $o({...e}){const t=(Ro=(Ro+1)%Number.MAX_SAFE_INTEGER,Ro.toString()),n=()=>zo({type:"DISMISS_TOAST",toastId:t});return zo({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||n()}}}),{id:t,dismiss:n,update:e=>zo({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function Bo(){const[e,t]=Pe.useState(Fo);return Pe.useEffect((()=>(Uo.push(t),()=>{const e=Uo.indexOf(t);e>-1&&Uo.splice(e,1)})),[e]),{...e,toast:$o,dismiss:e=>zo({type:"DISMISS_TOAST",toastId:e})}}function Wo(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}function qo(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Ho(...e){return t=>{let n=!1;const r=e.map((e=>{const r=qo(e,t);return n||"function"!=typeof r||(n=!0),r}));if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():qo(e[t],null)}}}}function Vo(...e){return Pe.useCallback(Ho(...e),e)}function Ko(e,t=[]){let n=[];const r=()=>{const t=n.map((e=>Pe.createContext(e)));return function(n){const r=(null==n?void 0:n[e])||t;return Pe.useMemo((()=>({[`__scope${e}`]:{...n,[e]:r}})),[n,r])}};return r.scopeName=e,[function(t,r){const s=Pe.createContext(r),o=n.length;n=[...n,r];const i=t=>{var n;const{scope:r,children:i,...a}=t,l=(null==(n=null==r?void 0:r[e])?void 0:n[o])||s,c=Pe.useMemo((()=>a),Object.values(a));return Qe.jsx(l.Provider,{value:c,children:i})};return i.displayName=t+"Provider",[i,function(n,i){var a;const l=(null==(a=null==i?void 0:i[e])?void 0:a[o])||s,c=Pe.useContext(l);if(c)return c;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},Go(r,...t)]}function Go(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const r=n.reduce(((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]})),{});return Pe.useMemo((()=>({[`__scope${t.scopeName}`]:r})),[r])}};return n.scopeName=t.scopeName,n}var Zo=Pe.forwardRef(((e,t)=>{const{children:n,...r}=e,s=Pe.Children.toArray(n),o=s.find(Jo);if(o){const e=o.props.children,n=s.map((t=>t===o?Pe.Children.count(e)>1?Pe.Children.only(null):Pe.isValidElement(e)?e.props.children:null:t));return Qe.jsx(Yo,{...r,ref:t,children:Pe.isValidElement(e)?Pe.cloneElement(e,void 0,n):null})}return Qe.jsx(Yo,{...r,ref:t,children:n})}));Zo.displayName="Slot";var Yo=Pe.forwardRef(((e,t)=>{const{children:n,...r}=e;if(Pe.isValidElement(n)){const e=function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,s=r&&"isReactWarning"in r&&r.isReactWarning;if(s)return e.ref;if(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s)return e.props.ref;return e.props.ref||e.ref}(n),s=function(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...e)=>{o(...e),s(...e)}:s&&(n[r]=s):"style"===r?n[r]={...s,...o}:"className"===r&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==Pe.Fragment&&(s.ref=t?Ho(t,e):e),Pe.cloneElement(n,s)}return Pe.Children.count(n)>1?Pe.Children.only(null):null}));Yo.displayName="SlotClone";var Qo=({children:e})=>Qe.jsx(Qe.Fragment,{children:e});function Jo(e){return Pe.isValidElement(e)&&e.type===Qo}function Xo(e){const t=e+"CollectionProvider",[n,r]=Ko(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=e=>{const{scope:t,children:n}=e,r=Ne.useRef(null),o=Ne.useRef(new Map).current;return Qe.jsx(s,{scope:t,itemMap:o,collectionRef:r,children:n})};i.displayName=t;const a=e+"CollectionSlot",l=Ne.forwardRef(((e,t)=>{const{scope:n,children:r}=e,s=Vo(t,o(a,n).collectionRef);return Qe.jsx(Zo,{ref:s,children:r})}));l.displayName=a;const c=e+"CollectionItemSlot",u="data-radix-collection-item",d=Ne.forwardRef(((e,t)=>{const{scope:n,children:r,...s}=e,i=Ne.useRef(null),a=Vo(t,i),l=o(c,n);return Ne.useEffect((()=>(l.itemMap.set(i,{ref:i,...s}),()=>{l.itemMap.delete(i)}))),Qe.jsx(Zo,{[u]:"",ref:a,children:r})}));return d.displayName=c,[{Provider:i,Slot:l,ItemSlot:d},function(t){const n=o(e+"CollectionConsumer",t);return Ne.useCallback((()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${u}]`));return Array.from(n.itemMap.values()).sort(((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current)))}),[n.collectionRef,n.itemMap])},r]}var ei=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const n=Pe.forwardRef(((e,n)=>{const{asChild:r,...s}=e,o=r?Zo:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),Qe.jsx(o,{...s,ref:n})}));return n.displayName=`Primitive.${t}`,{...e,[t]:n}}),{});function ti(e,t){e&&Le.flushSync((()=>e.dispatchEvent(t)))}function ni(e){const t=Pe.useRef(e);return Pe.useEffect((()=>{t.current=e})),Pe.useMemo((()=>(...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)}),[])}var ri,si="dismissableLayer.update",oi="dismissableLayer.pointerDownOutside",ii="dismissableLayer.focusOutside",ai=Pe.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),li=Pe.forwardRef(((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,c=Pe.useContext(ai),[u,d]=Pe.useState(null),h=(null==u?void 0:u.ownerDocument)??(null==globalThis?void 0:globalThis.document),[,p]=Pe.useState({}),f=Vo(t,(e=>d(e))),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(g),y=u?m.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,w=y>=v,x=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=ni(e),r=Pe.useRef(!1),s=Pe.useRef((()=>{}));return Pe.useEffect((()=>{const e=e=>{if(e.target&&!r.current){let r=function(){di(oi,n,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",s.current),s.current=r,t.addEventListener("click",s.current,{once:!0})):r()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",e),t.removeEventListener("click",s.current)}}),[t,n]),{onPointerDownCapture:()=>r.current=!0}}((e=>{const t=e.target,n=[...c.branches].some((e=>e.contains(t)));w&&!n&&(null==s||s(e),null==i||i(e),e.defaultPrevented||null==a||a())}),h),k=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=ni(e),r=Pe.useRef(!1);return Pe.useEffect((()=>{const e=e=>{if(e.target&&!r.current){di(ii,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}((e=>{const t=e.target;[...c.branches].some((e=>e.contains(t)))||(null==o||o(e),null==i||i(e),e.defaultPrevented||null==a||a())}),h);return function(e,t=(null==globalThis?void 0:globalThis.document)){const n=ni(e);Pe.useEffect((()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})}),[n,t])}((e=>{y===c.layers.size-1&&(null==r||r(e),!e.defaultPrevented&&a&&(e.preventDefault(),a()))}),h),Pe.useEffect((()=>{if(u)return n&&(0===c.layersWithOutsidePointerEventsDisabled.size&&(ri=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),ui(),()=>{n&&1===c.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=ri)}}),[u,h,n,c]),Pe.useEffect((()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),ui())}),[u,c]),Pe.useEffect((()=>{const e=()=>p({});return document.addEventListener(si,e),()=>document.removeEventListener(si,e)}),[]),Qe.jsx(ei.div,{...l,ref:f,style:{pointerEvents:b?w?"auto":"none":void 0,...e.style},onFocusCapture:Wo(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Wo(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Wo(e.onPointerDownCapture,x.onPointerDownCapture)})}));li.displayName="DismissableLayer";var ci=Pe.forwardRef(((e,t)=>{const n=Pe.useContext(ai),r=Pe.useRef(null),s=Vo(t,r);return Pe.useEffect((()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}}),[n.branches]),Qe.jsx(ei.div,{...e,ref:s})}));function ui(){const e=new CustomEvent(si);document.dispatchEvent(e)}function di(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?ti(s,o):s.dispatchEvent(o)}ci.displayName="DismissableLayerBranch";var hi=li,pi=ci,fi=Boolean(null==globalThis?void 0:globalThis.document)?Pe.useLayoutEffect:()=>{},mi=Pe.forwardRef(((e,t)=>{var n;const{container:r,...s}=e,[o,i]=Pe.useState(!1);fi((()=>i(!0)),[]);const a=r||o&&(null==(n=null==globalThis?void 0:globalThis.document)?void 0:n.body);return a?Re.createPortal(Qe.jsx(ei.div,{...s,ref:t}),a):null}));mi.displayName="Portal";var gi=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=Pe.useState(),r=Pe.useRef({}),s=Pe.useRef(e),o=Pe.useRef("none"),i=e?"mounted":"unmounted",[a,l]=function(e,t){return Pe.useReducer(((e,n)=>t[e][n]??e),e)}(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Pe.useEffect((()=>{const e=vi(r.current);o.current="mounted"===a?e:"none"}),[a]),fi((()=>{const t=r.current,n=s.current;if(n!==e){const r=o.current,i=vi(t);if(e)l("MOUNT");else if("none"===i||"none"===(null==t?void 0:t.display))l("UNMOUNT");else{l(n&&r!==i?"ANIMATION_OUT":"UNMOUNT")}s.current=e}}),[e,l]),fi((()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,i=o=>{const i=vi(r.current).includes(o.animationName);if(o.target===t&&i&&(l("ANIMATION_END"),!s.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout((()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)}))}},a=e=>{e.target===t&&(o.current=vi(r.current))};return t.addEventListener("animationstart",a),t.addEventListener("animationcancel",i),t.addEventListener("animationend",i),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",a),t.removeEventListener("animationcancel",i),t.removeEventListener("animationend",i)}}l("ANIMATION_END")}),[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:Pe.useCallback((e=>{e&&(r.current=getComputedStyle(e)),n(e)}),[])}}(t),s="function"==typeof n?n({present:r.isPresent}):Pe.Children.only(n),o=Vo(r.ref,function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,s=r&&"isReactWarning"in r&&r.isReactWarning;if(s)return e.ref;if(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s)return e.props.ref;return e.props.ref||e.ref}(s));return"function"==typeof n||r.isPresent?Pe.cloneElement(s,{ref:o}):null};function vi(e){return(null==e?void 0:e.animationName)||"none"}function yi({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=function({defaultProp:e,onChange:t}){const n=Pe.useState(e),[r]=n,s=Pe.useRef(r),o=ni(t);return Pe.useEffect((()=>{s.current!==r&&(o(r),s.current=r)}),[r,s,o]),n}({defaultProp:t,onChange:n}),o=void 0!==e,i=o?e:r,a=ni(n);return[i,Pe.useCallback((t=>{if(o){const n="function"==typeof t?t(e):t;n!==e&&a(n)}else s(t)}),[o,e,s,a])]}gi.displayName="Presence";var bi=Pe.forwardRef(((e,t)=>Qe.jsx(ei.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));bi.displayName="VisuallyHidden";var wi="ToastProvider",[xi,ki,Ei]=Xo("Toast"),[Ci,ji]=Ko("Toast",[Ei]),[Si,_i]=Ci(wi),Pi=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,l]=Pe.useState(null),[c,u]=Pe.useState(0),d=Pe.useRef(!1),h=Pe.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${wi}\`. Expected non-empty \`string\`.`),Qe.jsx(xi.Provider,{scope:t,children:Qe.jsx(Si,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:Pe.useCallback((()=>u((e=>e+1))),[]),onToastRemove:Pe.useCallback((()=>u((e=>e-1))),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:i})})};Pi.displayName=wi;var Li="ToastViewport",Oi=["F8"],Mi="toast.viewportPause",Ti="toast.viewportResume",Ni=Pe.forwardRef(((e,t)=>{const{__scopeToast:n,hotkey:r=Oi,label:s="Notifications ({hotkey})",...o}=e,i=_i(Li,n),a=ki(n),l=Pe.useRef(null),c=Pe.useRef(null),u=Pe.useRef(null),d=Pe.useRef(null),h=Vo(t,d,i.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),f=i.toastCount>0;Pe.useEffect((()=>{const e=e=>{var t;0!==r.length&&r.every((t=>e[t]||e.code===t))&&(null==(t=d.current)||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[r]),Pe.useEffect((()=>{const e=l.current,t=d.current;if(f&&e&&t){const n=()=>{if(!i.isClosePausedRef.current){const e=new CustomEvent(Mi);t.dispatchEvent(e),i.isClosePausedRef.current=!0}},r=()=>{if(i.isClosePausedRef.current){const e=new CustomEvent(Ti);t.dispatchEvent(e),i.isClosePausedRef.current=!1}},s=t=>{!e.contains(t.relatedTarget)&&r()},o=()=>{e.contains(document.activeElement)||r()};return e.addEventListener("focusin",n),e.addEventListener("focusout",s),e.addEventListener("pointermove",n),e.addEventListener("pointerleave",o),window.addEventListener("blur",n),window.addEventListener("focus",r),()=>{e.removeEventListener("focusin",n),e.removeEventListener("focusout",s),e.removeEventListener("pointermove",n),e.removeEventListener("pointerleave",o),window.removeEventListener("blur",n),window.removeEventListener("focus",r)}}}),[f,i.isClosePausedRef]);const m=Pe.useCallback((({tabbingDirection:e})=>{const t=a().map((t=>{const n=t.ref.current,r=[n,...Ji(n)];return"forwards"===e?r:r.reverse()}));return("forwards"===e?t.reverse():t).flat()}),[a]);return Pe.useEffect((()=>{const e=d.current;if(e){const t=t=>{var n,r,s;const o=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!o){const o=document.activeElement,i=t.shiftKey;if(t.target===e&&i)return void(null==(n=c.current)||n.focus());const a=m({tabbingDirection:i?"backwards":"forwards"}),l=a.findIndex((e=>e===o));Xi(a.slice(l+1))?t.preventDefault():i?null==(r=c.current)||r.focus():null==(s=u.current)||s.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}}),[a,m]),Qe.jsxs(pi,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:f?void 0:"none"},children:[f&&Qe.jsx(Di,{ref:c,onFocusFromOutsideViewport:()=>{Xi(m({tabbingDirection:"forwards"}))}}),Qe.jsx(xi.Slot,{scope:n,children:Qe.jsx(ei.ol,{tabIndex:-1,...o,ref:h})}),f&&Qe.jsx(Di,{ref:u,onFocusFromOutsideViewport:()=>{Xi(m({tabbingDirection:"backwards"}))}})]})}));Ni.displayName=Li;var Ri="ToastFocusProxy",Di=Pe.forwardRef(((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=_i(Ri,n);return Qe.jsx(bi,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:e=>{var t;const n=e.relatedTarget;!(null==(t=o.viewport)?void 0:t.contains(n))&&r()}})}));Di.displayName=Ri;var Ai="Toast",Ii=Pe.forwardRef(((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=e,[a=!0,l]=yi({prop:r,defaultProp:s,onChange:o});return Qe.jsx(gi,{present:n||a,children:Qe.jsx(zi,{open:a,...i,ref:t,onClose:()=>l(!1),onPause:ni(e.onPause),onResume:ni(e.onResume),onSwipeStart:Wo(e.onSwipeStart,(e=>{e.currentTarget.setAttribute("data-swipe","start")})),onSwipeMove:Wo(e.onSwipeMove,(e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${n}px`)})),onSwipeCancel:Wo(e.onSwipeCancel,(e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")})),onSwipeEnd:Wo(e.onSwipeEnd,(e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${n}px`),l(!1)}))})})}));Ii.displayName=Ai;var[Ui,Fi]=Ci(Ai,{onClose(){}}),zi=Pe.forwardRef(((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:p,...f}=e,m=_i(Ai,n),[g,v]=Pe.useState(null),y=Vo(t,(e=>v(e))),b=Pe.useRef(null),w=Pe.useRef(null),x=s||m.duration,k=Pe.useRef(0),E=Pe.useRef(x),C=Pe.useRef(0),{onToastAdd:j,onToastRemove:S}=m,_=ni((()=>{var e;(null==g?void 0:g.contains(document.activeElement))&&(null==(e=m.viewport)||e.focus()),i()})),P=Pe.useCallback((e=>{e&&e!==1/0&&(window.clearTimeout(C.current),k.current=(new Date).getTime(),C.current=window.setTimeout(_,e))}),[_]);Pe.useEffect((()=>{const e=m.viewport;if(e){const t=()=>{P(E.current),null==c||c()},n=()=>{const e=(new Date).getTime()-k.current;E.current=E.current-e,window.clearTimeout(C.current),null==l||l()};return e.addEventListener(Mi,n),e.addEventListener(Ti,t),()=>{e.removeEventListener(Mi,n),e.removeEventListener(Ti,t)}}}),[m.viewport,x,l,c,P]),Pe.useEffect((()=>{o&&!m.isClosePausedRef.current&&P(x)}),[o,x,m.isClosePausedRef,P]),Pe.useEffect((()=>(j(),()=>S())),[j,S]);const L=Pe.useMemo((()=>g?Zi(g):null),[g]);return m.viewport?Qe.jsxs(Qe.Fragment,{children:[L&&Qe.jsx($i,{__scopeToast:n,role:"status","aria-live":"foreground"===r?"assertive":"polite","aria-atomic":!0,children:L}),Qe.jsx(Ui,{scope:n,onClose:_,children:Le.createPortal(Qe.jsx(xi.ItemSlot,{scope:n,children:Qe.jsx(hi,{asChild:!0,onEscapeKeyDown:Wo(a,(()=>{m.isFocusedToastEscapeKeyDownRef.current||_(),m.isFocusedToastEscapeKeyDownRef.current=!1})),children:Qe.jsx(ei.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":m.swipeDirection,...f,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Wo(e.onKeyDown,(e=>{"Escape"===e.key&&(null==a||a(e.nativeEvent),e.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,_()))})),onPointerDown:Wo(e.onPointerDown,(e=>{0===e.button&&(b.current={x:e.clientX,y:e.clientY})})),onPointerMove:Wo(e.onPointerMove,(e=>{if(!b.current)return;const t=e.clientX-b.current.x,n=e.clientY-b.current.y,r=Boolean(w.current),s=["left","right"].includes(m.swipeDirection),o=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,i=s?o(0,t):0,a=s?0:o(0,n),l="touch"===e.pointerType?10:2,c={x:i,y:a},h={originalEvent:e,delta:c};r?(w.current=c,Yi("toast.swipeMove",d,h,{discrete:!1})):Qi(c,m.swipeDirection,l)?(w.current=c,Yi("toast.swipeStart",u,h,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(n)>l)&&(b.current=null)})),onPointerUp:Wo(e.onPointerUp,(e=>{const t=w.current,n=e.target;if(n.hasPointerCapture(e.pointerId)&&n.releasePointerCapture(e.pointerId),w.current=null,b.current=null,t){const n=e.currentTarget,r={originalEvent:e,delta:t};Qi(t,m.swipeDirection,m.swipeThreshold)?Yi("toast.swipeEnd",p,r,{discrete:!0}):Yi("toast.swipeCancel",h,r,{discrete:!0}),n.addEventListener("click",(e=>e.preventDefault()),{once:!0})}}))})})}),m.viewport)})]}):null})),$i=e=>{const{__scopeToast:t,children:n,...r}=e,s=_i(Ai,t),[o,i]=Pe.useState(!1),[a,l]=Pe.useState(!1);return function(e=()=>{}){const t=ni(e);fi((()=>{let e=0,n=0;return e=window.requestAnimationFrame((()=>n=window.requestAnimationFrame(t))),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(n)}}),[t])}((()=>i(!0))),Pe.useEffect((()=>{const e=window.setTimeout((()=>l(!0)),1e3);return()=>window.clearTimeout(e)}),[]),a?null:Qe.jsx(mi,{asChild:!0,children:Qe.jsx(bi,{...r,children:o&&Qe.jsxs(Qe.Fragment,{children:[s.label," ",n]})})})},Bi=Pe.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e;return Qe.jsx(ei.div,{...r,ref:t})}));Bi.displayName="ToastTitle";var Wi=Pe.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e;return Qe.jsx(ei.div,{...r,ref:t})}));Wi.displayName="ToastDescription";var qi="ToastAction",Hi=Pe.forwardRef(((e,t)=>{const{altText:n,...r}=e;return n.trim()?Qe.jsx(Gi,{altText:n,asChild:!0,children:Qe.jsx(Ki,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${qi}\`. Expected non-empty \`string\`.`),null)}));Hi.displayName=qi;var Vi="ToastClose",Ki=Pe.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e,s=Fi(Vi,n);return Qe.jsx(Gi,{asChild:!0,children:Qe.jsx(ei.button,{type:"button",...r,ref:t,onClick:Wo(e.onClick,s.onClose)})})}));Ki.displayName=Vi;var Gi=Pe.forwardRef(((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return Qe.jsx(ei.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})}));function Zi(e){const t=[];return Array.from(e.childNodes).forEach((e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const n=e.ariaHidden||e.hidden||"none"===e.style.display,r=""===e.dataset.radixToastAnnounceExclude;if(!n)if(r){const n=e.dataset.radixToastAnnounceAlt;n&&t.push(n)}else t.push(...Zi(e))}})),t}function Yi(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?ti(s,o):s.dispatchEvent(o)}var Qi=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return"left"===t||"right"===t?o&&r>n:!o&&s>n};function Ji(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Xi(e){const t=document.activeElement;return e.some((e=>e===t||(e.focus(),document.activeElement!==t)))}var ea=Pi,ta=Ni,na=Ii,ra=Bi,sa=Wi,oa=Hi,ia=Ki;function aa(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=aa(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function la(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=aa(e))&&(r&&(r+=" "),r+=t);return r}const ca=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,ua=la,da=(e,t)=>n=>{var r;if(null==(null==t?void 0:t.variants))return ua(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map((e=>{const t=null==n?void 0:n[e],r=null==o?void 0:o[e];if(null===t)return null;const i=ca(t)||ca(r);return s[e][i]})),a=n&&Object.entries(n).reduce(((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e}),{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce(((e,t)=>{let{class:n,className:r,...s}=t;return Object.entries(s).every((e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...o,...a}[t]):{...o,...a}[t]===n}))?[...e,n,r]:e}),[]);return ua(e,i,l,null==n?void 0:n.class,null==n?void 0:n.className)}
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */,ha=(...e)=>e.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */;var pa={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=Pe.forwardRef((({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},l)=>Pe.createElement("svg",{ref:l,...pa,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:ha("lucide",s),...a},[...i.map((([e,t])=>Pe.createElement(e,t))),...Array.isArray(o)?o:[o]]))),ma=(e,t)=>{const n=Pe.forwardRef((({className:n,...r},s)=>{return Pe.createElement(fa,{ref:s,iconNode:t,className:ha(`lucide-${o=e,o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,n),...r});var o}));return n.displayName=`${e}`,n},ga=ma("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),va=ma("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),ya=ma("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ba=ma("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),wa=ma("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),xa=ma("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),ka=ma("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Ea=ma("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Ca=ma("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ja=ma("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Sa=ma("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),_a=ma("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Pa=ma("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),La=ma("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Oa=ma("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Ma=ma("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ta=ma("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Na=ma("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Ra=ma("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Da=ma("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Aa=ma("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ia=e=>{const t=$a(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),Ua(n,t)||za(e)},getConflictingClassGroupIds:(e,t)=>{const s=n[e]||[];return t&&r[e]?[...s,...r[e]]:s}}},Ua=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),o=s?Ua(e.slice(1),s):void 0;if(o)return o;if(0===t.validators.length)return;const i=e.join("-");return null==(n=t.validators.find((({validator:e})=>e(i))))?void 0:n.classGroupId},Fa=/^\[(.+)\]$/,za=e=>{if(Fa.test(e)){const t=Fa.exec(e)[1],n=null==t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},$a=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Ha(Object.entries(e.classGroups),n).forEach((([e,n])=>{Ba(n,r,e,t)})),r},Ba=(e,t,n,r)=>{e.forEach((e=>{if("string"!=typeof e){if("function"==typeof e)return qa(e)?void Ba(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((([e,s])=>{Ba(s,Wa(t,e),n,r)}))}else{(""===e?t:Wa(t,e)).classGroupId=n}}))},Wa=(e,t)=>{let n=e;return t.split("-").forEach((e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n},qa=e=>e.isThemeGetter,Ha=(e,t)=>t?e.map((([e,n])=>[e,n.map((e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map((([e,n])=>[t+e,n]))):e))])):e,Va=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(s,o)=>{n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(s(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):s(e,t)}}},Ka=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,s=t[0],o=t.length,i=e=>{const n=[];let i,a=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===a){if(c===s&&(r||e.slice(d,d+o)===t)){n.push(e.slice(l,d)),l=d+o;continue}if("/"===c){i=d;continue}}"["===c?a++:"]"===c&&a--}const c=0===n.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:n,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:i&&i>l?i-l:void 0}};return n?e=>n({className:e,parseClassName:i}):i},Ga=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach((e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)})),t.push(...n.sort()),t},Za=/\s+/;
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function Ya(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Qa(e))&&(r&&(r+=" "),r+=t);return r}const Qa=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Qa(e[r]))&&(n&&(n+=" "),n+=t);return n};function Ja(e,...t){let n,r,s,o=function(a){const l=t.reduce(((e,t)=>t(e)),e());return n=(e=>({cache:Va(e.cacheSize),parseClassName:Ka(e),...Ia(e)}))(l),r=n.cache.get,s=n.cache.set,o=i,i(a)};function i(e){const t=r(e);if(t)return t;const o=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(Za);let a="";for(let l=i.length-1;l>=0;l-=1){const e=i[l],{modifiers:t,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=n(e);let h=Boolean(d),p=r(h?u.substring(0,d):u);if(!p){if(!h){a=e+(a.length>0?" "+a:a);continue}if(p=r(u),!p){a=e+(a.length>0?" "+a:a);continue}h=!1}const f=Ga(t).join(":"),m=c?f+"!":f,g=m+p;if(o.includes(g))continue;o.push(g);const v=s(p,h);for(let n=0;n<v.length;++n){const e=v[n];o.push(m+e)}a=e+(a.length>0?" "+a:a)}return a})(e,n);return s(e,o),o}return function(){return o(Ya.apply(null,arguments))}}const Xa=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},el=/^\[(?:([a-z-]+):)?(.+)\]$/i,tl=/^\d+\/\d+$/,nl=new Set(["px","full","screen"]),rl=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sl=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ol=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,il=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,al=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ll=e=>ul(e)||nl.has(e)||tl.test(e),cl=e=>El(e,"length",Cl),ul=e=>Boolean(e)&&!Number.isNaN(Number(e)),dl=e=>El(e,"number",ul),hl=e=>Boolean(e)&&Number.isInteger(Number(e)),pl=e=>e.endsWith("%")&&ul(e.slice(0,-1)),fl=e=>el.test(e),ml=e=>rl.test(e),gl=new Set(["length","size","percentage"]),vl=e=>El(e,gl,jl),yl=e=>El(e,"position",jl),bl=new Set(["image","url"]),wl=e=>El(e,bl,_l),xl=e=>El(e,"",Sl),kl=()=>!0,El=(e,t,n)=>{const r=el.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):n(r[2]))},Cl=e=>sl.test(e)&&!ol.test(e),jl=()=>!1,Sl=e=>il.test(e),_l=e=>al.test(e),Pl=Ja((()=>{const e=Xa("colors"),t=Xa("spacing"),n=Xa("blur"),r=Xa("brightness"),s=Xa("borderColor"),o=Xa("borderRadius"),i=Xa("borderSpacing"),a=Xa("borderWidth"),l=Xa("contrast"),c=Xa("grayscale"),u=Xa("hueRotate"),d=Xa("invert"),h=Xa("gap"),p=Xa("gradientColorStops"),f=Xa("gradientColorStopPositions"),m=Xa("inset"),g=Xa("margin"),v=Xa("opacity"),y=Xa("padding"),b=Xa("saturate"),w=Xa("scale"),x=Xa("sepia"),k=Xa("skew"),E=Xa("space"),C=Xa("translate"),j=()=>["auto",fl,t],S=()=>[fl,t],_=()=>["",ll,cl],P=()=>["auto",ul,fl],L=()=>["","0",fl],O=()=>[ul,fl];return{cacheSize:500,separator:":",theme:{colors:[kl],spacing:[ll,cl],blur:["none","",ml,fl],brightness:O(),borderColor:[e],borderRadius:["none","","full",ml,fl],borderSpacing:S(),borderWidth:_(),contrast:O(),grayscale:L(),hueRotate:O(),invert:L(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[pl,cl],inset:j(),margin:j(),opacity:O(),padding:S(),saturate:O(),scale:O(),sepia:L(),skew:O(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",fl]}],container:["container"],columns:[{columns:[ml]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",fl]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hl,fl]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fl]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",hl,fl]}],"grid-cols":[{"grid-cols":[kl]}],"col-start-end":[{col:["auto",{span:["full",hl,fl]},fl]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[kl]}],"row-start-end":[{row:["auto",{span:[hl,fl]},fl]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fl]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fl]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fl,t]}],"min-w":[{"min-w":[fl,t,"min","max","fit"]}],"max-w":[{"max-w":[fl,t,"none","full","min","max","fit","prose",{screen:[ml]},ml]}],h:[{h:[fl,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fl,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fl,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fl,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ml,cl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",dl]}],"font-family":[{font:[kl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fl]}],"line-clamp":[{"line-clamp":["none",ul,dl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ll,fl]}],"list-image":[{"list-image":["none",fl]}],"list-style-type":[{list:["none","disc","decimal",fl]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ll,cl]}],"underline-offset":[{"underline-offset":["auto",ll,fl]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fl]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fl]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",yl]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vl]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wl]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[ll,fl]}],"outline-w":[{outline:[ll,cl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:_()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[ll,cl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ml,xl]}],"shadow-color":[{shadow:[kl]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ml,fl]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fl]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",fl]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",fl]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[hl,fl]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fl]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fl]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fl]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ll,cl,dl]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}));function Ll(...e){return Pl(la(e))}const Ol=ea,Ml=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx(ta,{ref:n,className:Ll("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t})));Ml.displayName=ta.displayName;const Tl=da("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Nl=Pe.forwardRef((({className:e,variant:t,...n},r)=>Qe.jsx(na,{ref:r,className:Ll(Tl({variant:t}),e),...n})));Nl.displayName=na.displayName;Pe.forwardRef((({className:e,...t},n)=>Qe.jsx(oa,{ref:n,className:Ll("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}))).displayName=oa.displayName;const Rl=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx(ia,{ref:n,className:Ll("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:Qe.jsx(Aa,{className:"h-4 w-4"})})));Rl.displayName=ia.displayName;const Dl=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx(ra,{ref:n,className:Ll("text-sm font-semibold",e),...t})));Dl.displayName=ra.displayName;const Al=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx(sa,{ref:n,className:Ll("text-sm opacity-90",e),...t})));function Il(){const{toasts:e}=Bo();return Qe.jsxs(Ol,{children:[e.map((function({id:e,title:t,description:n,action:r,...s}){return Qe.jsxs(Nl,{...s,children:[Qe.jsxs("div",{className:"grid gap-1",children:[t&&Qe.jsx(Dl,{children:t}),n&&Qe.jsx(Al,{children:n})]}),r,Qe.jsx(Rl,{})]},e)})),Qe.jsx(Ml,{})]})}Al.displayName=sa.displayName;const Ul=({children:e})=>{const{user:t}=No();return t?Qe.jsxs("div",{className:"min-h-screen flex dark:bg-gray-900",children:[Qe.jsx("div",{className:"w-64 bg-gray-50 dark:bg-gray-800 border-r",children:Qe.jsxs("div",{className:"h-full px-3 py-4",children:[Qe.jsxs("div",{className:"mb-8 px-2",children:[Qe.jsx("h1",{className:"text-2xl font-bold text-primary",children:"SmartEstate"}),Qe.jsx("p",{className:"text-sm text-gray-500",children:"Property Management"})]}),Qe.jsxs("nav",{className:"space-y-1",children:[Qe.jsxs(De,{to:"/",className:"flex items-center px-2 py-2 text-sm rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:[Qe.jsx(xa,{className:"mr-2 h-4 w-4"}),"Dashboard"]}),Qe.jsxs(De,{to:"/properties",className:"flex items-center px-2 py-2 text-sm rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:[Qe.jsx(ga,{className:"mr-2 h-4 w-4"}),"Properties"]}),Qe.jsxs(De,{to:"/clients",className:"flex items-center px-2 py-2 text-sm rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:[Qe.jsx(Da,{className:"mr-2 h-4 w-4"}),"Clients"]}),Qe.jsxs(De,{to:"/settings",className:"flex items-center px-2 py-2 text-sm rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:[Qe.jsx(La,{className:"mr-2 h-4 w-4"}),"Settings"]})]})]})}),Qe.jsx("div",{className:"flex-1 flex flex-col",children:Qe.jsx("main",{className:"flex-1 p-6 overflow-y-auto",children:e})})]}):Qe.jsx("div",{className:"min-h-screen",children:e})},Fl=da("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),zl=Pe.forwardRef((({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?Zo:"button";return Qe.jsx(i,{className:Ll(Fl({variant:t,size:n,className:e})),ref:o,...s})}));zl.displayName="Button";const $l=Pe.forwardRef((({className:e,type:t,...n},r)=>Qe.jsx("input",{type:t,className:Ll("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n})));$l.displayName="Input";const Bl=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx("div",{ref:n,className:Ll("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t})));Bl.displayName="Card";const Wl=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx("div",{ref:n,className:Ll("flex flex-col space-y-1.5 p-6",e),...t})));Wl.displayName="CardHeader";const ql=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx("h3",{ref:n,className:Ll("text-2xl font-semibold leading-none tracking-tight",e),...t})));ql.displayName="CardTitle";const Hl=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx("p",{ref:n,className:Ll("text-sm text-muted-foreground",e),...t})));Hl.displayName="CardDescription";const Vl=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx("div",{ref:n,className:Ll("p-6 pt-0",e),...t})));Vl.displayName="CardContent";Pe.forwardRef((({className:e,...t},n)=>Qe.jsx("div",{ref:n,className:Ll("flex items-center p-6 pt-0",e),...t}))).displayName="CardFooter";var Kl=Pe.forwardRef(((e,t)=>Qe.jsx(ei.label,{...e,ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null==(n=e.onMouseDown)||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));Kl.displayName="Label";var Gl=Kl;const Zl=da("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Yl=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx(Gl,{ref:n,className:Ll(Zl(),e),...t})));Yl.displayName=Gl.displayName;var Ql=Ae["useId".toString()]||(()=>{}),Jl=0;function Xl(e){const[t,n]=Pe.useState(Ql());return fi((()=>{n((e=>e??String(Jl++)))}),[e]),t?`radix-${t}`:""}var ec=Pe.createContext(void 0);function tc(e){const t=Pe.useContext(ec);return e||t||"ltr"}var nc="rovingFocusGroup.onEntryFocus",rc={bubbles:!1,cancelable:!0},sc="RovingFocusGroup",[oc,ic,ac]=Xo(sc),[lc,cc]=Ko(sc,[ac]),[uc,dc]=lc(sc),hc=Pe.forwardRef(((e,t)=>Qe.jsx(oc.Provider,{scope:e.__scopeRovingFocusGroup,children:Qe.jsx(oc.Slot,{scope:e.__scopeRovingFocusGroup,children:Qe.jsx(pc,{...e,ref:t})})})));hc.displayName=sc;var pc=Pe.forwardRef(((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=e,h=Pe.useRef(null),p=Vo(t,h),f=tc(o),[m=null,g]=yi({prop:i,defaultProp:a,onChange:l}),[v,y]=Pe.useState(!1),b=ni(c),w=ic(n),x=Pe.useRef(!1),[k,E]=Pe.useState(0);return Pe.useEffect((()=>{const e=h.current;if(e)return e.addEventListener(nc,b),()=>e.removeEventListener(nc,b)}),[b]),Qe.jsx(uc,{scope:n,orientation:r,dir:f,loop:s,currentTabStopId:m,onItemFocus:Pe.useCallback((e=>g(e)),[g]),onItemShiftTab:Pe.useCallback((()=>y(!0)),[]),onFocusableItemAdd:Pe.useCallback((()=>E((e=>e+1))),[]),onFocusableItemRemove:Pe.useCallback((()=>E((e=>e-1))),[]),children:Qe.jsx(ei.div,{tabIndex:v||0===k?-1:0,"data-orientation":r,...d,ref:p,style:{outline:"none",...e.style},onMouseDown:Wo(e.onMouseDown,(()=>{x.current=!0})),onFocus:Wo(e.onFocus,(e=>{const t=!x.current;if(e.target===e.currentTarget&&t&&!v){const t=new CustomEvent(nc,rc);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=w().filter((e=>e.focusable));vc([e.find((e=>e.active)),e.find((e=>e.id===m)),...e].filter(Boolean).map((e=>e.ref.current)),u)}}x.current=!1})),onBlur:Wo(e.onBlur,(()=>y(!1)))})})})),fc="RovingFocusGroupItem",mc=Pe.forwardRef(((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,...i}=e,a=Xl(),l=o||a,c=dc(fc,n),u=c.currentTabStopId===l,d=ic(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=c;return Pe.useEffect((()=>{if(r)return h(),()=>p()}),[r,h,p]),Qe.jsx(oc.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:Qe.jsx(ei.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...i,ref:t,onMouseDown:Wo(e.onMouseDown,(e=>{r?c.onItemFocus(l):e.preventDefault()})),onFocus:Wo(e.onFocus,(()=>c.onItemFocus(l))),onKeyDown:Wo(e.onKeyDown,(e=>{if("Tab"===e.key&&e.shiftKey)return void c.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,n){const r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:gc[r]}(e,c.orientation,c.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=d().filter((e=>e.focusable)).map((e=>e.ref.current));if("last"===t)s.reverse();else if("prev"===t||"next"===t){"prev"===t&&s.reverse();const o=s.indexOf(e.currentTarget);s=c.loop?(r=o+1,(n=s).map(((e,t)=>n[(r+t)%n.length]))):s.slice(o+1)}setTimeout((()=>vc(s)))}var n,r}))})})}));mc.displayName=fc;var gc={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vc(e,t=!1){const n=document.activeElement;for(const r of e){if(r===n)return;if(r.focus({preventScroll:t}),document.activeElement!==n)return}}var yc=hc,bc=mc,wc="Tabs",[xc,kc]=Ko(wc,[cc]),Ec=cc(),[Cc,jc]=xc(wc),Sc=Pe.forwardRef(((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:l="automatic",...c}=e,u=tc(a),[d,h]=yi({prop:r,onChange:s,defaultProp:o});return Qe.jsx(Cc,{scope:n,baseId:Xl(),value:d,onValueChange:h,orientation:i,dir:u,activationMode:l,children:Qe.jsx(ei.div,{dir:u,"data-orientation":i,...c,ref:t})})}));Sc.displayName=wc;var _c="TabsList",Pc=Pe.forwardRef(((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=jc(_c,n),i=Ec(n);return Qe.jsx(yc,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:Qe.jsx(ei.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})}));Pc.displayName=_c;var Lc="TabsTrigger",Oc=Pe.forwardRef(((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=jc(Lc,n),a=Ec(n),l=Nc(i.baseId,r),c=Rc(i.baseId,r),u=r===i.value;return Qe.jsx(bc,{asChild:!0,...a,focusable:!s,active:u,children:Qe.jsx(ei.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:t,onMouseDown:Wo(e.onMouseDown,(e=>{s||0!==e.button||!1!==e.ctrlKey?e.preventDefault():i.onValueChange(r)})),onKeyDown:Wo(e.onKeyDown,(e=>{[" ","Enter"].includes(e.key)&&i.onValueChange(r)})),onFocus:Wo(e.onFocus,(()=>{const e="manual"!==i.activationMode;u||s||!e||i.onValueChange(r)}))})})}));Oc.displayName=Lc;var Mc="TabsContent",Tc=Pe.forwardRef(((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,a=jc(Mc,n),l=Nc(a.baseId,r),c=Rc(a.baseId,r),u=r===a.value,d=Pe.useRef(u);return Pe.useEffect((()=>{const e=requestAnimationFrame((()=>d.current=!1));return()=>cancelAnimationFrame(e)}),[]),Qe.jsx(gi,{present:s||u,children:({present:n})=>Qe.jsx(ei.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!n,id:c,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:n&&o})})}));function Nc(e,t){return`${e}-trigger-${t}`}function Rc(e,t){return`${e}-content-${t}`}Tc.displayName=Mc;var Dc=Pc,Ac=Oc,Ic=Tc;const Uc=Sc,Fc=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx(Dc,{ref:n,className:Ll("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t})));Fc.displayName=Dc.displayName;const zc=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx(Ac,{ref:n,className:Ll("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t})));zc.displayName=Ac.displayName;const $c=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx(Ic,{ref:n,className:Ll("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t})));$c.displayName=Ic.displayName;const Bc=()=>{const[e,t]=Pe.useState(""),[n,r]=Pe.useState(""),[s,o]=Pe.useState(""),[i,a]=Pe.useState(!1),[l,c]=Pe.useState(!0),u=Te(),{toast:d}=Bo();Pe.useEffect((()=>{(async()=>{try{const{error:e}=await Oo.auth.getSession();e&&e.message.includes("Invalid API key")&&(c(!1),Lo("[Auth] Invalid API key detected:",e))}catch(e){Lo("[Auth] Error checking API key:",e),c(!1)}})()}),[]);return l?Qe.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:Qe.jsxs(Bl,{className:"w-full max-w-md",children:[Qe.jsx(Wl,{children:Qe.jsx(ql,{className:"text-center text-2xl font-display",children:"Welcome to SmartEstate"})}),Qe.jsx(Vl,{children:Qe.jsxs(Uc,{defaultValue:"signin",className:"w-full",children:[Qe.jsxs(Fc,{className:"grid w-full grid-cols-2",children:[Qe.jsx(zc,{value:"signin",children:"Sign In"}),Qe.jsx(zc,{value:"signup",children:"Sign Up"})]}),Qe.jsx($c,{value:"signin",children:Qe.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),l){a(!0);try{const{error:t}=await Oo.auth.signInWithPassword({email:e,password:n});t?t.message.includes("Invalid login credentials")?d({variant:"destructive",title:"Invalid Credentials",description:"Please check your email and password and try again."}):t.message.includes("Email not confirmed")?d({variant:"destructive",title:"Email Not Confirmed",description:"Please check your email for the confirmation link."}):t.message.includes("Invalid API key")?(c(!1),d({variant:"destructive",title:"API Configuration Error",description:"There's an issue with the API configuration. Please contact support."})):d({variant:"destructive",title:"Error",description:t.message}):u("/")}catch(r){d({variant:"destructive",title:"Error",description:"An unexpected error occurred. Please try again."})}finally{a(!1)}}else d({variant:"destructive",title:"API Configuration Error",description:"There's an issue with the API configuration. Please contact support."})},className:"space-y-4",children:[Qe.jsxs("div",{children:[Qe.jsx(Yl,{htmlFor:"signin-email",children:"Email"}),Qe.jsx($l,{id:"signin-email",type:"email",value:e,onChange:e=>t(e.target.value),required:!0})]}),Qe.jsxs("div",{children:[Qe.jsx(Yl,{htmlFor:"signin-password",children:"Password"}),Qe.jsx($l,{id:"signin-password",type:"password",value:n,onChange:e=>r(e.target.value),required:!0})]}),Qe.jsx(zl,{type:"submit",className:"w-full",disabled:i,children:i?"Signing in...":"Sign In"})]})}),Qe.jsx($c,{value:"signup",children:Qe.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),l){a(!0);try{const{data:t,error:r}=await Oo.auth.signUp({email:e,password:n,options:{data:{full_name:s},emailRedirectTo:`${window.location.origin}/auth`}});r?(Lo("[Auth] Sign up error:",r),r.message.includes("User already registered")?d({variant:"destructive",title:"Account Exists",description:"An account with this email already exists. Please sign in instead."}):r.message.includes("Invalid API key")?(c(!1),d({variant:"destructive",title:"API Configuration Error",description:"There's an issue with the API configuration. Please contact support."})):d({variant:"destructive",title:"Error",description:r.message})):(Po("[Auth] Sign up successful for:",e),(null==t?void 0:t.user)&&!t.user.confirmed_at?d({title:"Check Your Email",description:"We've sent a confirmation link to your email. Please check your inbox and click the link to activate your account."}):d({title:"Success!",description:"Account created successfully. You can now sign in."}))}catch(r){Lo("[Auth] Unexpected error during sign up:",r),d({variant:"destructive",title:"Error",description:"An unexpected error occurred. Please try again."})}finally{a(!1)}}else d({variant:"destructive",title:"API Configuration Error",description:"There's an issue with the API configuration. Please contact support."})},className:"space-y-4",children:[Qe.jsxs("div",{children:[Qe.jsx(Yl,{htmlFor:"signup-email",children:"Email"}),Qe.jsx($l,{id:"signup-email",type:"email",value:e,onChange:e=>t(e.target.value),required:!0})]}),Qe.jsxs("div",{children:[Qe.jsx(Yl,{htmlFor:"fullname",children:"Full Name"}),Qe.jsx($l,{id:"fullname",type:"text",value:s,onChange:e=>o(e.target.value),required:!0})]}),Qe.jsxs("div",{children:[Qe.jsx(Yl,{htmlFor:"signup-password",children:"Password"}),Qe.jsx($l,{id:"signup-password",type:"password",value:n,onChange:e=>r(e.target.value),required:!0,minLength:6})]}),Qe.jsx(zl,{type:"submit",className:"w-full",disabled:i,children:i?"Signing up...":"Sign Up"})]})})]})})]})}):Qe.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-gray-50",children:Qe.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-lg shadow-md",children:[Qe.jsxs("div",{className:"text-center",children:[Qe.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Service Temporarily Unavailable"}),Qe.jsx("p",{className:"mt-2 text-gray-600",children:"We're experiencing some technical difficulties with our authentication service. Our team has been notified and is working to resolve this issue."})]}),Qe.jsx("div",{className:"mt-6",children:Qe.jsx(zl,{className:"w-full",onClick:()=>window.location.reload(),children:"Try Again"})}),Qe.jsx("div",{className:"mt-4 text-center text-sm text-gray-500",children:"If this issue persists, please contact support."})]})})},Wc=()=>{const{data:e}=rn({queryKey:["dashboard-stats"],queryFn:async()=>{const{count:e}=await Oo.from("property_analyses").select("*",{count:"exact",head:!0}),{count:t}=await Oo.from("profiles").select("*",{count:"exact",head:!0}).eq("role","client");return{properties:e||0,clients:t||0}}});return Qe.jsxs("div",{className:"space-y-6",children:[Qe.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),Qe.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[Qe.jsxs(Bl,{children:[Qe.jsxs(Wl,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[Qe.jsx(ql,{className:"text-sm font-medium",children:"Total Properties"}),Qe.jsx(ga,{className:"h-4 w-4 text-muted-foreground"})]}),Qe.jsx(Vl,{children:Qe.jsx("div",{className:"text-2xl font-bold",children:(null==e?void 0:e.properties)??0})})]}),Qe.jsxs(Bl,{children:[Qe.jsxs(Wl,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[Qe.jsx(ql,{className:"text-sm font-medium",children:"Active Clients"}),Qe.jsx(Da,{className:"h-4 w-4 text-muted-foreground"})]}),Qe.jsx(Vl,{children:Qe.jsx("div",{className:"text-2xl font-bold",children:(null==e?void 0:e.clients)??0})})]}),Qe.jsxs(Bl,{children:[Qe.jsxs(Wl,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[Qe.jsx(ql,{className:"text-sm font-medium",children:"Avg. ROI"}),Qe.jsx(Ta,{className:"h-4 w-4 text-muted-foreground"})]}),Qe.jsx(Vl,{children:Qe.jsx("div",{className:"text-2xl font-bold",children:"8.2%"})})]})]})]})};var qc=Pe.forwardRef(((e,t)=>{const{ratio:n=1,style:r,...s}=e;return Qe.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:100/n+"%"},"data-radix-aspect-ratio-wrapper":"",children:Qe.jsx(ei.div,{...s,ref:t,style:{...r,position:"absolute",top:0,right:0,bottom:0,left:0}})})}));qc.displayName="AspectRatio";const Hc=qc,Vc=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx("div",{className:"relative w-full overflow-auto",children:Qe.jsx("table",{ref:n,className:Ll("w-full caption-bottom text-sm",e),...t})})));Vc.displayName="Table";const Kc=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx("thead",{ref:n,className:Ll("[&_tr]:border-b",e),...t})));Kc.displayName="TableHeader";const Gc=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx("tbody",{ref:n,className:Ll("[&_tr:last-child]:border-0",e),...t})));Gc.displayName="TableBody";Pe.forwardRef((({className:e,...t},n)=>Qe.jsx("tfoot",{ref:n,className:Ll("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}))).displayName="TableFooter";const Zc=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx("tr",{ref:n,className:Ll("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t})));Zc.displayName="TableRow";const Yc=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx("th",{ref:n,className:Ll("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t})));Yc.displayName="TableHead";const Qc=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx("td",{ref:n,className:Ll("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t})));Qc.displayName="TableCell";Pe.forwardRef((({className:e,...t},n)=>Qe.jsx("caption",{ref:n,className:Ll("mt-4 text-sm text-muted-foreground",e),...t}))).displayName="TableCaption";const Jc=({properties:e,onClose:t})=>{const n=Te(),r=e=>null==e?"N/A":`€${e.toLocaleString()}`;return Qe.jsxs("div",{className:"space-y-4",children:[Qe.jsxs("div",{className:"flex items-center justify-between",children:[Qe.jsx("h2",{className:"text-2xl font-bold",children:"Property Comparison"}),Qe.jsx(zl,{variant:"ghost",size:"icon",onClick:t,children:Qe.jsx(Aa,{className:"h-5 w-5"})})]}),Qe.jsx("div",{className:"rounded-lg border",children:Qe.jsxs(Vc,{children:[Qe.jsx(Kc,{children:Qe.jsxs(Zc,{children:[Qe.jsx(Yc,{className:"w-[200px]",children:"Property"}),e.map((e=>Qe.jsx(Yc,{className:"text-center",children:Qe.jsx(zl,{variant:"link",onClick:()=>n(`/properties/${e.id}`),className:"font-medium",children:e.address})},e.id)))]})}),Qe.jsxs(Gc,{children:[Qe.jsxs(Zc,{children:[Qe.jsx(Qc,{className:"font-medium",children:"Area"}),e.map((e=>{var t;return Qe.jsx(Qc,{className:"text-center",children:(null==(t=e.details)?void 0:t.square_meters)?`${e.details.square_meters} m²`:"N/A"},e.id)}))]}),Qe.jsxs(Zc,{children:[Qe.jsx(Qc,{className:"font-medium",children:"Price per m²"}),e.map((e=>{var t;return Qe.jsx(Qc,{className:"text-center",children:(null==(t=e.details)?void 0:t.price_per_meter)?r(e.details.price_per_meter):"N/A"},e.id)}))]}),Qe.jsxs(Zc,{children:[Qe.jsx(Qc,{className:"font-medium",children:"Expected Income"}),e.map((e=>Qe.jsxs(Qc,{className:"text-center",children:[r(e.monthly_rent),"/month"]},e.id)))]}),Qe.jsxs(Zc,{children:[Qe.jsx(Qc,{className:"font-medium",children:"Expenses"}),e.map((e=>Qe.jsxs(Qc,{className:"text-center",children:[r(e.estimated_expenses),"/month"]},e.id)))]}),Qe.jsxs(Zc,{children:[Qe.jsx(Qc,{className:"font-medium",children:"ROI"}),e.map((e=>Qe.jsx(Qc,{className:"text-center font-medium",children:Qe.jsxs("span",{className:e.roi>=5?"text-green-600":"text-yellow-600",children:[e.roi??"N/A","%"]})},e.id)))]}),Qe.jsxs(Zc,{children:[Qe.jsx(Qc,{className:"font-medium",children:"Rating"}),e.map((e=>{return Qe.jsx(Qc,{className:"text-center",children:Qe.jsx("div",{className:"flex justify-center",children:(t=e.score,Qe.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map((e=>Qe.jsx("span",{className:"text-lg "+((t||0)>=e?"text-yellow-400":"text-gray-300"),children:"★"},e)))}))})},e.id);var t}))]}),Qe.jsxs(Zc,{children:[Qe.jsx(Qc,{className:"font-medium",children:"Summary"}),e.map((e=>Qe.jsx(Qc,{className:"text-center",children:e.summary||"No summary available"},e.id)))]}),Qe.jsxs(Zc,{children:[Qe.jsx(Qc,{className:"font-medium",children:"Pros"}),e.map((e=>{var t;return Qe.jsx(Qc,{className:"text-center",children:(null==(t=e.pros)?void 0:t.length)?Qe.jsx("ul",{className:"list-none flex flex-col items-center",children:e.pros.map(((e,t)=>Qe.jsxs("li",{className:"flex items-center",children:[Qe.jsx("span",{className:"mr-2",children:"•"}),e]},t)))}):"No pros listed"},e.id)}))]}),Qe.jsxs(Zc,{children:[Qe.jsx(Qc,{className:"font-medium",children:"Cons"}),e.map((e=>{var t;return Qe.jsx(Qc,{className:"text-center",children:(null==(t=e.cons)?void 0:t.length)?Qe.jsx("ul",{className:"list-none flex flex-col items-center",children:e.cons.map(((e,t)=>Qe.jsxs("li",{className:"flex items-center",children:[Qe.jsx("span",{className:"mr-2",children:"•"}),e]},t)))}):"No cons listed"},e.id)}))]})]})]})})]})};function Xc(e){const t=Pe.useRef({value:e,previous:e});return Pe.useMemo((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}function eu(e){const[t,n]=Pe.useState(void 0);return fi((()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver((t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let s,o;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,o=t.blockSize}else s=e.offsetWidth,o=e.offsetHeight;n({width:s,height:o})}));return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)}),[e]),t}var tu="Checkbox",[nu,ru]=Ko(tu),[su,ou]=nu(tu),iu=Pe.forwardRef(((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:i,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=e,[h,p]=Pe.useState(null),f=Vo(t,(e=>p(e))),m=Pe.useRef(!1),g=!h||(u||!!h.closest("form")),[v=!1,y]=yi({prop:s,defaultProp:o,onChange:c}),b=Pe.useRef(v);return Pe.useEffect((()=>{const e=null==h?void 0:h.form;if(e){const t=()=>y(b.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[h,y]),Qe.jsxs(su,{scope:n,state:v,disabled:a,children:[Qe.jsx(ei.button,{type:"button",role:"checkbox","aria-checked":uu(v)?"mixed":v,"aria-required":i,"data-state":du(v),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:f,onKeyDown:Wo(e.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:Wo(e.onClick,(e=>{y((e=>!!uu(e)||!e)),g&&(m.current=e.isPropagationStopped(),m.current||e.stopPropagation())}))}),g&&Qe.jsx(cu,{control:h,bubbles:!m.current,name:r,value:l,checked:v,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"},defaultChecked:!uu(o)&&o})]})}));iu.displayName=tu;var au="CheckboxIndicator",lu=Pe.forwardRef(((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,o=ou(au,n);return Qe.jsx(gi,{present:r||uu(o.state)||!0===o.state,children:Qe.jsx(ei.span,{"data-state":du(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})}));lu.displayName=au;var cu=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...o}=e,i=Pe.useRef(null),a=Xc(n),l=eu(t);Pe.useEffect((()=>{const e=i.current,t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"checked").set;if(a!==n&&s){const t=new Event("click",{bubbles:r});e.indeterminate=uu(n),s.call(e,!uu(n)&&n),e.dispatchEvent(t)}}),[a,n,r]);const c=Pe.useRef(!uu(n)&&n);return Qe.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??c.current,...o,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function uu(e){return"indeterminate"===e}function du(e){return uu(e)?"indeterminate":e?"checked":"unchecked"}var hu=iu,pu=lu;const fu=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx(hu,{ref:n,className:Ll("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:Qe.jsx(pu,{className:Ll("flex items-center justify-center text-current"),children:Qe.jsx(ya,{className:"h-4 w-4"})})})));fu.displayName=hu.displayName;const mu=()=>{const{user:e}=No(),{toast:t}=Bo(),n=Te(),[r,s]=Pe.useState([]),[o,i]=Pe.useState(!1);null==e||e.id,null==e||e.email,Pe.useEffect((()=>{(async()=>{const{data:{session:e},error:t}=await Oo.auth.getSession();!t&&e?(e.user.id,e.expires_at):n("/auth")})()}),[n]);const{data:a,isLoading:l,isError:c}=rn({queryKey:["properties",null==e?void 0:e.id],queryFn:async()=>{var t;if(null==e||e.id,null==e||e.email,!e)throw new Error("Not authenticated");try{e.id;const{data:n,error:r}=await Oo.from("property_analyses").select("\n            id,\n            address,\n            price,\n            roi,\n            images,\n            details,\n            monthly_rent,\n            estimated_expenses,\n            pros,\n            cons,\n            summary,\n            score\n          ").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw Lo("[Properties] Supabase error:",r),r;return Po("[Properties] Properties fetched successfully:",{count:(null==n?void 0:n.length)||0,firstProperty:null==(t=null==n?void 0:n[0])?void 0:t.id}),n}catch(n){throw Lo("[Properties] Error fetching properties:",n.message),Lo("[Properties] Error details:",n),n}},enabled:!!e,retry:1});if(!e)return Po("[Properties] No user logged in, showing login prompt"),Qe.jsx("div",{className:"flex items-center justify-center h-32",children:Qe.jsx("div",{className:"text-center text-muted-foreground",children:"Please log in to view your properties."})});if(l)return Qe.jsx("div",{className:"flex items-center justify-center h-32",children:Qe.jsx("div",{className:"text-center",children:"Loading properties..."})});if(c)return Qe.jsxs("div",{className:"flex flex-col items-center justify-center h-32 space-y-4",children:[Qe.jsx("div",{className:"text-center text-muted-foreground",children:"Unable to load properties. Please try again later."}),Qe.jsx(zl,{variant:"outline",onClick:()=>n(0),className:"flex items-center gap-2",children:"Retry"})]});Po("[Properties] Rendering properties list:",(null==a?void 0:a.length)||0);const u=(null==a?void 0:a.filter((e=>r.includes(e.id))))||[];return Qe.jsxs("div",{className:"space-y-6",children:[Qe.jsxs("div",{className:"flex items-center justify-between",children:[Qe.jsx("h1",{className:"text-3xl font-bold",children:"Properties"}),Qe.jsxs("div",{className:"flex items-center gap-2",children:[r.length>0&&Qe.jsxs(zl,{variant:"outline",onClick:()=>{r.length<2?t({variant:"destructive",title:"Select Properties",description:"Please select at least 2 properties to compare."}):i(!0)},className:"flex items-center gap-2",children:[Qe.jsx(va,{className:"h-4 w-4"}),"Compare (",r.length,")"]}),Qe.jsxs(zl,{onClick:()=>n("/properties/new"),className:"flex items-center gap-2",children:[Qe.jsx(Sa,{className:"h-4 w-4"}),"Add Property"]})]})]}),o?Qe.jsx(Jc,{properties:u,onClose:()=>{i(!1),s([])}}):a&&a.length>0?Qe.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.map((e=>{var t,o;return Qe.jsxs(Bl,{className:"relative cursor-pointer hover:shadow-lg transition-shadow overflow-hidden",onClick:()=>n(`/properties/${e.id}`),children:[Qe.jsx("div",{className:"absolute top-2 left-2 z-10",onClick:t=>((e,t)=>{e.preventDefault(),e.stopPropagation(),s((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]))})(t,e.id),children:Qe.jsx(fu,{checked:r.includes(e.id),className:"h-5 w-5 bg-white/90"})}),Qe.jsx(Hc,{ratio:16/9,children:(null==(t=e.images)?void 0:t[0])?Qe.jsx("img",{src:e.images[0],alt:e.address,className:"object-cover w-full h-full"}):Qe.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:Qe.jsx(ka,{className:"h-8 w-8 text-muted-foreground"})})}),Qe.jsx(Wl,{children:Qe.jsx(ql,{className:"text-lg",children:e.address||"Untitled Property"})}),Qe.jsxs(Vl,{children:[Qe.jsx("p",{className:"text-2xl font-bold",children:e.price?`€${e.price.toLocaleString()}`:"Price not set"}),Qe.jsxs("div",{className:"flex justify-between items-center mt-2",children:[Qe.jsx("p",{className:"text-sm text-muted-foreground",children:(null==(o=e.details)?void 0:o.square_meters)?`${e.details.square_meters} m²`:"Area not set"}),null!==e.roi&&Qe.jsxs("p",{className:"text-sm text-muted-foreground",children:["ROI: ",e.roi,"%"]})]})]})]},e.id)}))}):Qe.jsxs("div",{className:"text-center py-8 space-y-4",children:[Qe.jsx("p",{className:"text-muted-foreground",children:"You haven't added any properties yet."}),Qe.jsxs(zl,{onClick:()=>n("/properties/new"),variant:"outline",className:"flex items-center gap-2",children:[Qe.jsx(Sa,{className:"h-4 w-4"}),"Add Your First Property"]})]})]})};var gu="focusScope.autoFocusOnMount",vu="focusScope.autoFocusOnUnmount",yu={bubbles:!1,cancelable:!0},bu=Pe.forwardRef(((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,l]=Pe.useState(null),c=ni(s),u=ni(o),d=Pe.useRef(null),h=Vo(t,(e=>l(e))),p=Pe.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Pe.useEffect((()=>{if(r){let e=function(e){if(p.paused||!a)return;const t=e.target;a.contains(t)?d.current=t:Eu(d.current,{select:!0})},t=function(e){if(p.paused||!a)return;const t=e.relatedTarget;null!==t&&(a.contains(t)||Eu(d.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&Eu(a)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return a&&r.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}}),[r,a,p.paused]),Pe.useEffect((()=>{if(a){Cu.add(p);const t=document.activeElement;if(!a.contains(t)){const n=new CustomEvent(gu,yu);a.addEventListener(gu,c),a.dispatchEvent(n),n.defaultPrevented||(!function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Eu(r,{select:t}),document.activeElement!==n)return}((e=wu(a),e.filter((e=>"A"!==e.tagName))),{select:!0}),document.activeElement===t&&Eu(a))}return()=>{a.removeEventListener(gu,c),setTimeout((()=>{const e=new CustomEvent(vu,yu);a.addEventListener(vu,u),a.dispatchEvent(e),e.defaultPrevented||Eu(t??document.body,{select:!0}),a.removeEventListener(vu,u),Cu.remove(p)}),0)}}var e}),[a,c,u,p]);const f=Pe.useCallback((e=>{if(!n&&!r)return;if(p.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,s=document.activeElement;if(t&&s){const t=e.currentTarget,[r,o]=function(e){const t=wu(e),n=xu(t,e),r=xu(t.reverse(),e);return[n,r]}(t);r&&o?e.shiftKey||s!==o?e.shiftKey&&s===r&&(e.preventDefault(),n&&Eu(o,{select:!0})):(e.preventDefault(),n&&Eu(r,{select:!0})):s===t&&e.preventDefault()}}),[n,r,p.paused]);return Qe.jsx(ei.div,{tabIndex:-1,...i,ref:h,onKeyDown:f})}));function wu(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function xu(e,t){for(const n of e)if(!ku(n,{upTo:t}))return n}function ku(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Eu(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}bu.displayName="FocusScope";var Cu=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null==n||n.pause()),e=ju(e,t),e.unshift(t)},remove(t){var n;e=ju(e,t),null==(n=e[0])||n.resume()}}}();function ju(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var Su=0;function _u(){Pe.useEffect((()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Pu()),document.body.insertAdjacentElement("beforeend",e[1]??Pu()),Su++,()=>{1===Su&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),Su--}}),[])}function Pu(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Lu=function(){return Lu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Lu.apply(this,arguments)};function Ou(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}"function"==typeof SuppressedError&&SuppressedError;var Mu="right-scroll-bar-position",Tu="width-before-scroll-bar";function Nu(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var Ru="undefined"!=typeof window?Pe.useLayoutEffect:Pe.useEffect,Du=new WeakMap;function Au(e,t){var n,r,s,o=(n=null,r=function(t){return e.forEach((function(e){return Nu(e,t)}))},(s=Pe.useState((function(){return{value:n,callback:r,facade:{get current(){return s.value},set current(e){var t=s.value;t!==e&&(s.value=e,s.callback(e,t))}}}}))[0]).callback=r,s.facade);return Ru((function(){var t=Du.get(o);if(t){var n=new Set(t),r=new Set(e),s=o.current;n.forEach((function(e){r.has(e)||Nu(e,null)})),r.forEach((function(e){n.has(e)||Nu(e,s)}))}Du.set(o,e)}),[e]),o}function Iu(e){return e}var Uu=function(e){var t=e.sideCar,n=Ou(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return Pe.createElement(r,Lu({},n))};Uu.isSideCarExport=!0;var Fu=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=Iu);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var s=t(e,r);return n.push(s),function(){n=n.filter((function(e){return e!==s}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var s=n;n=[],s.forEach(e),t=n}var o=function(){var n=t;t=[],n.forEach(e)},i=function(){return Promise.resolve().then(o)};i(),n={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),n}}}}}(null);return t.options=Lu({async:!0,ssr:!1},e),t}(),zu=function(){},$u=Pe.forwardRef((function(e,t){var n=Pe.useRef(null),r=Pe.useState({onScrollCapture:zu,onWheelCapture:zu,onTouchMoveCapture:zu}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,p=e.noIsolation,f=e.inert,m=e.allowPinchZoom,g=e.as,v=void 0===g?"div":g,y=e.gapMode,b=Ou(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,x=Au([n,t]),k=Lu(Lu({},b),s);return Pe.createElement(Pe.Fragment,null,u&&Pe.createElement(w,{sideCar:Fu,removeScrollBar:c,shards:d,noIsolation:p,inert:f,setCallbacks:o,allowPinchZoom:!!m,lockRef:n,gapMode:y}),i?Pe.cloneElement(Pe.Children.only(a),Lu(Lu({},k),{ref:x})):Pe.createElement(v,Lu({},k,{className:l,ref:x}),a))}));$u.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},$u.classNames={fullWidth:Tu,zeroRight:Mu};function Bu(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}var Wu=function(){var e=0,t=null;return{add:function(n){var r,s;0==e&&(t=Bu())&&(s=n,(r=t).styleSheet?r.styleSheet.cssText=s:r.appendChild(document.createTextNode(s)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},qu=function(){var e,t=(e=Wu(),function(t,n){Pe.useEffect((function(){return e.add(t),function(){e.remove()}}),[t&&n])});return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},Hu={left:0,top:0,right:0,gap:0},Vu=function(e){return parseInt(e||"",10)||0},Ku=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return Hu;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],s=t["padding"===e?"paddingRight":"marginRight"];return[Vu(n),Vu(r),Vu(s)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Gu=qu(),Zu="data-scroll-locked",Yu=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(a,"px ").concat(r,";\n  }\n  body[").concat(Zu,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(s,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(a,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Mu," {\n    right: ").concat(a,"px ").concat(r,";\n  }\n  \n  .").concat(Tu," {\n    margin-right: ").concat(a,"px ").concat(r,";\n  }\n  \n  .").concat(Mu," .").concat(Mu," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(Tu," .").concat(Tu," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(Zu,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(a,"px;\n  }\n")},Qu=function(){var e=parseInt(document.body.getAttribute(Zu)||"0",10);return isFinite(e)?e:0},Ju=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=void 0===r?"margin":r;Pe.useEffect((function(){return document.body.setAttribute(Zu,(Qu()+1).toString()),function(){var e=Qu()-1;e<=0?document.body.removeAttribute(Zu):document.body.setAttribute(Zu,e.toString())}}),[]);var o=Pe.useMemo((function(){return Ku(s)}),[s]);return Pe.createElement(Gu,{styles:Yu(o,!t,s,n?"":"!important")})},Xu=!1;if("undefined"!=typeof window)try{var ed=Object.defineProperty({},"passive",{get:function(){return Xu=!0,!0}});window.addEventListener("test",ed,ed),window.removeEventListener("test",ed,ed)}catch(Hw){Xu=!1}var td=!!Xu&&{passive:!1},nd=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},rd=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),sd(e,r)){var s=od(e,r);if(s[1]>s[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},sd=function(e,t){return"v"===e?function(e){return nd(e,"overflowY")}(t):function(e){return nd(e,"overflowX")}(t)},od=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},id=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ad=function(e){return[e.deltaX,e.deltaY]},ld=function(e){return e&&"current"in e?e.current:e},cd=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},ud=0,dd=[];function hd(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const pd=(fd=function(e){var t=Pe.useRef([]),n=Pe.useRef([0,0]),r=Pe.useRef(),s=Pe.useState(ud++)[0],o=Pe.useState(qu)[0],i=Pe.useRef(e);Pe.useEffect((function(){i.current=e}),[e]),Pe.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var t=function(e,t,n){if(n||2===arguments.length)for(var r,s=0,o=t.length;s<o;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(ld),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(s))})),function(){document.body.classList.remove("block-interactivity-".concat(s)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(s))}))}}}),[e.inert,e.lockRef.current,e.shards]);var a=Pe.useCallback((function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!i.current.allowPinchZoom;var s,o=id(e),a=n.current,l="deltaX"in e?e.deltaX:a[0]-o[0],c="deltaY"in e?e.deltaY:a[1]-o[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=rd(d,u);if(!h)return!0;if(h?s=d:(s="v"===d?"h":"v",h=rd(d,u)),!h)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=s),!s)return!0;var p=r.current||s;return function(e,t,n,r){var s=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),o=s*r,i=n.target,a=t.contains(i),l=!1,c=o>0,u=0,d=0;do{var h=od(e,i),p=h[0],f=h[1]-h[2]-s*p;(p||f)&&sd(e,i)&&(u+=f,d+=p),i=i instanceof ShadowRoot?i.host:i.parentNode}while(!a&&i!==document.body||a&&(t.contains(i)||t===i));return(c&&Math.abs(u)<1||!c&&Math.abs(d)<1)&&(l=!0),l}(p,t,e,"h"===p?l:c)}),[]),l=Pe.useCallback((function(e){var n=e;if(dd.length&&dd[dd.length-1]===o){var r="deltaY"in n?ad(n):id(n),s=t.current.filter((function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,s=r,t[0]===s[0]&&t[1]===s[1]);var t,s}))[0];if(s&&s.should)n.cancelable&&n.preventDefault();else if(!s){var l=(i.current.shards||[]).map(ld).filter(Boolean).filter((function(e){return e.contains(n.target)}));(l.length>0?a(n,l[0]):!i.current.noIsolation)&&n.cancelable&&n.preventDefault()}}}),[]),c=Pe.useCallback((function(e,n,r,s){var o={name:e,delta:n,target:r,should:s,shadowParent:hd(r)};t.current.push(o),setTimeout((function(){t.current=t.current.filter((function(e){return e!==o}))}),1)}),[]),u=Pe.useCallback((function(e){n.current=id(e),r.current=void 0}),[]),d=Pe.useCallback((function(t){c(t.type,ad(t),t.target,a(t,e.lockRef.current))}),[]),h=Pe.useCallback((function(t){c(t.type,id(t),t.target,a(t,e.lockRef.current))}),[]);Pe.useEffect((function(){return dd.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,td),document.addEventListener("touchmove",l,td),document.addEventListener("touchstart",u,td),function(){dd=dd.filter((function(e){return e!==o})),document.removeEventListener("wheel",l,td),document.removeEventListener("touchmove",l,td),document.removeEventListener("touchstart",u,td)}}),[]);var p=e.removeScrollBar,f=e.inert;return Pe.createElement(Pe.Fragment,null,f?Pe.createElement(o,{styles:cd(s)}):null,p?Pe.createElement(Ju,{gapMode:e.gapMode}):null)},Fu.useMedium(fd),Uu);var fd,md=Pe.forwardRef((function(e,t){return Pe.createElement($u,Lu({},e,{ref:t,sideCar:pd}))}));md.classNames=$u.classNames;var gd=new WeakMap,vd=new WeakMap,yd={},bd=0,wd=function(e){return e&&(e.host||wd(e.parentNode))},xd=function(e,t,n,r){var s=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=wd(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);yd[n]||(yd[n]=new WeakMap);var o=yd[n],i=[],a=new Set,l=new Set(s),c=function(e){e&&!a.has(e)&&(a.add(e),c(e.parentNode))};s.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(a.has(e))u(e);else try{var t=e.getAttribute(r),s=null!==t&&"false"!==t,l=(gd.get(e)||0)+1,c=(o.get(e)||0)+1;gd.set(e,l),o.set(e,c),i.push(e),1===l&&s&&vd.set(e,!0),1===c&&e.setAttribute(n,"true"),s||e.setAttribute(r,"true")}catch(d){console.error("aria-hidden: cannot operate on ",e,d)}}))};return u(t),a.clear(),bd++,function(){i.forEach((function(e){var t=gd.get(e)-1,s=o.get(e)-1;gd.set(e,t),o.set(e,s),t||(vd.has(e)||e.removeAttribute(r),vd.delete(e)),s||e.removeAttribute(n)})),--bd||(gd=new WeakMap,gd=new WeakMap,vd=new WeakMap,yd={})}},kd=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),xd(r,s,n,"aria-hidden")):function(){return null}},Ed="Dialog",[Cd,jd]=Ko(Ed),[Sd,_d]=Cd(Ed),Pd=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=Pe.useRef(null),l=Pe.useRef(null),[c=!1,u]=yi({prop:r,defaultProp:s,onChange:o});return Qe.jsx(Sd,{scope:t,triggerRef:a,contentRef:l,contentId:Xl(),titleId:Xl(),descriptionId:Xl(),open:c,onOpenChange:u,onOpenToggle:Pe.useCallback((()=>u((e=>!e))),[u]),modal:i,children:n})};Pd.displayName=Ed;var Ld="DialogTrigger",Od=Pe.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,s=_d(Ld,n),o=Vo(t,s.triggerRef);return Qe.jsx(ei.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Zd(s.open),...r,ref:o,onClick:Wo(e.onClick,s.onOpenToggle)})}));Od.displayName=Ld;var Md="DialogPortal",[Td,Nd]=Cd(Md,{forceMount:void 0}),Rd=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=_d(Md,t);return Qe.jsx(Td,{scope:t,forceMount:n,children:Pe.Children.map(r,(e=>Qe.jsx(gi,{present:n||o.open,children:Qe.jsx(mi,{asChild:!0,container:s,children:e})})))})};Rd.displayName=Md;var Dd="DialogOverlay",Ad=Pe.forwardRef(((e,t)=>{const n=Nd(Dd,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=_d(Dd,e.__scopeDialog);return o.modal?Qe.jsx(gi,{present:r||o.open,children:Qe.jsx(Id,{...s,ref:t})}):null}));Ad.displayName=Dd;var Id=Pe.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,s=_d(Dd,n);return Qe.jsx(md,{as:Zo,allowPinchZoom:!0,shards:[s.contentRef],children:Qe.jsx(ei.div,{"data-state":Zd(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})})),Ud="DialogContent",Fd=Pe.forwardRef(((e,t)=>{const n=Nd(Ud,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=_d(Ud,e.__scopeDialog);return Qe.jsx(gi,{present:r||o.open,children:o.modal?Qe.jsx(zd,{...s,ref:t}):Qe.jsx($d,{...s,ref:t})})}));Fd.displayName=Ud;var zd=Pe.forwardRef(((e,t)=>{const n=_d(Ud,e.__scopeDialog),r=Pe.useRef(null),s=Vo(t,n.contentRef,r);return Pe.useEffect((()=>{const e=r.current;if(e)return kd(e)}),[]),Qe.jsx(Bd,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Wo(e.onCloseAutoFocus,(e=>{var t;e.preventDefault(),null==(t=n.triggerRef.current)||t.focus()})),onPointerDownOutside:Wo(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()})),onFocusOutside:Wo(e.onFocusOutside,(e=>e.preventDefault()))})})),$d=Pe.forwardRef(((e,t)=>{const n=_d(Ud,e.__scopeDialog),r=Pe.useRef(!1),s=Pe.useRef(!1);return Qe.jsx(Bd,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var o,i;null==(o=e.onCloseAutoFocus)||o.call(e,t),t.defaultPrevented||(r.current||null==(i=n.triggerRef.current)||i.focus(),t.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:t=>{var o,i;null==(o=e.onInteractOutside)||o.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));const a=t.target;(null==(i=n.triggerRef.current)?void 0:i.contains(a))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})})),Bd=Pe.forwardRef(((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=_d(Ud,n),l=Pe.useRef(null),c=Vo(t,l);return _u(),Qe.jsxs(Qe.Fragment,{children:[Qe.jsx(bu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:Qe.jsx(li,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Zd(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),Qe.jsxs(Qe.Fragment,{children:[Qe.jsx(Xd,{titleId:a.titleId}),Qe.jsx(eh,{contentRef:l,descriptionId:a.descriptionId})]})]})})),Wd="DialogTitle",qd=Pe.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,s=_d(Wd,n);return Qe.jsx(ei.h2,{id:s.titleId,...r,ref:t})}));qd.displayName=Wd;var Hd="DialogDescription",Vd=Pe.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,s=_d(Hd,n);return Qe.jsx(ei.p,{id:s.descriptionId,...r,ref:t})}));Vd.displayName=Hd;var Kd="DialogClose",Gd=Pe.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,s=_d(Kd,n);return Qe.jsx(ei.button,{type:"button",...r,ref:t,onClick:Wo(e.onClick,(()=>s.onOpenChange(!1)))})}));function Zd(e){return e?"open":"closed"}Gd.displayName=Kd;var Yd="DialogTitleWarning",[Qd,Jd]=function(e,t){const n=Pe.createContext(t),r=e=>{const{children:t,...r}=e,s=Pe.useMemo((()=>r),Object.values(r));return Qe.jsx(n.Provider,{value:s,children:t})};return r.displayName=e+"Provider",[r,function(r){const s=Pe.useContext(n);if(s)return s;if(void 0!==t)return t;throw new Error(`\`${r}\` must be used within \`${e}\``)}]}(Yd,{contentName:Ud,titleName:Wd,docsSlug:"dialog"}),Xd=({titleId:e})=>{const t=Jd(Yd),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return Pe.useEffect((()=>{if(e){document.getElementById(e)||console.error(n)}}),[n,e]),null},eh=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Jd("DialogDescriptionWarning").contentName}}.`;return Pe.useEffect((()=>{var r;const s=null==(r=e.current)?void 0:r.getAttribute("aria-describedby");if(t&&s){document.getElementById(t)||console.warn(n)}}),[n,e,t]),null},th=Pd,nh=Od,rh=Rd,sh=Ad,oh=Fd,ih=qd,ah=Vd,lh=Gd,ch="AlertDialog",[uh,dh]=Ko(ch,[jd]),hh=jd(),ph=e=>{const{__scopeAlertDialog:t,...n}=e,r=hh(t);return Qe.jsx(th,{...r,...n,modal:!0})};ph.displayName=ch;Pe.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=hh(n);return Qe.jsx(nh,{...s,...r,ref:t})})).displayName="AlertDialogTrigger";var fh=e=>{const{__scopeAlertDialog:t,...n}=e,r=hh(t);return Qe.jsx(rh,{...r,...n})};fh.displayName="AlertDialogPortal";var mh=Pe.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=hh(n);return Qe.jsx(sh,{...s,...r,ref:t})}));mh.displayName="AlertDialogOverlay";var gh="AlertDialogContent",[vh,yh]=uh(gh),bh=Pe.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,o=hh(n),i=Pe.useRef(null),a=Vo(t,i),l=Pe.useRef(null);return Qe.jsx(Qd,{contentName:gh,titleName:wh,docsSlug:"alert-dialog",children:Qe.jsx(vh,{scope:n,cancelRef:l,children:Qe.jsxs(oh,{role:"alertdialog",...o,...s,ref:a,onOpenAutoFocus:Wo(s.onOpenAutoFocus,(e=>{var t;e.preventDefault(),null==(t=l.current)||t.focus({preventScroll:!0})})),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[Qe.jsx(Qo,{children:r}),Qe.jsx(_h,{contentRef:i})]})})})}));bh.displayName=gh;var wh="AlertDialogTitle",xh=Pe.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=hh(n);return Qe.jsx(ih,{...s,...r,ref:t})}));xh.displayName=wh;var kh="AlertDialogDescription",Eh=Pe.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=hh(n);return Qe.jsx(ah,{...s,...r,ref:t})}));Eh.displayName=kh;var Ch=Pe.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=hh(n);return Qe.jsx(lh,{...s,...r,ref:t})}));Ch.displayName="AlertDialogAction";var jh="AlertDialogCancel",Sh=Pe.forwardRef(((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=yh(jh,n),o=hh(n),i=Vo(t,s);return Qe.jsx(lh,{...o,...r,ref:i})}));Sh.displayName=jh;var _h=({contentRef:e})=>{const t=`\`${gh}\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \`${gh}\` by passing a \`${kh}\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${gh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return Pe.useEffect((()=>{var n;document.getElementById(null==(n=e.current)?void 0:n.getAttribute("aria-describedby"))||console.warn(t)}),[t,e]),null},Ph=mh,Lh=bh,Oh=Ch,Mh=Sh,Th=xh,Nh=Eh;const Rh=ph,Dh=fh,Ah=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx(Ph,{className:Ll("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n})));Ah.displayName=Ph.displayName;const Ih=Pe.forwardRef((({className:e,...t},n)=>Qe.jsxs(Dh,{children:[Qe.jsx(Ah,{}),Qe.jsx(Lh,{ref:n,className:Ll("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]})));Ih.displayName=Lh.displayName;const Uh=({className:e,...t})=>Qe.jsx("div",{className:Ll("flex flex-col space-y-2 text-center sm:text-left",e),...t});Uh.displayName="AlertDialogHeader";const Fh=({className:e,...t})=>Qe.jsx("div",{className:Ll("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fh.displayName="AlertDialogFooter";const zh=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx(Th,{ref:n,className:Ll("text-lg font-semibold",e),...t})));zh.displayName=Th.displayName;const $h=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx(Nh,{ref:n,className:Ll("text-sm text-muted-foreground",e),...t})));$h.displayName=Nh.displayName;const Bh=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx(Oh,{ref:n,className:Ll(Fl(),e),...t})));Bh.displayName=Oh.displayName;const Wh=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx(Mh,{ref:n,className:Ll(Fl({variant:"outline"}),"mt-2 sm:mt-0",e),...t})));function qh(e){return(qh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hh(e){var t=function(e,t){if("object"!=qh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=qh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qh(t)?t:t+""}function Vh(e,t,n){return(t=Hh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gh,Zh;Wh.displayName=Mh.displayName;var Yh=Zh?Gh:(Zh=1,Gh=function(e,t,n,r,s,o,i,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,s,o,i,a],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}),Qh=Kh(Yh),Jh=Pe.createContext(null);function Xh(e,t,n,r){var s,o,i={};return s=e,o=(e,s)=>{var o=n[s];o!==t[s]&&(i[s]=o,e(r,o))},Object.keys(s).forEach((e=>o(s[e],e))),i}function ep(e,t,n){var r,s,o,i=(r=n,s=function(n,r,s){return"function"==typeof e[s]&&n.push(google.maps.event.addListener(t,r,e[s])),n},o=[],Object.keys(r).reduce((function(e,t){return s(e,r[t],t)}),o));return i}function tp(e){google.maps.event.removeListener(e)}function np(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(tp)}function rp(e){var{updaterMap:t,eventMap:n,prevProps:r,nextProps:s,instance:o}=e,i=ep(s,o,n);return Xh(t,r,s,o),i}var sp={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},op={extraMapTypes(e,t){t.forEach((function(t,n){e.mapTypes.set(String(n),t)}))},center(e,t){e.setCenter(t)},clickableIcons(e,t){e.setClickableIcons(t)},heading(e,t){e.setHeading(t)},mapTypeId(e,t){e.setMapTypeId(t)},options(e,t){e.setOptions(t)},streetView(e,t){e.setStreetView(t)},tilt(e,t){e.setTilt(t)},zoom(e,t){e.setZoom(t)}};Pe.memo((function(e){var{children:t,options:n,id:r,mapContainerStyle:s,mapContainerClassName:o,center:i,onClick:a,onDblClick:l,onDrag:c,onDragEnd:u,onDragStart:d,onMouseMove:h,onMouseOut:p,onMouseOver:f,onMouseDown:m,onMouseUp:g,onRightClick:v,onCenterChanged:y,onLoad:b,onUnmount:w}=e,[x,k]=Pe.useState(null),E=Pe.useRef(null),[C,j]=Pe.useState(null),[S,_]=Pe.useState(null),[P,L]=Pe.useState(null),[O,M]=Pe.useState(null),[T,N]=Pe.useState(null),[R,D]=Pe.useState(null),[A,I]=Pe.useState(null),[U,F]=Pe.useState(null),[z,$]=Pe.useState(null),[B,W]=Pe.useState(null),[q,H]=Pe.useState(null),[V,K]=Pe.useState(null);return Pe.useEffect((()=>{n&&null!==x&&x.setOptions(n)}),[x,n]),Pe.useEffect((()=>{null!==x&&void 0!==i&&x.setCenter(i)}),[x,i]),Pe.useEffect((()=>{x&&l&&(null!==S&&google.maps.event.removeListener(S),_(google.maps.event.addListener(x,"dblclick",l)))}),[l]),Pe.useEffect((()=>{x&&u&&(null!==P&&google.maps.event.removeListener(P),L(google.maps.event.addListener(x,"dragend",u)))}),[u]),Pe.useEffect((()=>{x&&d&&(null!==O&&google.maps.event.removeListener(O),M(google.maps.event.addListener(x,"dragstart",d)))}),[d]),Pe.useEffect((()=>{x&&m&&(null!==T&&google.maps.event.removeListener(T),N(google.maps.event.addListener(x,"mousedown",m)))}),[m]),Pe.useEffect((()=>{x&&h&&(null!==R&&google.maps.event.removeListener(R),D(google.maps.event.addListener(x,"mousemove",h)))}),[h]),Pe.useEffect((()=>{x&&p&&(null!==A&&google.maps.event.removeListener(A),I(google.maps.event.addListener(x,"mouseout",p)))}),[p]),Pe.useEffect((()=>{x&&f&&(null!==U&&google.maps.event.removeListener(U),F(google.maps.event.addListener(x,"mouseover",f)))}),[f]),Pe.useEffect((()=>{x&&g&&(null!==z&&google.maps.event.removeListener(z),$(google.maps.event.addListener(x,"mouseup",g)))}),[g]),Pe.useEffect((()=>{x&&v&&(null!==B&&google.maps.event.removeListener(B),W(google.maps.event.addListener(x,"rightclick",v)))}),[v]),Pe.useEffect((()=>{x&&a&&(null!==q&&google.maps.event.removeListener(q),H(google.maps.event.addListener(x,"click",a)))}),[a]),Pe.useEffect((()=>{x&&c&&(null!==V&&google.maps.event.removeListener(V),K(google.maps.event.addListener(x,"drag",c)))}),[c]),Pe.useEffect((()=>{x&&y&&(null!==C&&google.maps.event.removeListener(C),j(google.maps.event.addListener(x,"center_changed",y)))}),[a]),Pe.useEffect((()=>{var e=null===E.current?null:new google.maps.Map(E.current,n);return k(e),null!==e&&b&&b(e),()=>{null!==e&&w&&w(e)}}),[]),Qe.jsx("div",{id:r,ref:E,style:s,className:o,children:Qe.jsx(Jh.Provider,{value:x,children:null!==x?t:null})})}));class ip extends Pe.PureComponent{constructor(){super(...arguments),Vh(this,"state",{map:null}),Vh(this,"registeredEvents",[]),Vh(this,"mapRef",null),Vh(this,"getInstance",(()=>null===this.mapRef?null:new google.maps.Map(this.mapRef,this.props.options))),Vh(this,"panTo",(e=>{var t=this.getInstance();t&&t.panTo(e)})),Vh(this,"setMapCallback",(()=>{null!==this.state.map&&this.props.onLoad&&this.props.onLoad(this.state.map)})),Vh(this,"getRef",(e=>{this.mapRef=e}))}componentDidMount(){var e=this.getInstance();this.registeredEvents=rp({updaterMap:op,eventMap:sp,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{map:e}}),this.setMapCallback)}componentDidUpdate(e){null!==this.state.map&&(np(this.registeredEvents),this.registeredEvents=rp({updaterMap:op,eventMap:sp,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){null!==this.state.map&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),np(this.registeredEvents))}render(){return Qe.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:Qe.jsx(Jh.Provider,{value:this.state.map,children:null!==this.state.map?this.props.children:null})})}}function ap(e,t,n,r,s,o,i){try{var a=e[o](i),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,s)}function lp(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function i(e){ap(o,r,s,i,a,"next",e)}function a(e){ap(o,r,s,i,a,"throw",e)}i(void 0)}))}}function cp(e){var{googleMapsApiKey:t,googleMapsClientId:n,version:r="weekly",language:s,region:o,libraries:i,channel:a,mapIds:l,authReferrerPolicy:c}=e,u=[];return Qh(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?u.push("key=".concat(t)):n&&u.push("client=".concat(n)),r&&u.push("v=".concat(r)),s&&u.push("language=".concat(s)),o&&u.push("region=".concat(o)),i&&i.length&&u.push("libraries=".concat(i.sort().join(","))),a&&u.push("channel=".concat(a)),l&&l.length&&u.push("map_ids=".concat(l.join(","))),c&&u.push("auth_referrer_policy=".concat(c)),u.push("loading=async"),u.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(u.join("&"))}var up="undefined"!=typeof document;function dp(e){var{url:t,id:n,nonce:r}=e;return up?new Promise((function(e,s){var o=document.getElementById(n),i=window;if(o){var a=o.getAttribute("data-state");if(o.src===t&&"error"!==a){if("ready"===a)return e(n);var l=i.initMap,c=o.onerror;return i.initMap=function(){l&&l(),e(n)},void(o.onerror=function(e){c&&c(e),s(e)})}o.remove()}var u=document.createElement("script");u.type="text/javascript",u.src=t,u.id=n,u.async=!0,u.nonce=r||"",u.onerror=function(e){u.setAttribute("data-state","error"),s(e)},i.initMap=function(){u.setAttribute("data-state","ready"),e(n)},document.head.appendChild(u)})).catch((e=>{throw console.error("injectScript error: ",e),e})):Promise.reject(new Error("document is undefined"))}function hp(e){var t=e.href;return!(!t||0!==t.indexOf("https://fonts.googleapis.com/css?family=Roboto")&&0!==t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text"))||("style"===e.tagName.toLowerCase()&&e.styleSheet&&e.styleSheet.cssText&&0===e.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(e.styleSheet.cssText="",!0):"style"===e.tagName.toLowerCase()&&e.innerHTML&&0===e.innerHTML.replace("\r\n","").indexOf(".gm-style")?(e.innerHTML="",!0):"style"===e.tagName.toLowerCase()&&!e.styleSheet&&!e.innerHTML)}function pp(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(n,r){return hp(n)||Reflect.apply(t,e,[n,r]),n};var n=e.appendChild.bind(e);e.appendChild=function(t){return hp(t)||Reflect.apply(n,e,[t]),t}}}var fp=!1;function mp(){return Qe.jsx("div",{children:"Loading..."})}var gp,vp={id:"script-loader",version:"weekly"};class yp extends Pe.PureComponent{constructor(){super(...arguments),Vh(this,"check",null),Vh(this,"state",{loaded:!1}),Vh(this,"cleanupCallback",(()=>{delete window.google.maps,this.injectScript()})),Vh(this,"isCleaningUp",lp((function*(){return new Promise((function(e){if(fp){if(up)var t=window.setInterval((function(){fp||(window.clearInterval(t),e())}),1)}else e()}))}))),Vh(this,"cleanup",(()=>{fp=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter((function(e){return"string"==typeof e.src&&e.src.includes("maps.googleapis")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("link")).filter((function(e){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===e.href})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("style")).filter((function(e){return void 0!==e.innerText&&e.innerText.length>0&&e.innerText.includes(".gm-")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))})),Vh(this,"injectScript",(()=>{this.props.preventGoogleFontsLoading&&pp(),Qh(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id),dp({id:this.props.id,nonce:this.props.nonce,url:cp(this.props)}).then((()=>{this.props.onLoad&&this.props.onLoad(),this.setState((function(){return{loaded:!0}}))})).catch((e=>{this.props.onError&&this.props.onError(e),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))}))})),Vh(this,"getRef",(e=>{this.check=e}))}componentDidMount(){if(up){if(window.google&&window.google.maps&&!fp)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch((function(e){console.error("Error at injecting script after cleaning up: ",e)}))}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),up&&e.language!==this.props.language&&(this.cleanup(),this.setState((function(){return{loaded:!1}}),this.cleanupCallback))}componentWillUnmount(){if(up){this.cleanup();window.setTimeout((()=>{this.check||(delete window.google,fp=!1)}),1),this.props.onUnmount&&this.props.onUnmount()}}render(){return Qe.jsxs(Qe.Fragment,{children:[Qe.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||Qe.jsx(mp,{})]})}}function bp(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function wp(e){var{id:t=vp.id,version:n=vp.version,nonce:r,googleMapsApiKey:s,googleMapsClientId:o,language:i,region:a,libraries:l,preventGoogleFontsLoading:c,channel:u,mapIds:d,authReferrerPolicy:h}=e,p=Pe.useRef(!1),[f,m]=Pe.useState(!1),[g,v]=Pe.useState(void 0);Pe.useEffect((function(){return p.current=!0,()=>{p.current=!1}}),[]),Pe.useEffect((function(){up&&c&&pp()}),[c]),Pe.useEffect((function(){f&&Qh(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")}),[f]);var y=cp({version:n,googleMapsApiKey:s,googleMapsClientId:o,language:i,region:a,libraries:l,channel:u,mapIds:d,authReferrerPolicy:h});Pe.useEffect((function(){function e(){p.current&&(m(!0),gp=y)}up&&(window.google&&window.google.maps&&gp===y?e():dp({id:t,url:y,nonce:r}).then(e).catch((function(e){p.current&&v(e),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(s||"-",") or Client ID (").concat(o||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(e)})))}),[t,y,r]);var b=Pe.useRef(void 0);return Pe.useEffect((function(){b.current&&l!==b.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),b.current=l}),[l]),{isLoaded:f,loadError:g,url:y}}Vh(yp,"defaultProps",vp);var xp,kp,Ep=["loadingElement","onLoad","onError","onUnmount","children"],Cp=Qe.jsx(mp,{});function jp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jp(Object(n),!0).forEach((function(t){Vh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Pe.memo((function(e){var{loadingElement:t,onLoad:n,onError:r,onUnmount:s,children:o}=e,i=bp(e,Ep),{isLoaded:a,loadError:l}=wp(i);return Pe.useEffect((function(){a&&"function"==typeof n&&n()}),[a,n]),Pe.useEffect((function(){l&&"function"==typeof r&&r(l)}),[l,r]),Pe.useEffect((function(){return()=>{s&&s()}}),[s]),a?o:t||Cp})),"function"==typeof SuppressedError&&SuppressedError,(kp=xp||(xp={}))[kp.INITIALIZED=0]="INITIALIZED",kp[kp.LOADING=1]="LOADING",kp[kp.SUCCESS=2]="SUCCESS",kp[kp.FAILURE=3]="FAILURE";var _p={},Pp={options(e,t){e.setOptions(t)}};Pe.memo((function(e){var{options:t,onLoad:n,onUnmount:r}=e,s=Pe.useContext(Jh),[o,i]=Pe.useState(null);return Pe.useEffect((()=>{null!==o&&o.setMap(s)}),[s]),Pe.useEffect((()=>{t&&null!==o&&o.setOptions(t)}),[o,t]),Pe.useEffect((()=>{var e=new google.maps.TrafficLayer(Sp(Sp({},t),{},{map:s}));return i(e),n&&n(e),()=>{null!==o&&(r&&r(o),o.setMap(null))}}),[]),null}));class Lp extends Pe.PureComponent{constructor(){super(...arguments),Vh(this,"state",{trafficLayer:null}),Vh(this,"setTrafficLayerCallback",(()=>{null!==this.state.trafficLayer&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)})),Vh(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Sp(Sp({},this.props.options),{},{map:this.context}));this.registeredEvents=rp({updaterMap:Pp,eventMap:_p,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{trafficLayer:e}}),this.setTrafficLayerCallback)}componentDidUpdate(e){null!==this.state.trafficLayer&&(np(this.registeredEvents),this.registeredEvents=rp({updaterMap:Pp,eventMap:_p,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),np(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}Vh(Lp,"contextType",Jh),Pe.memo((function(e){var{onLoad:t,onUnmount:n}=e,r=Pe.useContext(Jh),[s,o]=Pe.useState(null);return Pe.useEffect((()=>{null!==s&&s.setMap(r)}),[r]),Pe.useEffect((()=>{var e=new google.maps.BicyclingLayer;return o(e),e.setMap(r),t&&t(e),()=>{null!==e&&(n&&n(e),e.setMap(null))}}),[]),null}));class Op extends Pe.PureComponent{constructor(){super(...arguments),Vh(this,"state",{bicyclingLayer:null}),Vh(this,"setBicyclingLayerCallback",(()=>{null!==this.state.bicyclingLayer&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))}))}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState((()=>({bicyclingLayer:e})),this.setBicyclingLayerCallback)}componentWillUnmount(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}Vh(Op,"contextType",Jh),Pe.memo((function(e){var{onLoad:t,onUnmount:n}=e,r=Pe.useContext(Jh),[s,o]=Pe.useState(null);return Pe.useEffect((()=>{null!==s&&s.setMap(r)}),[r]),Pe.useEffect((()=>{var e=new google.maps.TransitLayer;return o(e),e.setMap(r),t&&t(e),()=>{null!==s&&(n&&n(s),s.setMap(null))}}),[]),null}));class Mp extends Pe.PureComponent{constructor(){super(...arguments),Vh(this,"state",{transitLayer:null}),Vh(this,"setTransitLayerCallback",(()=>{null!==this.state.transitLayer&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))}))}componentDidMount(){var e=new google.maps.TransitLayer;this.setState((function(){return{transitLayer:e}}),this.setTransitLayerCallback)}componentWillUnmount(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}function Tp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Np(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tp(Object(n),!0).forEach((function(t){Vh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Vh(Mp,"contextType",Jh);var Rp={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Dp={drawingMode(e,t){e.setDrawingMode(t)},options(e,t){e.setOptions(t)}};Pe.memo((function(e){var{options:t,drawingMode:n,onCircleComplete:r,onMarkerComplete:s,onOverlayComplete:o,onPolygonComplete:i,onPolylineComplete:a,onRectangleComplete:l,onLoad:c,onUnmount:u}=e,d=Pe.useContext(Jh),[h,p]=Pe.useState(null),[f,m]=Pe.useState(null),[g,v]=Pe.useState(null),[y,b]=Pe.useState(null),[w,x]=Pe.useState(null),[k,E]=Pe.useState(null),[C,j]=Pe.useState(null);return Pe.useEffect((()=>{null!==h&&h.setMap(d)}),[d]),Pe.useEffect((()=>{t&&null!==h&&h.setOptions(t)}),[h,t]),Pe.useEffect((()=>{null!==h&&h.setDrawingMode(null!=n?n:null)}),[h,n]),Pe.useEffect((()=>{h&&r&&(null!==f&&google.maps.event.removeListener(f),m(google.maps.event.addListener(h,"circlecomplete",r)))}),[h,r]),Pe.useEffect((()=>{h&&s&&(null!==g&&google.maps.event.removeListener(g),v(google.maps.event.addListener(h,"markercomplete",s)))}),[h,s]),Pe.useEffect((()=>{h&&o&&(null!==y&&google.maps.event.removeListener(y),b(google.maps.event.addListener(h,"overlaycomplete",o)))}),[h,o]),Pe.useEffect((()=>{h&&i&&(null!==w&&google.maps.event.removeListener(w),x(google.maps.event.addListener(h,"polygoncomplete",i)))}),[h,i]),Pe.useEffect((()=>{h&&a&&(null!==k&&google.maps.event.removeListener(k),E(google.maps.event.addListener(h,"polylinecomplete",a)))}),[h,a]),Pe.useEffect((()=>{h&&l&&(null!==C&&google.maps.event.removeListener(C),j(google.maps.event.addListener(h,"rectanglecomplete",l)))}),[h,l]),Pe.useEffect((()=>{Qh(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var e=new google.maps.drawing.DrawingManager(Np(Np({},t),{},{map:d}));return n&&e.setDrawingMode(n),r&&m(google.maps.event.addListener(e,"circlecomplete",r)),s&&v(google.maps.event.addListener(e,"markercomplete",s)),o&&b(google.maps.event.addListener(e,"overlaycomplete",o)),i&&x(google.maps.event.addListener(e,"polygoncomplete",i)),a&&E(google.maps.event.addListener(e,"polylinecomplete",a)),l&&j(google.maps.event.addListener(e,"rectanglecomplete",l)),p(e),c&&c(e),()=>{null!==h&&(f&&google.maps.event.removeListener(f),g&&google.maps.event.removeListener(g),y&&google.maps.event.removeListener(y),w&&google.maps.event.removeListener(w),k&&google.maps.event.removeListener(k),C&&google.maps.event.removeListener(C),u&&u(h),h.setMap(null))}}),[]),null}));class Ap extends Pe.PureComponent{constructor(e){super(e),Vh(this,"registeredEvents",[]),Vh(this,"state",{drawingManager:null}),Vh(this,"setDrawingManagerCallback",(()=>{null!==this.state.drawingManager&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)})),Qh(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Np(Np({},this.props.options),{},{map:this.context}));this.registeredEvents=rp({updaterMap:Dp,eventMap:Rp,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{drawingManager:e}}),this.setDrawingManagerCallback)}componentDidUpdate(e){null!==this.state.drawingManager&&(np(this.registeredEvents),this.registeredEvents=rp({updaterMap:Dp,eventMap:Rp,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),np(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}function Ip(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Up(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ip(Object(n),!0).forEach((function(t){Vh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ip(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Vh(Ap,"contextType",Jh);var Fp={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},zp={animation(e,t){e.setAnimation(t)},clickable(e,t){e.setClickable(t)},cursor(e,t){e.setCursor(t)},draggable(e,t){e.setDraggable(t)},icon(e,t){e.setIcon(t)},label(e,t){e.setLabel(t)},map(e,t){e.setMap(t)},opacity(e,t){e.setOpacity(t)},options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},shape(e,t){e.setShape(t)},title(e,t){e.setTitle(t)},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},$p={};Pe.memo((function(e){var{position:t,options:n,clusterer:r,noClustererRedraw:s,children:o,draggable:i,visible:a,animation:l,clickable:c,cursor:u,icon:d,label:h,opacity:p,shape:f,title:m,zIndex:g,onClick:v,onDblClick:y,onDrag:b,onDragEnd:w,onDragStart:x,onMouseOut:k,onMouseOver:E,onMouseUp:C,onMouseDown:j,onRightClick:S,onClickableChanged:_,onCursorChanged:P,onAnimationChanged:L,onDraggableChanged:O,onFlatChanged:M,onIconChanged:T,onPositionChanged:N,onShapeChanged:R,onTitleChanged:D,onVisibleChanged:A,onZindexChanged:I,onLoad:U,onUnmount:F}=e,z=Pe.useContext(Jh),[$,B]=Pe.useState(null),[W,q]=Pe.useState(null),[H,V]=Pe.useState(null),[K,G]=Pe.useState(null),[Z,Y]=Pe.useState(null),[Q,J]=Pe.useState(null),[X,ee]=Pe.useState(null),[te,ne]=Pe.useState(null),[re,se]=Pe.useState(null),[oe,ie]=Pe.useState(null),[ae,le]=Pe.useState(null),[ce,ue]=Pe.useState(null),[de,he]=Pe.useState(null),[pe,fe]=Pe.useState(null),[me,ge]=Pe.useState(null),[ve,ye]=Pe.useState(null),[be,we]=Pe.useState(null),[xe,ke]=Pe.useState(null),[Ee,Ce]=Pe.useState(null),[je,Se]=Pe.useState(null),[_e,Le]=Pe.useState(null),[Oe,Me]=Pe.useState(null);Pe.useEffect((()=>{null!==$&&$.setMap(z)}),[z]),Pe.useEffect((()=>{void 0!==n&&null!==$&&$.setOptions(n)}),[$,n]),Pe.useEffect((()=>{void 0!==i&&null!==$&&$.setDraggable(i)}),[$,i]),Pe.useEffect((()=>{t&&null!==$&&$.setPosition(t)}),[$,t]),Pe.useEffect((()=>{void 0!==a&&null!==$&&$.setVisible(a)}),[$,a]),Pe.useEffect((()=>{null==$||$.setAnimation(l)}),[$,l]),Pe.useEffect((()=>{$&&void 0!==c&&$.setClickable(c)}),[$,c]),Pe.useEffect((()=>{$&&void 0!==u&&$.setCursor(u)}),[$,u]),Pe.useEffect((()=>{$&&void 0!==d&&$.setIcon(d)}),[$,d]),Pe.useEffect((()=>{$&&void 0!==h&&$.setLabel(h)}),[$,h]),Pe.useEffect((()=>{$&&void 0!==p&&$.setOpacity(p)}),[$,p]),Pe.useEffect((()=>{$&&void 0!==f&&$.setShape(f)}),[$,f]),Pe.useEffect((()=>{$&&void 0!==m&&$.setTitle(m)}),[$,m]),Pe.useEffect((()=>{$&&void 0!==g&&$.setZIndex(g)}),[$,g]),Pe.useEffect((()=>{$&&y&&(null!==W&&google.maps.event.removeListener(W),q(google.maps.event.addListener($,"dblclick",y)))}),[y]),Pe.useEffect((()=>{$&&w&&(null!==H&&google.maps.event.removeListener(H),V(google.maps.event.addListener($,"dragend",w)))}),[w]),Pe.useEffect((()=>{$&&x&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener($,"dragstart",x)))}),[x]),Pe.useEffect((()=>{$&&j&&(null!==Z&&google.maps.event.removeListener(Z),Y(google.maps.event.addListener($,"mousedown",j)))}),[j]),Pe.useEffect((()=>{$&&k&&(null!==Q&&google.maps.event.removeListener(Q),J(google.maps.event.addListener($,"mouseout",k)))}),[k]),Pe.useEffect((()=>{$&&E&&(null!==X&&google.maps.event.removeListener(X),ee(google.maps.event.addListener($,"mouseover",E)))}),[E]),Pe.useEffect((()=>{$&&C&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener($,"mouseup",C)))}),[C]),Pe.useEffect((()=>{$&&S&&(null!==re&&google.maps.event.removeListener(re),se(google.maps.event.addListener($,"rightclick",S)))}),[S]),Pe.useEffect((()=>{$&&v&&(null!==oe&&google.maps.event.removeListener(oe),ie(google.maps.event.addListener($,"click",v)))}),[v]),Pe.useEffect((()=>{$&&b&&(null!==ae&&google.maps.event.removeListener(ae),le(google.maps.event.addListener($,"drag",b)))}),[b]),Pe.useEffect((()=>{$&&_&&(null!==ce&&google.maps.event.removeListener(ce),ue(google.maps.event.addListener($,"clickable_changed",_)))}),[_]),Pe.useEffect((()=>{$&&P&&(null!==de&&google.maps.event.removeListener(de),he(google.maps.event.addListener($,"cursor_changed",P)))}),[P]),Pe.useEffect((()=>{$&&L&&(null!==pe&&google.maps.event.removeListener(pe),fe(google.maps.event.addListener($,"animation_changed",L)))}),[L]),Pe.useEffect((()=>{$&&O&&(null!==me&&google.maps.event.removeListener(me),ge(google.maps.event.addListener($,"draggable_changed",O)))}),[O]),Pe.useEffect((()=>{$&&M&&(null!==ve&&google.maps.event.removeListener(ve),ye(google.maps.event.addListener($,"flat_changed",M)))}),[M]),Pe.useEffect((()=>{$&&T&&(null!==be&&google.maps.event.removeListener(be),we(google.maps.event.addListener($,"icon_changed",T)))}),[T]),Pe.useEffect((()=>{$&&N&&(null!==xe&&google.maps.event.removeListener(xe),ke(google.maps.event.addListener($,"position_changed",N)))}),[N]),Pe.useEffect((()=>{$&&R&&(null!==Ee&&google.maps.event.removeListener(Ee),Ce(google.maps.event.addListener($,"shape_changed",R)))}),[R]),Pe.useEffect((()=>{$&&D&&(null!==je&&google.maps.event.removeListener(je),Se(google.maps.event.addListener($,"title_changed",D)))}),[D]),Pe.useEffect((()=>{$&&A&&(null!==_e&&google.maps.event.removeListener(_e),Le(google.maps.event.addListener($,"visible_changed",A)))}),[A]),Pe.useEffect((()=>{$&&I&&(null!==Oe&&google.maps.event.removeListener(Oe),Me(google.maps.event.addListener($,"zindex_changed",I)))}),[I]),Pe.useEffect((()=>{var e=Up(Up(Up({},n||$p),r?$p:{map:z}),{},{position:t}),o=new google.maps.Marker(e);return r?r.addMarker(o,!!s):o.setMap(z),t&&o.setPosition(t),void 0!==a&&o.setVisible(a),void 0!==i&&o.setDraggable(i),void 0!==c&&o.setClickable(c),"string"==typeof u&&o.setCursor(u),d&&o.setIcon(d),void 0!==h&&o.setLabel(h),void 0!==p&&o.setOpacity(p),f&&o.setShape(f),"string"==typeof m&&o.setTitle(m),"number"==typeof g&&o.setZIndex(g),y&&q(google.maps.event.addListener(o,"dblclick",y)),w&&V(google.maps.event.addListener(o,"dragend",w)),x&&G(google.maps.event.addListener(o,"dragstart",x)),j&&Y(google.maps.event.addListener(o,"mousedown",j)),k&&J(google.maps.event.addListener(o,"mouseout",k)),E&&ee(google.maps.event.addListener(o,"mouseover",E)),C&&ne(google.maps.event.addListener(o,"mouseup",C)),S&&se(google.maps.event.addListener(o,"rightclick",S)),v&&ie(google.maps.event.addListener(o,"click",v)),b&&le(google.maps.event.addListener(o,"drag",b)),_&&ue(google.maps.event.addListener(o,"clickable_changed",_)),P&&he(google.maps.event.addListener(o,"cursor_changed",P)),L&&fe(google.maps.event.addListener(o,"animation_changed",L)),O&&ge(google.maps.event.addListener(o,"draggable_changed",O)),M&&ye(google.maps.event.addListener(o,"flat_changed",M)),T&&we(google.maps.event.addListener(o,"icon_changed",T)),N&&ke(google.maps.event.addListener(o,"position_changed",N)),R&&Ce(google.maps.event.addListener(o,"shape_changed",R)),D&&Se(google.maps.event.addListener(o,"title_changed",D)),A&&Le(google.maps.event.addListener(o,"visible_changed",A)),I&&Me(google.maps.event.addListener(o,"zindex_changed",I)),B(o),U&&U(o),()=>{null!==W&&google.maps.event.removeListener(W),null!==H&&google.maps.event.removeListener(H),null!==K&&google.maps.event.removeListener(K),null!==Z&&google.maps.event.removeListener(Z),null!==Q&&google.maps.event.removeListener(Q),null!==X&&google.maps.event.removeListener(X),null!==te&&google.maps.event.removeListener(te),null!==re&&google.maps.event.removeListener(re),null!==oe&&google.maps.event.removeListener(oe),null!==ce&&google.maps.event.removeListener(ce),null!==de&&google.maps.event.removeListener(de),null!==pe&&google.maps.event.removeListener(pe),null!==me&&google.maps.event.removeListener(me),null!==ve&&google.maps.event.removeListener(ve),null!==be&&google.maps.event.removeListener(be),null!==xe&&google.maps.event.removeListener(xe),null!==je&&google.maps.event.removeListener(je),null!==_e&&google.maps.event.removeListener(_e),null!==Oe&&google.maps.event.removeListener(Oe),F&&F(o),r?r.removeMarker(o,!!s):o&&o.setMap(null)}}),[]);var Te=Pe.useMemo((()=>o?Pe.Children.map(o,(e=>{if(!Pe.isValidElement(e))return e;var t=e;return Pe.cloneElement(t,{anchor:$})})):null),[o,$]);return Qe.jsx(Qe.Fragment,{children:Te})||null}));class Bp extends Pe.PureComponent{constructor(){super(...arguments),Vh(this,"registeredEvents",[])}componentDidMount(){var e=this;return lp((function*(){var t=Up(Up(Up({},e.props.options||$p),e.props.clusterer?$p:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=rp({updaterMap:zp,eventMap:Fp,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)}))()}componentDidUpdate(e){this.marker&&(np(this.registeredEvents),this.registeredEvents=rp({updaterMap:zp,eventMap:Fp,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),np(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){return(this.props.children?Pe.Children.map(this.props.children,(e=>{if(!Pe.isValidElement(e))return e;var t=e;return Pe.cloneElement(t,{anchor:this.marker})})):null)||null}}Vh(Bp,"contextType",Jh);var Wp=function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),r=this.cluster.getBounds(),s=t.getMap();null!==s&&"fitBounds"in s&&s.fitBounds(r),this.timeOut=window.setTimeout((function(){var e=t.getMap();if(null!==e){"fitBounds"in e&&e.fitBounds(r);var s=e.getZoom()||0;null!==n&&s>n&&e.setZoom(n+1)}}),100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),null===(e=this.getPanes())||void 0===e||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();null!==t&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),null!==this.timeOut&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=null!==e?"".concat(e.y,"px"):"0",this.div.style.left=null!==e?"".concat(e.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var e,t,n,r,s,o;if(this.div&&this.center){var i=null===this.sums||void 0===this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,a=this.backgroundPosition.split(" "),l=parseInt((null===(e=a[0])||void 0===e?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),c=parseInt((null===(t=a[1])||void 0===t?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),u=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(null!==u?"".concat(u.y,"px"):"0","; left: ").concat(null!==u?"".concat(u.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var d=document.createElement("img");d.alt=i,d.src=this.url,d.width=this.width,d.height=this.height,d.setAttribute("style","position: absolute; top: ".concat(c,"px; left: ").concat(l,"px")),this.cluster.getClusterer().enableRetinaIcons||(d.style.clip="rect(-".concat(c,"px, -").concat(l+this.width,"px, -").concat(c+this.height,", -").concat(l,")"));var h=document.createElement("div");h.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),(null===(n=this.sums)||void 0===n?void 0:n.text)&&(h.innerText="".concat(null===(r=this.sums)||void 0===r?void 0:r.text)),(null===(s=this.sums)||void 0===s?void 0:s.html)&&(h.innerHTML="".concat(null===(o=this.sums)||void 0===o?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(d),this.div.appendChild(h),this.div.title=i,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},e.prototype.setCenter=function(e){this.center=e},e.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return null!==t&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},e}(),qp=function(){function e(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new Wp(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=0,n=this.getMarkers();t<n.length;t++){var r=n[t].getPosition();r&&e.extend(r)}return e},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter&&(n=e.getPosition())){var r=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(r-1)+n.lat())/r,(this.center.lng()*(r-1)+n.lng())/r),this.calculateBounds()}}else(n=e.getPosition())&&(this.center=n,this.calculateBounds());e.isAdded=!0,this.markers.push(e);var s=this.markers.length,o=this.markerClusterer.getMaxZoom(),i=null===(t=this.map)||void 0===t?void 0:t.getZoom();if(null!==o&&void 0!==i&&i>o)e.getMap()!==this.map&&e.setMap(this.map);else if(s<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(s===this.minClusterSize)for(var a=0,l=this.markers;a<l.length;a++){l[a].setMap(null)}else e.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(e){if(null!==this.bounds){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),r=null===(e=this.map)||void 0===e?void 0:e.getZoom();null!==n&&void 0!==r&&r>n||t<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},e.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},e}();function Hp(e,t){var n=e.length,r=n.toString().length,s=Math.min(r,t);return{text:n.toString(),index:s,title:""}}var Vp=[53,56,66,78,90],Kp=function(){function e(t,n,r){void 0===n&&(n=[]),void 0===r&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,void 0!==r.zoomOnClick&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,void 0!==r.averageCenter&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,void 0!==r.ignoreHidden&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,void 0!==r.enableRetinaIcons&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.imageExtension=r.imageExtension||"png",this.imageSizes=r.imageSizes||Vp,this.calculator=r.calculator||Hp,this.batchSize=r.batchSize||2e3,this.batchSizeIE=r.batchSizeIE||500,this.clusterClass=r.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(null===(e=this.getMap())||void 0===e?void 0:e.getZoom())!==(this.get("minZoom")||0)&&(null===(t=this.getMap())||void 0===t?void 0:t.getZoom())!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),null!==e&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var n=t[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var r=0,s=this.clusters;r<s.length;r++){s[r].remove()}this.clusters=[];for(var o=0,i=this.listeners;o<i.length;o++){var a=i[o];google.maps.event.removeListener(a)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},e.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0,r=e;n<r.length;n++){var s=r[n].getPosition();s&&t.extend(s)}var o=this.getMap();null!==o&&"fitBounds"in o&&o.fitBounds(t)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(e){this.gridSize=e},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(e){this.maxZoom=e},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(e){this.styles=e},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(e){this.title=e},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(e){this.averageCenter=e},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(e){this.imageExtension=e},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(e){this.imagePath=e},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(e){this.imageSizes=e},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(e){this.calculator=e},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(e){this.clusterClass=e},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},e.prototype.addMarkers=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];r&&this.pushMarkerTo(r)}t||this.redraw()},e.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",(function(){t.ready&&(e.isAdded=!1,t.repaint())})),e.isAdded=!1,this.markers.push(e)},e.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return-1!==t&&(e.setMap(null),this.markers.splice(t,1),!0)},e.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},e.prototype.removeMarkers=function(e,t){for(var n=!1,r=0,s=e;r<s.length;r++){var o=s[r];n=n||this.removeMarker_(o)}return!t&&n&&this.repaint(),n},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout((function(){for(var t=0,n=e;t<n.length;t++){n[t].remove()}}),0)},e.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));null!==n&&(n.x+=this.gridSize,n.y-=this.gridSize);var r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(null!==r&&(r.x-=this.gridSize,r.y+=this.gridSize),null!==n){var s=t.fromDivPixelToLatLng(n);null!==s&&e.extend(s)}if(null!==r){var o=t.fromDivPixelToLatLng(r);null!==o&&e.extend(o)}return e},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(e){for(var t=0,n=this.clusters;t<n.length;t++){n[t].remove()}this.clusters=[];for(var r=0,s=this.markers;r<s.length;r++){var o=s[r];o.isAdded=!1,e&&o.setMap(null)}},e.prototype.distanceBetweenPoints=function(e,t){var n=(t.lat()-e.lat())*Math.PI/180,r=(t.lng()-e.lng())*Math.PI/180,s=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371},e.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return!!n&&t.contains(n)},e.prototype.addToClosestCluster=function(e){for(var t,n=4e4,r=null,s=0,o=this.clusters;s<o.length;s++){var i=(t=o[s]).getCenter(),a=e.getPosition();if(i&&a){var l=this.distanceBetweenPoints(i,a);l<n&&(n=l,r=t)}}r&&r.isMarkerInClusterBounds(e)?r.addMarker(e):((t=new qp(this)).addMarker(e),this.clusters.push(t))},e.prototype.createClusters=function(e){var t=this;if(this.ready){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),r=(null!==n&&"getBounds"in n?n.getBounds():null),s=((null==n?void 0:n.getZoom())||0)>3?new google.maps.LatLngBounds(null==r?void 0:r.getSouthWest(),null==r?void 0:r.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),o=this.getExtendedBounds(s),i=Math.min(e+this.batchSize,this.markers.length),a=e;a<i;a++){var l=this.markers[a];l&&!l.isAdded&&this.isMarkerInBounds(l,o)&&(!this.ignoreHidden||this.ignoreHidden&&l.getVisible())&&this.addToClosestCluster(l)}if(i<this.markers.length)this.timerRefStatic=window.setTimeout((function(){t.createClusters(i)}),0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var c=0,u=this.clusters;c<u.length;c++){u[c].updateIcon()}}}},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype){var n=t;this.prototype[n]=e.prototype[n]}return this}.apply(e,[t])},e}();function Gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Zp={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Yp={averageCenter(e,t){e.setAverageCenter(t)},batchSizeIE(e,t){e.setBatchSizeIE(t)},calculator(e,t){e.setCalculator(t)},clusterClass(e,t){e.setClusterClass(t)},enableRetinaIcons(e,t){e.setEnableRetinaIcons(t)},gridSize(e,t){e.setGridSize(t)},ignoreHidden(e,t){e.setIgnoreHidden(t)},imageExtension(e,t){e.setImageExtension(t)},imagePath(e,t){e.setImagePath(t)},imageSizes(e,t){e.setImageSizes(t)},maxZoom(e,t){e.setMaxZoom(t)},minimumClusterSize(e,t){e.setMinimumClusterSize(t)},styles(e,t){e.setStyles(t)},title(e,t){e.setTitle(t)},zoomOnClick(e,t){e.setZoomOnClick(t)}},Qp={};Pe.memo((function(e){var{children:t,options:n,averageCenter:r,batchSizeIE:s,calculator:o,clusterClass:i,enableRetinaIcons:a,gridSize:l,ignoreHidden:c,imageExtension:u,imagePath:d,imageSizes:h,maxZoom:p,minimumClusterSize:f,styles:m,title:g,zoomOnClick:v,onClick:y,onClusteringBegin:b,onClusteringEnd:w,onMouseOver:x,onMouseOut:k,onLoad:E,onUnmount:C}=e,[j,S]=Pe.useState(null),_=Pe.useContext(Jh),[P,L]=Pe.useState(null),[O,M]=Pe.useState(null),[T,N]=Pe.useState(null),[R,D]=Pe.useState(null),[A,I]=Pe.useState(null);return Pe.useEffect((()=>{j&&k&&(null!==R&&google.maps.event.removeListener(R),D(google.maps.event.addListener(j,Zp.onMouseOut,k)))}),[k]),Pe.useEffect((()=>{j&&x&&(null!==A&&google.maps.event.removeListener(A),I(google.maps.event.addListener(j,Zp.onMouseOver,x)))}),[x]),Pe.useEffect((()=>{j&&y&&(null!==P&&google.maps.event.removeListener(P),L(google.maps.event.addListener(j,Zp.onClick,y)))}),[y]),Pe.useEffect((()=>{j&&b&&(null!==O&&google.maps.event.removeListener(O),M(google.maps.event.addListener(j,Zp.onClusteringBegin,b)))}),[b]),Pe.useEffect((()=>{j&&w&&(null!==T&&google.maps.event.removeListener(T),M(google.maps.event.addListener(j,Zp.onClusteringEnd,w)))}),[w]),Pe.useEffect((()=>{void 0!==r&&null!==j&&Yp.averageCenter(j,r)}),[j,r]),Pe.useEffect((()=>{void 0!==s&&null!==j&&Yp.batchSizeIE(j,s)}),[j,s]),Pe.useEffect((()=>{void 0!==o&&null!==j&&Yp.calculator(j,o)}),[j,o]),Pe.useEffect((()=>{void 0!==i&&null!==j&&Yp.clusterClass(j,i)}),[j,i]),Pe.useEffect((()=>{void 0!==a&&null!==j&&Yp.enableRetinaIcons(j,a)}),[j,a]),Pe.useEffect((()=>{void 0!==l&&null!==j&&Yp.gridSize(j,l)}),[j,l]),Pe.useEffect((()=>{void 0!==c&&null!==j&&Yp.ignoreHidden(j,c)}),[j,c]),Pe.useEffect((()=>{void 0!==u&&null!==j&&Yp.imageExtension(j,u)}),[j,u]),Pe.useEffect((()=>{void 0!==d&&null!==j&&Yp.imagePath(j,d)}),[j,d]),Pe.useEffect((()=>{void 0!==h&&null!==j&&Yp.imageSizes(j,h)}),[j,h]),Pe.useEffect((()=>{void 0!==p&&null!==j&&Yp.maxZoom(j,p)}),[j,p]),Pe.useEffect((()=>{void 0!==f&&null!==j&&Yp.minimumClusterSize(j,f)}),[j,f]),Pe.useEffect((()=>{void 0!==m&&null!==j&&Yp.styles(j,m)}),[j,m]),Pe.useEffect((()=>{void 0!==g&&null!==j&&Yp.title(j,g)}),[j,g]),Pe.useEffect((()=>{void 0!==v&&null!==j&&Yp.zoomOnClick(j,v)}),[j,v]),Pe.useEffect((()=>{if(_){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gp(Object(n),!0).forEach((function(t){Vh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n||Qp),t=new Kp(_,[],e);return r&&Yp.averageCenter(t,r),s&&Yp.batchSizeIE(t,s),o&&Yp.calculator(t,o),i&&Yp.clusterClass(t,i),a&&Yp.enableRetinaIcons(t,a),l&&Yp.gridSize(t,l),c&&Yp.ignoreHidden(t,c),u&&Yp.imageExtension(t,u),d&&Yp.imagePath(t,d),h&&Yp.imageSizes(t,h),p&&Yp.maxZoom(t,p),f&&Yp.minimumClusterSize(t,f),m&&Yp.styles(t,m),g&&Yp.title(t,g),v&&Yp.zoomOnClick(t,v),k&&D(google.maps.event.addListener(t,Zp.onMouseOut,k)),x&&I(google.maps.event.addListener(t,Zp.onMouseOver,x)),y&&L(google.maps.event.addListener(t,Zp.onClick,y)),b&&M(google.maps.event.addListener(t,Zp.onClusteringBegin,b)),w&&N(google.maps.event.addListener(t,Zp.onClusteringEnd,w)),S(t),E&&E(t),()=>{null!==R&&google.maps.event.removeListener(R),null!==A&&google.maps.event.removeListener(A),null!==P&&google.maps.event.removeListener(P),null!==O&&google.maps.event.removeListener(O),null!==T&&google.maps.event.removeListener(T),C&&C(t)}}}),[]),null!==j&&t(j)||null}));class Jp extends Pe.PureComponent{constructor(){super(...arguments),Vh(this,"registeredEvents",[]),Vh(this,"state",{markerClusterer:null}),Vh(this,"setClustererCallback",(()=>{null!==this.state.markerClusterer&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)}))}componentDidMount(){if(this.context){var e=new Kp(this.context,[],this.props.options);this.registeredEvents=rp({updaterMap:Yp,eventMap:Zp,prevProps:{},nextProps:this.props,instance:e}),this.setState((()=>({markerClusterer:e})),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(np(this.registeredEvents),this.registeredEvents=rp({updaterMap:Yp,eventMap:Zp,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),np(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null}}function Xp(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}Vh(Jp,"contextType",Jh);var ef=function(){function e(t){void 0===t&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),void 0===t.visible&&(void 0===t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var e=this;if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),"string"==typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var t=this.getPanes();if(null!==t&&t[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var n=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-n.left-n.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var r=0,s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];r<s.length;r++){var o=s[r];this.eventListeners.push(google.maps.event.addListener(this.div,o,Xp))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",(function(){e.div&&(e.div.style.cursor="default")})))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",(function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation||Xp(t)})),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var e="";return""!==this.closeBoxURL&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&""!==this.closeBoxURL?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,r=0,s=t.getBounds();s&&!s.contains(this.position)&&t.setCenter(this.position);var o=t.getDiv(),i=o.offsetWidth,a=o.offsetHeight,l=this.pixelOffset.width,c=this.pixelOffset.height,u=this.div.offsetWidth,d=this.div.offsetHeight,h=this.infoBoxClearance.width,p=this.infoBoxClearance.height,f=this.getProjection().fromLatLngToContainerPixel(this.position);null!==f&&(f.x<-l+h?n=f.x+l-h:f.x+u+l+h>i&&(n=f.x+u+l+h-i),this.alignBottom?f.y<-c+p+d?r=f.y+c-p-d:f.y+c+p>a&&(r=f.y+c+p-a):f.y<-c+p?r=f.y+c-p:f.y+d+c+p>a&&(r=f.y+d+c+p-a)),0===n&&0===r||t.panBy(n,r)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)",void 0!==this.div.style.opacity&&""!==this.div.style.opacity){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*n+')"',this.div.style.filter="alpha(opacity="+100*n+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var r=this.div.currentStyle;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}return e},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection().fromLatLngToDivPixel(this.position);null!==e&&(this.div.style.left=e.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(e.y+this.pixelOffset.height)+"px":this.div.style.top=e.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(e){void 0===e&&(e={}),void 0!==e.boxClass&&(this.boxClass=e.boxClass,this.setBoxStyle()),void 0!==e.boxStyle&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),void 0!==e.content&&this.setContent(e.content),void 0!==e.disableAutoPan&&(this.disableAutoPan=e.disableAutoPan),void 0!==e.maxWidth&&(this.maxWidth=e.maxWidth),void 0!==e.pixelOffset&&(this.pixelOffset=e.pixelOffset),void 0!==e.alignBottom&&(this.alignBottom=e.alignBottom),void 0!==e.position&&this.setPosition(e.position),void 0!==e.zIndex&&this.setZIndex(e.zIndex),void 0!==e.closeBoxMargin&&(this.closeBoxMargin=e.closeBoxMargin),void 0!==e.closeBoxURL&&(this.closeBoxURL=e.closeBoxURL),void 0!==e.infoBoxClearance&&(this.infoBoxClearance=e.infoBoxClearance),void 0!==e.isHidden&&(this.isHidden=e.isHidden),void 0!==e.visible&&(this.isHidden=!e.visible),void 0!==e.enableEventPropagation&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"==typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"==typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var e=this.getMap();return null!=e&&!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",(function(){var e=t.getPosition();n.setPosition(e)})),this.mapListener=google.maps.event.addListener(t,"map_changed",(function(){n.setMap(t.map)}))),this.setMap(e),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var n=t[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)Object.prototype.hasOwnProperty.call(this,t)||(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},e}(),tf=["position"],nf=["position"];function rf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rf(Object(n),!0).forEach((function(t){Vh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var of,af,lf={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},cf={options(e,t){e.setOptions(t)},position(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},uf={};Pe.memo((function(e){var{children:t,anchor:n,options:r,position:s,zIndex:o,onCloseClick:i,onDomReady:a,onContentChanged:l,onPositionChanged:c,onZindexChanged:u,onLoad:d,onUnmount:h}=e,p=Pe.useContext(Jh),[f,m]=Pe.useState(null),[g,v]=Pe.useState(null),[y,b]=Pe.useState(null),[w,x]=Pe.useState(null),[k,E]=Pe.useState(null),[C,j]=Pe.useState(null),S=Pe.useRef(null);return Pe.useEffect((()=>{p&&null!==f&&(f.close(),n?f.open(p,n):f.getPosition()&&f.open(p))}),[p,f,n]),Pe.useEffect((()=>{r&&null!==f&&f.setOptions(r)}),[f,r]),Pe.useEffect((()=>{if(s&&null!==f){var e=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);f.setPosition(e)}}),[s]),Pe.useEffect((()=>{"number"==typeof o&&null!==f&&f.setZIndex(o)}),[o]),Pe.useEffect((()=>{f&&i&&(null!==g&&google.maps.event.removeListener(g),v(google.maps.event.addListener(f,"closeclick",i)))}),[i]),Pe.useEffect((()=>{f&&a&&(null!==y&&google.maps.event.removeListener(y),b(google.maps.event.addListener(f,"domready",a)))}),[a]),Pe.useEffect((()=>{f&&l&&(null!==w&&google.maps.event.removeListener(w),x(google.maps.event.addListener(f,"content_changed",l)))}),[l]),Pe.useEffect((()=>{f&&c&&(null!==k&&google.maps.event.removeListener(k),E(google.maps.event.addListener(f,"position_changed",c)))}),[c]),Pe.useEffect((()=>{f&&u&&(null!==C&&google.maps.event.removeListener(C),j(google.maps.event.addListener(f,"zindex_changed",u)))}),[u]),Pe.useEffect((()=>{if(p){var e,t=r||uf,{position:s}=t,o=bp(t,tf);!s||s instanceof google.maps.LatLng||(e=new google.maps.LatLng(s.lat,s.lng));var _=new ef(sf(sf({},o),e?{position:e}:{}));S.current=document.createElement("div"),m(_),i&&v(google.maps.event.addListener(_,"closeclick",i)),a&&b(google.maps.event.addListener(_,"domready",a)),l&&x(google.maps.event.addListener(_,"content_changed",l)),c&&E(google.maps.event.addListener(_,"position_changed",c)),u&&j(google.maps.event.addListener(_,"zindex_changed",u)),_.setContent(S.current),n?_.open(p,n):_.getPosition()?_.open(p):Qh(!1,"You must provide either an anchor or a position prop for <InfoBox>."),d&&d(_)}return()=>{null!==f&&(g&&google.maps.event.removeListener(g),w&&google.maps.event.removeListener(w),y&&google.maps.event.removeListener(y),k&&google.maps.event.removeListener(k),C&&google.maps.event.removeListener(C),h&&h(f),f.close())}}),[]),S.current?Le.createPortal(Pe.Children.only(t),S.current):null}));class df extends Pe.PureComponent{constructor(){super(...arguments),Vh(this,"registeredEvents",[]),Vh(this,"containerElement",null),Vh(this,"state",{infoBox:null}),Vh(this,"open",((e,t)=>{t?null!==this.context&&e.open(this.context,t):e.getPosition()?null!==this.context&&e.open(this.context):Qh(!1,"You must provide either an anchor or a position prop for <InfoBox>.")})),Vh(this,"setInfoBoxCallback",(()=>{null!==this.state.infoBox&&null!==this.containerElement&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))}))}componentDidMount(){var e,t=this.props.options||{},{position:n}=t,r=bp(t,nf);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var s=new ef(sf(sf({},r),e?{position:e}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=rp({updaterMap:cf,eventMap:lf,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;null!==t&&(np(this.registeredEvents),this.registeredEvents=rp({updaterMap:cf,eventMap:lf,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;null!==t&&(e&&e(t),np(this.registeredEvents),t.close())}render(){return this.containerElement?Le.createPortal(Pe.Children.only(this.props.children),this.containerElement):null}}Vh(df,"contextType",Jh);var hf=Kh(af?of:(af=1,of=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,s,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(s=r;0!=s--;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(s=r;0!=s--;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=r;0!=s--;){var i=o[s];if(!e(t[i],n[i]))return!1}return!0}return t!=t&&n!=n})),pf=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class ff{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,n]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");var r=n>>4;if(1!==r)throw new Error("Got v".concat(r," data when expected v").concat(1,"."));var s=pf[15&n];if(!s)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[i]=new Uint32Array(e,4,1);return new ff(i,o,s,e)}constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,r=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var s=pf.indexOf(this.ArrayType),o=2*e*this.ArrayType.BYTES_PER_ELEMENT,i=e*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-i%8)%8;if(s<0)throw new Error("Unexpected typed array class: ".concat(n,"."));r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+i+a,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+o+i+a),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+i+a,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+s]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return mf(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:o,nodeSize:i}=this,a=[0,s.length-1,0],l=[];a.length;){var c=a.pop()||0,u=a.pop()||0,d=a.pop()||0;if(u-d<=i)for(var h=d;h<=u;h++){var p=o[2*h],f=o[2*h+1];p>=e&&p<=n&&f>=t&&f<=r&&l.push(s[h])}else{var m=d+u>>1,g=o[2*m],v=o[2*m+1];g>=e&&g<=n&&v>=t&&v<=r&&l.push(s[m]),(0===c?e<=g:t<=v)&&(a.push(d),a.push(m-1),a.push(1-c)),(0===c?n>=g:r>=v)&&(a.push(m+1),a.push(u),a.push(1-c))}}return l}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:r,coords:s,nodeSize:o}=this,i=[0,r.length-1,0],a=[],l=n*n;i.length;){var c=i.pop()||0,u=i.pop()||0,d=i.pop()||0;if(u-d<=o)for(var h=d;h<=u;h++)bf(s[2*h],s[2*h+1],e,t)<=l&&a.push(r[h]);else{var p=d+u>>1,f=s[2*p],m=s[2*p+1];bf(f,m,e,t)<=l&&a.push(r[p]),(0===c?e-n<=f:t-n<=m)&&(i.push(d),i.push(p-1),i.push(1-c)),(0===c?e+n>=f:t+n>=m)&&(i.push(p+1),i.push(u),i.push(1-c))}}return a}}function mf(e,t,n,r,s,o){if(!(s-r<=n)){var i=r+s>>1;gf(e,t,i,r,s,o),mf(e,t,n,r,i-1,1-o),mf(e,t,n,i+1,s,1-o)}}function gf(e,t,n,r,s,o){for(;s>r;){if(s-r>600){var i=s-r+1,a=n-r+1,l=Math.log(i),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(i-c)/i)*(a-i/2<0?-1:1);gf(e,t,n,Math.max(r,Math.floor(n-a*c/i+u)),Math.min(s,Math.floor(n+(i-a)*c/i+u)),o)}var d=t[2*n+o],h=r,p=s;for(vf(e,t,r,n),t[2*s+o]>d&&vf(e,t,r,s);h<p;){for(vf(e,t,h,p),h++,p--;t[2*h+o]<d;)h++;for(;t[2*p+o]>d;)p--}t[2*r+o]===d?vf(e,t,r,p):vf(e,t,++p,s),p<=n&&(r=p+1),n<=p&&(s=p-1)}}function vf(e,t,n,r){yf(e,n,r),yf(t,2*n,2*r),yf(t,2*n+1,2*r+1)}function yf(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function bf(e,t,n,r){var s=e-n,o=t-r;return s*s+o*o}var wf={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},xf=Math.fround||(e=>t=>(e[0]=+t,e[0]))(new Float32Array(1));class kf{constructor(e){this.options=Object.assign(Object.create(wf),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:n,maxZoom:r}=this.options;t&&console.time("total time");var s="prepare ".concat(e.length," points");t&&console.time(s),this.points=e;for(var o=[],i=0;i<e.length;i++){var a=e[i];if(a.geometry){var[l,c]=a.geometry.coordinates,u=xf(jf(l)),d=xf(Sf(c));o.push(u,d,1/0,i,-1,1),this.options.reduce&&o.push(0)}}var h=this.trees[r+1]=this._createTree(o);t&&console.timeEnd(s);for(var p=r;p>=n;p--){var f=+Date.now();h=this.trees[p]=this._createTree(this._cluster(h,p)),t&&console.log("z%d: %d clusters in %dms",p,h.numItems,+Date.now()-f)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),s=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,s=180;else if(n>s){var i=this.getClusters([n,r,180,o],t),a=this.getClusters([-180,r,s,o],t);return i.concat(a)}var l=this.trees[this._limitZoom(t)],c=l.range(jf(n),Sf(o),jf(s),Sf(r)),u=l.data,d=[];for(var h of c){var p=this.stride*h;d.push(u[p+5]>1?Ef(u,p,this.clusterProps):this.points[u[p+3]])}return d}getChildren(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",s=this.trees[n];if(!s)throw new Error(r);var o=s.data;if(t*this.stride>=o.length)throw new Error(r);var i=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=o[t*this.stride],l=o[t*this.stride+1],c=s.within(a,l,i),u=[];for(var d of c){var h=d*this.stride;o[h+4]===e&&u.push(o[h+5]>1?Ef(o,h,this.clusterProps):this.points[o[h+3]])}if(0===u.length)throw new Error(r);return u}getLeaves(e,t,n){t=t||10,n=n||0;var r=[];return this._appendLeaves(r,e,t,n,0),r}getTile(e,t,n){var r=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:o,radius:i}=this.options,a=i/o,l=(n-a)/s,c=(n+1+a)/s,u={features:[]};return this._addTileFeatures(r.range((t-a)/s,l,(t+1+a)/s,c),r.data,t,n,s,u),0===t&&this._addTileFeatures(r.range(1-a/s,l,1,c),r.data,s,n,s,u),t===s-1&&this._addTileFeatures(r.range(0,l,a/s,c),r.data,-1,n,s,u),u.features.length?u:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,r,s){var o=this.getChildren(t);for(var i of o){var a=i.properties;if(a&&a.cluster?s+a.point_count<=r?s+=a.point_count:s=this._appendLeaves(e,a.cluster_id,n,r,s):s<r?s++:e.push(i),e.length===n)break}return s}_createTree(e){for(var t=new ff(e.length/this.stride|0,this.options.nodeSize,Float32Array),n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,n,r,s,o){for(var i of e){var a=i*this.stride,l=t[a+5]>1,c=void 0,u=void 0,d=void 0;if(l)c=Cf(t,a,this.clusterProps),u=t[a],d=t[a+1];else{var h=this.points[t[a+3]];c=h.properties;var[p,f]=h.geometry.coordinates;u=jf(p),d=Sf(f)}var m={type:1,geometry:[[Math.round(this.options.extent*(u*s-n)),Math.round(this.options.extent*(d*s-r))]],tags:c},g=void 0;void 0!==(g=l||this.options.generateId?t[a+3]:this.points[t[a+3]].id)&&(m.id=g),o.features.push(m)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:n,extent:r,reduce:s,minPoints:o}=this.options,i=n/(r*Math.pow(2,t)),a=e.data,l=[],c=this.stride,u=0;u<a.length;u+=c)if(!(a[u+2]<=t)){a[u+2]=t;var d=a[u],h=a[u+1],p=e.within(a[u],a[u+1],i),f=a[u+5],m=f;for(var g of p){var v=g*c;a[v+2]>t&&(m+=a[v+5])}if(m>f&&m>=o){var y=d*f,b=h*f,w=void 0,x=-1,k=(u/c<<5)+(t+1)+this.points.length;for(var E of p){var C=E*c;if(!(a[C+2]<=t)){a[C+2]=t;var j=a[C+5];y+=a[C]*j,b+=a[C+1]*j,a[C+4]=k,s&&(w||(w=this._map(a,u,!0),x=this.clusterProps.length,this.clusterProps.push(w)),s(w,this._map(a,C)))}}a[u+4]=k,l.push(y/m,b/m,1/0,k,-1,m),s&&l.push(x)}else{for(var S=0;S<c;S++)l.push(a[u+S]);if(m>1)for(var _ of p){var P=_*c;if(!(a[P+2]<=t)){a[P+2]=t;for(var L=0;L<c;L++)l.push(a[P+L])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+5]>1){var r=this.clusterProps[e[t+6]];return n?Object.assign({},r):r}var s=this.points[e[t+3]].properties,o=this.options.map(s);return n&&o===s?Object.assign({},o):o}}function Ef(e,t,n){return{type:"Feature",id:e[t+3],properties:Cf(e,t,n),geometry:{type:"Point",coordinates:[(o=e[t],360*(o-.5)),(r=e[t+1],s=(180-360*r)*Math.PI/180,360*Math.atan(Math.exp(s))/Math.PI-90)]}};var r,s,o;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */}function Cf(e,t,n){var r=e[t+5],s=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,o=e[t+6],i=-1===o?{}:Object.assign({},n[o]);return Object.assign(i,{cluster:!0,cluster_id:e[t+3],point_count:r,point_count_abbreviated:s})}function jf(e){return e/360+.5}function Sf(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}class _f{static isAdvancedMarkerAvailable(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}class Pf{constructor(e){var{markers:t,position:n}=e;this.markers=t,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(0!==this.markers.length||this._position){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(_f.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter((e=>_f.getVisible(e))).length}push(e){this.markers.push(e)}delete(){this.marker&&(_f.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Lf{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return Tf(t)}}var Of,Mf,Tf=e=>e.map((e=>new Pf({position:_f.getPosition(e),markers:[e]})));class Nf extends Lf{constructor(e){var{maxZoom:t,radius:n=60}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new kf(Object.assign({maxZoom:this.maxZoom,radius:n},r))}calculate(e){var t=!1,n={zoom:e.map.getZoom()};if(!hf(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var r=this.markers.map((e=>{var t=_f.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}}));this.superCluster.load(r)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!hf(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map((e=>this.transformCluster(e)))}transformCluster(e){var{geometry:{coordinates:[t,n]},properties:r}=e;if(r.cluster)return new Pf({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map((e=>e.properties.marker)),position:{lat:n,lng:t}});var s=r.marker;return new Pf({markers:[s],position:_f.getPosition(s)})}}class Rf{constructor(e,t){this.markers={sum:e.length};var n=t.map((e=>e.count)),r=n.reduce(((e,t)=>e+t),0);this.clusters={count:t.length,markers:{mean:r/t.length,sum:r,min:Math.min(...n),max:Math.max(...n)}}}}class Df{render(e,t,n){var{count:r,position:s}=e,o=r>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",i='<svg fill="'.concat(o,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">').concat(r,"</text>\n</svg>"),a="Cluster of ".concat(r," markers"),l=Number(google.maps.Marker.MAX_ZINDEX)+r;if(_f.isAdvancedMarkerAvailable(n)){var c=(new DOMParser).parseFromString(i,"image/svg+xml").documentElement;c.setAttribute("transform","translate(0 25)");var u={map:n,position:s,zIndex:l,title:a,content:c};return new google.maps.marker.AdvancedMarkerElement(u)}var d={position:s,zIndex:l,title:a,icon:{url:"data:image/svg+xml;base64,".concat(btoa(i)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(d)}}class Af{constructor(){!function(e,t){for(var n in t.prototype)e.prototype[n]=t.prototype[n]}(Af,google.maps.OverlayView)}}(Mf=Of||(Of={})).CLUSTERING_BEGIN="clusteringbegin",Mf.CLUSTERING_END="clusteringend",Mf.CLUSTER_CLICK="click";var If=(e,t,n)=>{n.fitBounds(t.bounds)};class Uf extends Af{constructor(e){var{map:t,markers:n=[],algorithmOptions:r={},algorithm:s=new Nf(r),renderer:o=new Df,onClusterClick:i=If}=e;super(),this.markers=[...n],this.clusters=[],this.algorithm=s,this.renderer=o,this.onClusterClick=i,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach((e=>{this.addMarker(e,!0)})),t||this.render()}removeMarker(e,t){var n=this.markers.indexOf(e);return-1!==n&&(_f.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){var n=!1;return e.forEach((e=>{n=this.removeMarker(e,!0)||n})),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Of.CLUSTERING_BEGIN,this);var{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||null==n){var r=new Set;for(var s of t)1==s.markers.length&&r.add(s.markers[0]);var o=[];for(var i of this.clusters)null!=i.marker&&(1==i.markers.length?r.has(i.marker)||_f.setMap(i.marker,null):o.push(i.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame((()=>o.forEach((e=>_f.setMap(e,null)))))}google.maps.event.trigger(this,Of.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach((e=>_f.setMap(e,null))),this.clusters.forEach((e=>e.delete())),this.clusters=[]}renderClusters(){var e=new Rf(this.markers,this.clusters),t=this.getMap();this.clusters.forEach((n=>{1===n.markers.length?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,t),n.markers.forEach((e=>_f.setMap(e,null))),this.onClusterClick&&n.marker.addListener("click",(e=>{google.maps.event.trigger(this,Of.CLUSTER_CLICK,n),this.onClusterClick(e,n,t)}))),_f.setMap(n.marker,t)}))}}function Ff(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ff(Object(n),!0).forEach((function(t){Vh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ff(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $f(e){var t=function(){Qh(!!Pe.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=Pe.useContext(Jh);return Qh(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}(),[n,r]=Pe.useState(null);return Pe.useEffect((()=>{if(t&&null===n){var s=new Uf(zf(zf({},e),{},{map:t}));r(s)}}),[t]),n}Pe.memo((function(e){var{children:t,options:n}=e,r=$f(n);return null!==r?t(r):null}));var Bf={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Wf={options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},zIndex(e,t){e.setZIndex(t)}};Pe.memo((function(e){var{children:t,anchor:n,options:r,position:s,zIndex:o,onCloseClick:i,onDomReady:a,onContentChanged:l,onPositionChanged:c,onZindexChanged:u,onLoad:d,onUnmount:h}=e,p=Pe.useContext(Jh),[f,m]=Pe.useState(null),[g,v]=Pe.useState(null),[y,b]=Pe.useState(null),[w,x]=Pe.useState(null),[k,E]=Pe.useState(null),[C,j]=Pe.useState(null),S=Pe.useRef(null);return Pe.useEffect((()=>{null!==f&&(f.close(),n?f.open(p,n):f.getPosition()&&f.open(p))}),[p,f,n]),Pe.useEffect((()=>{r&&null!==f&&f.setOptions(r)}),[f,r]),Pe.useEffect((()=>{s&&null!==f&&f.setPosition(s)}),[s]),Pe.useEffect((()=>{"number"==typeof o&&null!==f&&f.setZIndex(o)}),[o]),Pe.useEffect((()=>{f&&i&&(null!==g&&google.maps.event.removeListener(g),v(google.maps.event.addListener(f,"closeclick",i)))}),[i]),Pe.useEffect((()=>{f&&a&&(null!==y&&google.maps.event.removeListener(y),b(google.maps.event.addListener(f,"domready",a)))}),[a]),Pe.useEffect((()=>{f&&l&&(null!==w&&google.maps.event.removeListener(w),x(google.maps.event.addListener(f,"content_changed",l)))}),[l]),Pe.useEffect((()=>{f&&c&&(null!==k&&google.maps.event.removeListener(k),E(google.maps.event.addListener(f,"position_changed",c)))}),[c]),Pe.useEffect((()=>{f&&u&&(null!==C&&google.maps.event.removeListener(C),j(google.maps.event.addListener(f,"zindex_changed",u)))}),[u]),Pe.useEffect((()=>{var e=new google.maps.InfoWindow(r);return m(e),S.current=document.createElement("div"),i&&v(google.maps.event.addListener(e,"closeclick",i)),a&&b(google.maps.event.addListener(e,"domready",a)),l&&x(google.maps.event.addListener(e,"content_changed",l)),c&&E(google.maps.event.addListener(e,"position_changed",c)),u&&j(google.maps.event.addListener(e,"zindex_changed",u)),e.setContent(S.current),s&&e.setPosition(s),o&&e.setZIndex(o),n?e.open(p,n):e.getPosition()?e.open(p):Qh(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),d&&d(e),()=>{g&&google.maps.event.removeListener(g),w&&google.maps.event.removeListener(w),y&&google.maps.event.removeListener(y),k&&google.maps.event.removeListener(k),C&&google.maps.event.removeListener(C),h&&h(e),e.close()}}),[]),S.current?Le.createPortal(Pe.Children.only(t),S.current):null}));class qf extends Pe.PureComponent{constructor(){super(...arguments),Vh(this,"registeredEvents",[]),Vh(this,"containerElement",null),Vh(this,"state",{infoWindow:null}),Vh(this,"open",((e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):Qh(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")})),Vh(this,"setInfoWindowCallback",(()=>{null!==this.state.infoWindow&&null!==this.containerElement&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))}))}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=rp({updaterMap:Wf,eventMap:Bf,prevProps:{},nextProps:this.props,instance:e}),this.setState((()=>({infoWindow:e})),this.setInfoWindowCallback)}componentDidUpdate(e){null!==this.state.infoWindow&&(np(this.registeredEvents),this.registeredEvents=rp({updaterMap:Wf,eventMap:Bf,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){null!==this.state.infoWindow&&(np(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Le.createPortal(Pe.Children.only(this.props.children),this.containerElement):null}}function Hf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hf(Object(n),!0).forEach((function(t){Vh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Vh(qf,"contextType",Jh);var Kf={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Gf={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},visible(e,t){e.setVisible(t)}},Zf={};Pe.memo((function(e){var{options:t,draggable:n,editable:r,visible:s,path:o,onDblClick:i,onDragEnd:a,onDragStart:l,onMouseDown:c,onMouseMove:u,onMouseOut:d,onMouseOver:h,onMouseUp:p,onRightClick:f,onClick:m,onDrag:g,onLoad:v,onUnmount:y}=e,b=Pe.useContext(Jh),[w,x]=Pe.useState(null),[k,E]=Pe.useState(null),[C,j]=Pe.useState(null),[S,_]=Pe.useState(null),[P,L]=Pe.useState(null),[O,M]=Pe.useState(null),[T,N]=Pe.useState(null),[R,D]=Pe.useState(null),[A,I]=Pe.useState(null),[U,F]=Pe.useState(null),[z,$]=Pe.useState(null),[B,W]=Pe.useState(null);return Pe.useEffect((()=>{null!==w&&w.setMap(b)}),[b]),Pe.useEffect((()=>{void 0!==t&&null!==w&&w.setOptions(t)}),[w,t]),Pe.useEffect((()=>{void 0!==n&&null!==w&&w.setDraggable(n)}),[w,n]),Pe.useEffect((()=>{void 0!==r&&null!==w&&w.setEditable(r)}),[w,r]),Pe.useEffect((()=>{void 0!==s&&null!==w&&w.setVisible(s)}),[w,s]),Pe.useEffect((()=>{void 0!==o&&null!==w&&w.setPath(o)}),[w,o]),Pe.useEffect((()=>{w&&i&&(null!==k&&google.maps.event.removeListener(k),E(google.maps.event.addListener(w,"dblclick",i)))}),[i]),Pe.useEffect((()=>{w&&a&&(null!==C&&google.maps.event.removeListener(C),j(google.maps.event.addListener(w,"dragend",a)))}),[a]),Pe.useEffect((()=>{w&&l&&(null!==S&&google.maps.event.removeListener(S),_(google.maps.event.addListener(w,"dragstart",l)))}),[l]),Pe.useEffect((()=>{w&&c&&(null!==P&&google.maps.event.removeListener(P),L(google.maps.event.addListener(w,"mousedown",c)))}),[c]),Pe.useEffect((()=>{w&&u&&(null!==O&&google.maps.event.removeListener(O),M(google.maps.event.addListener(w,"mousemove",u)))}),[u]),Pe.useEffect((()=>{w&&d&&(null!==T&&google.maps.event.removeListener(T),N(google.maps.event.addListener(w,"mouseout",d)))}),[d]),Pe.useEffect((()=>{w&&h&&(null!==R&&google.maps.event.removeListener(R),D(google.maps.event.addListener(w,"mouseover",h)))}),[h]),Pe.useEffect((()=>{w&&p&&(null!==A&&google.maps.event.removeListener(A),I(google.maps.event.addListener(w,"mouseup",p)))}),[p]),Pe.useEffect((()=>{w&&f&&(null!==U&&google.maps.event.removeListener(U),F(google.maps.event.addListener(w,"rightclick",f)))}),[f]),Pe.useEffect((()=>{w&&m&&(null!==z&&google.maps.event.removeListener(z),$(google.maps.event.addListener(w,"click",m)))}),[m]),Pe.useEffect((()=>{w&&g&&(null!==B&&google.maps.event.removeListener(B),W(google.maps.event.addListener(w,"drag",g)))}),[g]),Pe.useEffect((()=>{var e=new google.maps.Polyline(Vf(Vf({},t||Zf),{},{map:b}));return o&&e.setPath(o),void 0!==s&&e.setVisible(s),void 0!==r&&e.setEditable(r),void 0!==n&&e.setDraggable(n),i&&E(google.maps.event.addListener(e,"dblclick",i)),a&&j(google.maps.event.addListener(e,"dragend",a)),l&&_(google.maps.event.addListener(e,"dragstart",l)),c&&L(google.maps.event.addListener(e,"mousedown",c)),u&&M(google.maps.event.addListener(e,"mousemove",u)),d&&N(google.maps.event.addListener(e,"mouseout",d)),h&&D(google.maps.event.addListener(e,"mouseover",h)),p&&I(google.maps.event.addListener(e,"mouseup",p)),f&&F(google.maps.event.addListener(e,"rightclick",f)),m&&$(google.maps.event.addListener(e,"click",m)),g&&W(google.maps.event.addListener(e,"drag",g)),x(e),v&&v(e),()=>{null!==k&&google.maps.event.removeListener(k),null!==C&&google.maps.event.removeListener(C),null!==S&&google.maps.event.removeListener(S),null!==P&&google.maps.event.removeListener(P),null!==O&&google.maps.event.removeListener(O),null!==T&&google.maps.event.removeListener(T),null!==R&&google.maps.event.removeListener(R),null!==A&&google.maps.event.removeListener(A),null!==U&&google.maps.event.removeListener(U),null!==z&&google.maps.event.removeListener(z),y&&y(e),e.setMap(null)}}),[]),null}));class Yf extends Pe.PureComponent{constructor(){super(...arguments),Vh(this,"registeredEvents",[]),Vh(this,"state",{polyline:null}),Vh(this,"setPolylineCallback",(()=>{null!==this.state.polyline&&this.props.onLoad&&this.props.onLoad(this.state.polyline)}))}componentDidMount(){var e=new google.maps.Polyline(Vf(Vf({},this.props.options),{},{map:this.context}));this.registeredEvents=rp({updaterMap:Gf,eventMap:Kf,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polyline:e}}),this.setPolylineCallback)}componentDidUpdate(e){null!==this.state.polyline&&(np(this.registeredEvents),this.registeredEvents=rp({updaterMap:Gf,eventMap:Kf,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),np(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}function Qf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qf(Object(n),!0).forEach((function(t){Vh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Vh(Yf,"contextType",Jh);var Xf={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},em={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},paths(e,t){e.setPaths(t)},visible(e,t){e.setVisible(t)}};Pe.memo((function(e){var{options:t,draggable:n,editable:r,visible:s,path:o,paths:i,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:d,onMouseOut:h,onMouseOver:p,onMouseUp:f,onRightClick:m,onClick:g,onDrag:v,onLoad:y,onUnmount:b,onEdit:w}=e,x=Pe.useContext(Jh),[k,E]=Pe.useState(null),[C,j]=Pe.useState(null),[S,_]=Pe.useState(null),[P,L]=Pe.useState(null),[O,M]=Pe.useState(null),[T,N]=Pe.useState(null),[R,D]=Pe.useState(null),[A,I]=Pe.useState(null),[U,F]=Pe.useState(null),[z,$]=Pe.useState(null),[B,W]=Pe.useState(null),[q,H]=Pe.useState(null);return Pe.useEffect((()=>{null!==k&&k.setMap(x)}),[x]),Pe.useEffect((()=>{void 0!==t&&null!==k&&k.setOptions(t)}),[k,t]),Pe.useEffect((()=>{void 0!==n&&null!==k&&k.setDraggable(n)}),[k,n]),Pe.useEffect((()=>{void 0!==r&&null!==k&&k.setEditable(r)}),[k,r]),Pe.useEffect((()=>{void 0!==s&&null!==k&&k.setVisible(s)}),[k,s]),Pe.useEffect((()=>{void 0!==o&&null!==k&&k.setPath(o)}),[k,o]),Pe.useEffect((()=>{void 0!==i&&null!==k&&k.setPaths(i)}),[k,i]),Pe.useEffect((()=>{k&&"function"==typeof a&&(null!==C&&google.maps.event.removeListener(C),j(google.maps.event.addListener(k,"dblclick",a)))}),[a]),Pe.useEffect((()=>{k&&(google.maps.event.addListener(k.getPath(),"insert_at",(()=>{null==w||w(k)})),google.maps.event.addListener(k.getPath(),"set_at",(()=>{null==w||w(k)})),google.maps.event.addListener(k.getPath(),"remove_at",(()=>{null==w||w(k)})))}),[k,w]),Pe.useEffect((()=>{k&&"function"==typeof l&&(null!==S&&google.maps.event.removeListener(S),_(google.maps.event.addListener(k,"dragend",l)))}),[l]),Pe.useEffect((()=>{k&&"function"==typeof c&&(null!==P&&google.maps.event.removeListener(P),L(google.maps.event.addListener(k,"dragstart",c)))}),[c]),Pe.useEffect((()=>{k&&"function"==typeof u&&(null!==O&&google.maps.event.removeListener(O),M(google.maps.event.addListener(k,"mousedown",u)))}),[u]),Pe.useEffect((()=>{k&&"function"==typeof d&&(null!==T&&google.maps.event.removeListener(T),N(google.maps.event.addListener(k,"mousemove",d)))}),[d]),Pe.useEffect((()=>{k&&"function"==typeof h&&(null!==R&&google.maps.event.removeListener(R),D(google.maps.event.addListener(k,"mouseout",h)))}),[h]),Pe.useEffect((()=>{k&&"function"==typeof p&&(null!==A&&google.maps.event.removeListener(A),I(google.maps.event.addListener(k,"mouseover",p)))}),[p]),Pe.useEffect((()=>{k&&"function"==typeof f&&(null!==U&&google.maps.event.removeListener(U),F(google.maps.event.addListener(k,"mouseup",f)))}),[f]),Pe.useEffect((()=>{k&&"function"==typeof m&&(null!==z&&google.maps.event.removeListener(z),$(google.maps.event.addListener(k,"rightclick",m)))}),[m]),Pe.useEffect((()=>{k&&"function"==typeof g&&(null!==B&&google.maps.event.removeListener(B),W(google.maps.event.addListener(k,"click",g)))}),[g]),Pe.useEffect((()=>{k&&"function"==typeof v&&(null!==q&&google.maps.event.removeListener(q),H(google.maps.event.addListener(k,"drag",v)))}),[v]),Pe.useEffect((()=>{var e=new google.maps.Polygon(Jf(Jf({},t),{},{map:x}));return o&&e.setPath(o),i&&e.setPaths(i),void 0!==s&&e.setVisible(s),void 0!==r&&e.setEditable(r),void 0!==n&&e.setDraggable(n),a&&j(google.maps.event.addListener(e,"dblclick",a)),l&&_(google.maps.event.addListener(e,"dragend",l)),c&&L(google.maps.event.addListener(e,"dragstart",c)),u&&M(google.maps.event.addListener(e,"mousedown",u)),d&&N(google.maps.event.addListener(e,"mousemove",d)),h&&D(google.maps.event.addListener(e,"mouseout",h)),p&&I(google.maps.event.addListener(e,"mouseover",p)),f&&F(google.maps.event.addListener(e,"mouseup",f)),m&&$(google.maps.event.addListener(e,"rightclick",m)),g&&W(google.maps.event.addListener(e,"click",g)),v&&H(google.maps.event.addListener(e,"drag",v)),E(e),y&&y(e),()=>{null!==C&&google.maps.event.removeListener(C),null!==S&&google.maps.event.removeListener(S),null!==P&&google.maps.event.removeListener(P),null!==O&&google.maps.event.removeListener(O),null!==T&&google.maps.event.removeListener(T),null!==R&&google.maps.event.removeListener(R),null!==A&&google.maps.event.removeListener(A),null!==U&&google.maps.event.removeListener(U),null!==z&&google.maps.event.removeListener(z),null!==B&&google.maps.event.removeListener(B),b&&b(e),e.setMap(null)}}),[]),null}));class tm extends Pe.PureComponent{constructor(){super(...arguments),Vh(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=rp({updaterMap:em,eventMap:Xf,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(np(this.registeredEvents),this.registeredEvents=rp({updaterMap:em,eventMap:Xf,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),np(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}function nm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nm(Object(n),!0).forEach((function(t){Vh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Vh(tm,"contextType",Jh);var sm={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},om={bounds(e,t){e.setBounds(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},visible(e,t){e.setVisible(t)}};Pe.memo((function(e){var{options:t,bounds:n,draggable:r,editable:s,visible:o,onDblClick:i,onDragEnd:a,onDragStart:l,onMouseDown:c,onMouseMove:u,onMouseOut:d,onMouseOver:h,onMouseUp:p,onRightClick:f,onClick:m,onDrag:g,onBoundsChanged:v,onLoad:y,onUnmount:b}=e,w=Pe.useContext(Jh),[x,k]=Pe.useState(null),[E,C]=Pe.useState(null),[j,S]=Pe.useState(null),[_,P]=Pe.useState(null),[L,O]=Pe.useState(null),[M,T]=Pe.useState(null),[N,R]=Pe.useState(null),[D,A]=Pe.useState(null),[I,U]=Pe.useState(null),[F,z]=Pe.useState(null),[$,B]=Pe.useState(null),[W,q]=Pe.useState(null),[H,V]=Pe.useState(null);return Pe.useEffect((()=>{null!==x&&x.setMap(w)}),[w]),Pe.useEffect((()=>{void 0!==t&&null!==x&&x.setOptions(t)}),[x,t]),Pe.useEffect((()=>{void 0!==r&&null!==x&&x.setDraggable(r)}),[x,r]),Pe.useEffect((()=>{void 0!==s&&null!==x&&x.setEditable(s)}),[x,s]),Pe.useEffect((()=>{void 0!==o&&null!==x&&x.setVisible(o)}),[x,o]),Pe.useEffect((()=>{void 0!==n&&null!==x&&x.setBounds(n)}),[x,n]),Pe.useEffect((()=>{x&&i&&(null!==E&&google.maps.event.removeListener(E),C(google.maps.event.addListener(x,"dblclick",i)))}),[i]),Pe.useEffect((()=>{x&&a&&(null!==j&&google.maps.event.removeListener(j),S(google.maps.event.addListener(x,"dragend",a)))}),[a]),Pe.useEffect((()=>{x&&l&&(null!==_&&google.maps.event.removeListener(_),P(google.maps.event.addListener(x,"dragstart",l)))}),[l]),Pe.useEffect((()=>{x&&c&&(null!==L&&google.maps.event.removeListener(L),O(google.maps.event.addListener(x,"mousedown",c)))}),[c]),Pe.useEffect((()=>{x&&u&&(null!==M&&google.maps.event.removeListener(M),T(google.maps.event.addListener(x,"mousemove",u)))}),[u]),Pe.useEffect((()=>{x&&d&&(null!==N&&google.maps.event.removeListener(N),R(google.maps.event.addListener(x,"mouseout",d)))}),[d]),Pe.useEffect((()=>{x&&h&&(null!==D&&google.maps.event.removeListener(D),A(google.maps.event.addListener(x,"mouseover",h)))}),[h]),Pe.useEffect((()=>{x&&p&&(null!==I&&google.maps.event.removeListener(I),U(google.maps.event.addListener(x,"mouseup",p)))}),[p]),Pe.useEffect((()=>{x&&f&&(null!==F&&google.maps.event.removeListener(F),z(google.maps.event.addListener(x,"rightclick",f)))}),[f]),Pe.useEffect((()=>{x&&m&&(null!==$&&google.maps.event.removeListener($),B(google.maps.event.addListener(x,"click",m)))}),[m]),Pe.useEffect((()=>{x&&g&&(null!==W&&google.maps.event.removeListener(W),q(google.maps.event.addListener(x,"drag",g)))}),[g]),Pe.useEffect((()=>{x&&v&&(null!==H&&google.maps.event.removeListener(H),V(google.maps.event.addListener(x,"bounds_changed",v)))}),[v]),Pe.useEffect((()=>{var e=new google.maps.Rectangle(rm(rm({},t),{},{map:w}));return void 0!==o&&e.setVisible(o),void 0!==s&&e.setEditable(s),void 0!==r&&e.setDraggable(r),void 0!==n&&e.setBounds(n),i&&C(google.maps.event.addListener(e,"dblclick",i)),a&&S(google.maps.event.addListener(e,"dragend",a)),l&&P(google.maps.event.addListener(e,"dragstart",l)),c&&O(google.maps.event.addListener(e,"mousedown",c)),u&&T(google.maps.event.addListener(e,"mousemove",u)),d&&R(google.maps.event.addListener(e,"mouseout",d)),h&&A(google.maps.event.addListener(e,"mouseover",h)),p&&U(google.maps.event.addListener(e,"mouseup",p)),f&&z(google.maps.event.addListener(e,"rightclick",f)),m&&B(google.maps.event.addListener(e,"click",m)),g&&q(google.maps.event.addListener(e,"drag",g)),v&&V(google.maps.event.addListener(e,"bounds_changed",v)),k(e),y&&y(e),()=>{null!==E&&google.maps.event.removeListener(E),null!==j&&google.maps.event.removeListener(j),null!==_&&google.maps.event.removeListener(_),null!==L&&google.maps.event.removeListener(L),null!==M&&google.maps.event.removeListener(M),null!==N&&google.maps.event.removeListener(N),null!==D&&google.maps.event.removeListener(D),null!==I&&google.maps.event.removeListener(I),null!==F&&google.maps.event.removeListener(F),null!==$&&google.maps.event.removeListener($),null!==W&&google.maps.event.removeListener(W),null!==H&&google.maps.event.removeListener(H),b&&b(e),e.setMap(null)}}),[]),null}));class im extends Pe.PureComponent{constructor(){super(...arguments),Vh(this,"registeredEvents",[]),Vh(this,"state",{rectangle:null}),Vh(this,"setRectangleCallback",(()=>{null!==this.state.rectangle&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)}))}componentDidMount(){var e=new google.maps.Rectangle(rm(rm({},this.props.options),{},{map:this.context}));this.registeredEvents=rp({updaterMap:om,eventMap:sm,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{rectangle:e}}),this.setRectangleCallback)}componentDidUpdate(e){null!==this.state.rectangle&&(np(this.registeredEvents),this.registeredEvents=rp({updaterMap:om,eventMap:sm,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),np(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}function am(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?am(Object(n),!0).forEach((function(t){Vh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):am(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Vh(im,"contextType",Jh);var cm={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},um={center(e,t){e.setCenter(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},radius(e,t){e.setRadius(t)},visible(e,t){e.setVisible(t)}},dm={};Pe.memo((function(e){var{options:t,center:n,radius:r,draggable:s,editable:o,visible:i,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:d,onMouseOut:h,onMouseOver:p,onMouseUp:f,onRightClick:m,onClick:g,onDrag:v,onCenterChanged:y,onRadiusChanged:b,onLoad:w,onUnmount:x}=e,k=Pe.useContext(Jh),[E,C]=Pe.useState(null),[j,S]=Pe.useState(null),[_,P]=Pe.useState(null),[L,O]=Pe.useState(null),[M,T]=Pe.useState(null),[N,R]=Pe.useState(null),[D,A]=Pe.useState(null),[I,U]=Pe.useState(null),[F,z]=Pe.useState(null),[$,B]=Pe.useState(null),[W,q]=Pe.useState(null),[H,V]=Pe.useState(null),[K,G]=Pe.useState(null),[Z,Y]=Pe.useState(null);return Pe.useEffect((()=>{null!==E&&E.setMap(k)}),[k]),Pe.useEffect((()=>{void 0!==t&&null!==E&&E.setOptions(t)}),[E,t]),Pe.useEffect((()=>{void 0!==s&&null!==E&&E.setDraggable(s)}),[E,s]),Pe.useEffect((()=>{void 0!==o&&null!==E&&E.setEditable(o)}),[E,o]),Pe.useEffect((()=>{void 0!==i&&null!==E&&E.setVisible(i)}),[E,i]),Pe.useEffect((()=>{"number"==typeof r&&null!==E&&E.setRadius(r)}),[E,r]),Pe.useEffect((()=>{void 0!==n&&null!==E&&E.setCenter(n)}),[E,n]),Pe.useEffect((()=>{E&&a&&(null!==j&&google.maps.event.removeListener(j),S(google.maps.event.addListener(E,"dblclick",a)))}),[a]),Pe.useEffect((()=>{E&&l&&(null!==_&&google.maps.event.removeListener(_),P(google.maps.event.addListener(E,"dragend",l)))}),[l]),Pe.useEffect((()=>{E&&c&&(null!==L&&google.maps.event.removeListener(L),O(google.maps.event.addListener(E,"dragstart",c)))}),[c]),Pe.useEffect((()=>{E&&u&&(null!==M&&google.maps.event.removeListener(M),T(google.maps.event.addListener(E,"mousedown",u)))}),[u]),Pe.useEffect((()=>{E&&d&&(null!==N&&google.maps.event.removeListener(N),R(google.maps.event.addListener(E,"mousemove",d)))}),[d]),Pe.useEffect((()=>{E&&h&&(null!==D&&google.maps.event.removeListener(D),A(google.maps.event.addListener(E,"mouseout",h)))}),[h]),Pe.useEffect((()=>{E&&p&&(null!==I&&google.maps.event.removeListener(I),U(google.maps.event.addListener(E,"mouseover",p)))}),[p]),Pe.useEffect((()=>{E&&f&&(null!==F&&google.maps.event.removeListener(F),z(google.maps.event.addListener(E,"mouseup",f)))}),[f]),Pe.useEffect((()=>{E&&m&&(null!==$&&google.maps.event.removeListener($),B(google.maps.event.addListener(E,"rightclick",m)))}),[m]),Pe.useEffect((()=>{E&&g&&(null!==W&&google.maps.event.removeListener(W),q(google.maps.event.addListener(E,"click",g)))}),[g]),Pe.useEffect((()=>{E&&v&&(null!==H&&google.maps.event.removeListener(H),V(google.maps.event.addListener(E,"drag",v)))}),[v]),Pe.useEffect((()=>{E&&y&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(E,"center_changed",y)))}),[g]),Pe.useEffect((()=>{E&&b&&(null!==Z&&google.maps.event.removeListener(Z),Y(google.maps.event.addListener(E,"radius_changed",b)))}),[b]),Pe.useEffect((()=>{var e=new google.maps.Circle(lm(lm({},t||dm),{},{map:k}));return"number"==typeof r&&e.setRadius(r),void 0!==n&&e.setCenter(n),"number"==typeof r&&e.setRadius(r),void 0!==i&&e.setVisible(i),void 0!==o&&e.setEditable(o),void 0!==s&&e.setDraggable(s),a&&S(google.maps.event.addListener(e,"dblclick",a)),l&&P(google.maps.event.addListener(e,"dragend",l)),c&&O(google.maps.event.addListener(e,"dragstart",c)),u&&T(google.maps.event.addListener(e,"mousedown",u)),d&&R(google.maps.event.addListener(e,"mousemove",d)),h&&A(google.maps.event.addListener(e,"mouseout",h)),p&&U(google.maps.event.addListener(e,"mouseover",p)),f&&z(google.maps.event.addListener(e,"mouseup",f)),m&&B(google.maps.event.addListener(e,"rightclick",m)),g&&q(google.maps.event.addListener(e,"click",g)),v&&V(google.maps.event.addListener(e,"drag",v)),y&&G(google.maps.event.addListener(e,"center_changed",y)),b&&Y(google.maps.event.addListener(e,"radius_changed",b)),C(e),w&&w(e),()=>{null!==j&&google.maps.event.removeListener(j),null!==_&&google.maps.event.removeListener(_),null!==L&&google.maps.event.removeListener(L),null!==M&&google.maps.event.removeListener(M),null!==N&&google.maps.event.removeListener(N),null!==D&&google.maps.event.removeListener(D),null!==I&&google.maps.event.removeListener(I),null!==F&&google.maps.event.removeListener(F),null!==$&&google.maps.event.removeListener($),null!==W&&google.maps.event.removeListener(W),null!==K&&google.maps.event.removeListener(K),null!==Z&&google.maps.event.removeListener(Z),x&&x(e),e.setMap(null)}}),[]),null}));class hm extends Pe.PureComponent{constructor(){super(...arguments),Vh(this,"registeredEvents",[]),Vh(this,"state",{circle:null}),Vh(this,"setCircleCallback",(()=>{null!==this.state.circle&&this.props.onLoad&&this.props.onLoad(this.state.circle)}))}componentDidMount(){var e=new google.maps.Circle(lm(lm({},this.props.options),{},{map:this.context}));this.registeredEvents=rp({updaterMap:um,eventMap:cm,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{circle:e}}),this.setCircleCallback)}componentDidUpdate(e){null!==this.state.circle&&(np(this.registeredEvents),this.registeredEvents=rp({updaterMap:um,eventMap:cm,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){var e;null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),np(this.registeredEvents),null===(e=this.state.circle)||void 0===e||e.setMap(null))}render(){return null}}function pm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pm(Object(n),!0).forEach((function(t){Vh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Vh(hm,"contextType",Jh);var mm={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},gm={add(e,t){e.add(t)},addgeojson(e,t,n){e.addGeoJson(t,n)},contains(e,t){e.contains(t)},foreach(e,t){e.forEach(t)},loadgeojson(e,t,n,r){e.loadGeoJson(t,n,r)},overridestyle(e,t,n){e.overrideStyle(t,n)},remove(e,t){e.remove(t)},revertstyle(e,t){e.revertStyle(t)},controlposition(e,t){e.setControlPosition(t)},controls(e,t){e.setControls(t)},drawingmode(e,t){e.setDrawingMode(t)},map(e,t){e.setMap(t)},style(e,t){e.setStyle(t)},togeojson(e,t){e.toGeoJson(t)}};Pe.memo((function(e){var{options:t,onClick:n,onDblClick:r,onMouseDown:s,onMouseMove:o,onMouseOut:i,onMouseOver:a,onMouseUp:l,onRightClick:c,onAddFeature:u,onRemoveFeature:d,onRemoveProperty:h,onSetGeometry:p,onSetProperty:f,onLoad:m,onUnmount:g}=e,v=Pe.useContext(Jh),[y,b]=Pe.useState(null),[w,x]=Pe.useState(null),[k,E]=Pe.useState(null),[C,j]=Pe.useState(null),[S,_]=Pe.useState(null),[P,L]=Pe.useState(null),[O,M]=Pe.useState(null),[T,N]=Pe.useState(null),[R,D]=Pe.useState(null),[A,I]=Pe.useState(null),[U,F]=Pe.useState(null),[z,$]=Pe.useState(null),[B,W]=Pe.useState(null),[q,H]=Pe.useState(null);return Pe.useEffect((()=>{null!==y&&y.setMap(v)}),[v]),Pe.useEffect((()=>{y&&r&&(null!==w&&google.maps.event.removeListener(w),x(google.maps.event.addListener(y,"dblclick",r)))}),[r]),Pe.useEffect((()=>{y&&s&&(null!==k&&google.maps.event.removeListener(k),E(google.maps.event.addListener(y,"mousedown",s)))}),[s]),Pe.useEffect((()=>{y&&o&&(null!==C&&google.maps.event.removeListener(C),j(google.maps.event.addListener(y,"mousemove",o)))}),[o]),Pe.useEffect((()=>{y&&i&&(null!==S&&google.maps.event.removeListener(S),_(google.maps.event.addListener(y,"mouseout",i)))}),[i]),Pe.useEffect((()=>{y&&a&&(null!==P&&google.maps.event.removeListener(P),L(google.maps.event.addListener(y,"mouseover",a)))}),[a]),Pe.useEffect((()=>{y&&l&&(null!==O&&google.maps.event.removeListener(O),M(google.maps.event.addListener(y,"mouseup",l)))}),[l]),Pe.useEffect((()=>{y&&c&&(null!==T&&google.maps.event.removeListener(T),N(google.maps.event.addListener(y,"rightclick",c)))}),[c]),Pe.useEffect((()=>{y&&n&&(null!==R&&google.maps.event.removeListener(R),D(google.maps.event.addListener(y,"click",n)))}),[n]),Pe.useEffect((()=>{y&&u&&(null!==A&&google.maps.event.removeListener(A),I(google.maps.event.addListener(y,"addfeature",u)))}),[u]),Pe.useEffect((()=>{y&&d&&(null!==U&&google.maps.event.removeListener(U),F(google.maps.event.addListener(y,"removefeature",d)))}),[d]),Pe.useEffect((()=>{y&&h&&(null!==z&&google.maps.event.removeListener(z),$(google.maps.event.addListener(y,"removeproperty",h)))}),[h]),Pe.useEffect((()=>{y&&p&&(null!==B&&google.maps.event.removeListener(B),W(google.maps.event.addListener(y,"setgeometry",p)))}),[p]),Pe.useEffect((()=>{y&&f&&(null!==q&&google.maps.event.removeListener(q),H(google.maps.event.addListener(y,"setproperty",f)))}),[f]),Pe.useEffect((()=>{if(null!==v){var e=new google.maps.Data(fm(fm({},t),{},{map:v}));r&&x(google.maps.event.addListener(e,"dblclick",r)),s&&E(google.maps.event.addListener(e,"mousedown",s)),o&&j(google.maps.event.addListener(e,"mousemove",o)),i&&_(google.maps.event.addListener(e,"mouseout",i)),a&&L(google.maps.event.addListener(e,"mouseover",a)),l&&M(google.maps.event.addListener(e,"mouseup",l)),c&&N(google.maps.event.addListener(e,"rightclick",c)),n&&D(google.maps.event.addListener(e,"click",n)),u&&I(google.maps.event.addListener(e,"addfeature",u)),d&&F(google.maps.event.addListener(e,"removefeature",d)),h&&$(google.maps.event.addListener(e,"removeproperty",h)),p&&W(google.maps.event.addListener(e,"setgeometry",p)),f&&H(google.maps.event.addListener(e,"setproperty",f)),b(e),m&&m(e)}return()=>{y&&(null!==w&&google.maps.event.removeListener(w),null!==k&&google.maps.event.removeListener(k),null!==C&&google.maps.event.removeListener(C),null!==S&&google.maps.event.removeListener(S),null!==P&&google.maps.event.removeListener(P),null!==O&&google.maps.event.removeListener(O),null!==T&&google.maps.event.removeListener(T),null!==R&&google.maps.event.removeListener(R),null!==A&&google.maps.event.removeListener(A),null!==U&&google.maps.event.removeListener(U),null!==z&&google.maps.event.removeListener(z),null!==B&&google.maps.event.removeListener(B),null!==q&&google.maps.event.removeListener(q),g&&g(y),y.setMap(null))}}),[]),null}));class vm extends Pe.PureComponent{constructor(){super(...arguments),Vh(this,"registeredEvents",[]),Vh(this,"state",{data:null}),Vh(this,"setDataCallback",(()=>{null!==this.state.data&&this.props.onLoad&&this.props.onLoad(this.state.data)}))}componentDidMount(){if(null!==this.context){var e=new google.maps.Data(fm(fm({},this.props.options),{},{map:this.context}));this.registeredEvents=rp({updaterMap:gm,eventMap:mm,prevProps:{},nextProps:this.props,instance:e}),this.setState((()=>({data:e})),this.setDataCallback)}}componentDidUpdate(e){null!==this.state.data&&(np(this.registeredEvents),this.registeredEvents=rp({updaterMap:gm,eventMap:mm,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),np(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}function ym(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ym(Object(n),!0).forEach((function(t){Vh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ym(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Vh(vm,"contextType",Jh);var wm={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},xm={options(e,t){e.setOptions(t)},url(e,t){e.setUrl(t)},zIndex(e,t){e.setZIndex(t)}};class km extends Pe.PureComponent{constructor(){super(...arguments),Vh(this,"registeredEvents",[]),Vh(this,"state",{kmlLayer:null}),Vh(this,"setKmlLayerCallback",(()=>{null!==this.state.kmlLayer&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)}))}componentDidMount(){var e=new google.maps.KmlLayer(bm(bm({},this.props.options),{},{map:this.context}));this.registeredEvents=rp({updaterMap:xm,eventMap:wm,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{kmlLayer:e}}),this.setKmlLayerCallback)}componentDidUpdate(e){null!==this.state.kmlLayer&&(np(this.registeredEvents),this.registeredEvents=rp({updaterMap:xm,eventMap:wm,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),np(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}function Em(e,t){return"function"==typeof t?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function Cm(e,t){return new t(e.lat,e.lng)}function jm(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function Sm(e,t,n,r){return void 0!==n?function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n.getNorthEast()),s=e&&e.fromLatLngToDivPixel(n.getSouthWest());return r&&s?{left:"".concat(s.x+t.x,"px"),top:"".concat(r.y+t.y,"px"),width:"".concat(r.x-s.x-t.x,"px"),height:"".concat(s.y-r.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}(e,t,(s=n,o=google.maps.LatLngBounds,i=jm,s instanceof o?s:i(s,o))):function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n);if(r){var{x:s,y:o}=r;return{left:"".concat(s+t.x,"px"),top:"".concat(o+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(r,google.maps.LatLng,Cm));var s,o,i}function _m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pm(e,t,n,r,s){class o extends google.maps.OverlayView{constructor(e,t,n,r){super(),this.container=e,this.pane=t,this.position=n,this.bounds=r}onAdd(){var e,t=null===(e=this.getPanes())||void 0===e?void 0:e[this.pane];null==t||t.appendChild(this.container)}draw(){var e=this.getProjection(),t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_m(Object(n),!0).forEach((function(t){Vh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.container?Em(this.container,s):{x:0,y:0}),n=Sm(e,t,this.bounds,this.position);for(var[r,o]of Object.entries(n))this.container.style[r]=o}onRemove(){null!==this.container.parentNode&&this.container.parentNode.removeChild(this.container)}}return new o(e,t,n,r)}function Lm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Om(e){return e?(e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng))+"":""}function Mm(e){return e?(e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west)))+"":""}Vh(km,"contextType",Jh),Pe.memo((function(e){var{position:t,bounds:n,mapPaneName:r,zIndex:s,onLoad:o,onUnmount:i,getPixelPositionOffset:a,children:l}=e,c=Pe.useContext(Jh),u=Pe.useMemo((()=>{var e=document.createElement("div");return e.style.position="absolute",e}),[]),d=Pe.useMemo((()=>Pm(u,r,t,n,a)),[u,r,t,n]);return Pe.useEffect((()=>(null==o||o(d),null==d||d.setMap(c),()=>{null==i||i(d),null==d||d.setMap(null)})),[c,d]),Pe.useEffect((()=>{u.style.zIndex="".concat(s)}),[s,u]),Le.createPortal(l,u)}));class Tm extends Pe.PureComponent{constructor(e){super(e),Vh(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),Vh(this,"updatePane",(()=>{var e=this.props.mapPaneName,t=this.overlayView.getPanes();Qh(!!e,"OverlayView requires props.mapPaneName but got %s",e),t?this.setState({paneEl:t[e]}):this.setState({paneEl:null})})),Vh(this,"onAdd",(()=>{var e,t;this.updatePane(),null===(e=(t=this.props).onLoad)||void 0===e||e.call(t,this.overlayView)})),Vh(this,"onPositionElement",(()=>{var e,t,n,r,s,o,i=this.overlayView.getProjection(),a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lm(Object(n),!0).forEach((function(t){Vh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:0,y:0},this.containerRef.current?Em(this.containerRef.current,this.props.getPixelPositionOffset):{}),l=Sm(i,a,this.props.bounds,this.props.position);(s=l,o={left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height},s.left!==o.left||s.top!==o.top||s.width!==o.height||s.height!==o.height)&&this.setState({containerStyle:{top:null!==(e=l.top)&&void 0!==e?e:0,left:null!==(t=l.left)&&void 0!==t?t:0,width:null!==(n=l.width)&&void 0!==n?n:0,height:null!==(r=l.height)&&void 0!==r?r:0,position:"absolute"}})})),Vh(this,"draw",(()=>{this.onPositionElement()})),Vh(this,"onRemove",(()=>{var e,t;this.setState((()=>({paneEl:null}))),null===(e=(t=this.props).onUnmount)||void 0===e||e.call(t,this.overlayView)})),this.containerRef=Pe.createRef();var t=new google.maps.OverlayView;t.onAdd=this.onAdd,t.draw=this.draw,t.onRemove=this.onRemove,this.overlayView=t}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=Om(e.position),n=Om(this.props.position),r=Mm(e.bounds),s=Mm(this.props.bounds);t===n&&r===s||this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Le.createPortal(Qe.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:Pe.Children.only(this.props.children)}),e):null}}function Nm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nm(Object(n),!0).forEach((function(t){Vh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Vh(Tm,"FLOAT_PANE","floatPane"),Vh(Tm,"MAP_PANE","mapPane"),Vh(Tm,"MARKER_LAYER","markerLayer"),Vh(Tm,"OVERLAY_LAYER","overlayLayer"),Vh(Tm,"OVERLAY_MOUSE_TARGET","overlayMouseTarget"),Vh(Tm,"contextType",Jh);var Dm={onDblClick:"dblclick",onClick:"click"},Am={opacity(e,t){e.setOpacity(t)}};Pe.memo((function(e){var{url:t,bounds:n,options:r,visible:s}=e,o=Pe.useContext(Jh),i=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),a=Pe.useMemo((()=>new google.maps.GroundOverlay(t,i,r)),[]);return Pe.useEffect((()=>{null!==a&&a.setMap(o)}),[o]),Pe.useEffect((()=>{void 0!==t&&null!==a&&(a.set("url",t),a.setMap(o))}),[a,t]),Pe.useEffect((()=>{void 0!==s&&null!==a&&a.setOpacity(s?1:0)}),[a,s]),Pe.useEffect((()=>{var e=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));void 0!==n&&null!==a&&(a.set("bounds",e),a.setMap(o))}),[a,n]),null}));class Im extends Pe.PureComponent{constructor(){super(...arguments),Vh(this,"registeredEvents",[]),Vh(this,"state",{groundOverlay:null}),Vh(this,"setGroundOverlayCallback",(()=>{null!==this.state.groundOverlay&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)}))}componentDidMount(){Qh(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Rm(Rm({},this.props.options),{},{map:this.context}));this.registeredEvents=rp({updaterMap:Am,eventMap:Dm,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{groundOverlay:e}}),this.setGroundOverlayCallback)}componentDidUpdate(e){null!==this.state.groundOverlay&&(np(this.registeredEvents),this.registeredEvents=rp({updaterMap:Am,eventMap:Dm,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}function Um(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Um(Object(n),!0).forEach((function(t){Vh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Um(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Vh(Im,"defaultProps",{onLoad:function(){}}),Vh(Im,"contextType",Jh);var zm={},$m={data(e,t){e.setData(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)}};Pe.memo((function(e){var{data:t,onLoad:n,onUnmount:r,options:s}=e,o=Pe.useContext(Jh),[i,a]=Pe.useState(null);return Pe.useEffect((()=>{google.maps.visualization||Qh(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)}),[]),Pe.useEffect((()=>{Qh(!!t,"data property is required in HeatmapLayer %s",t)}),[t]),Pe.useEffect((()=>{null!==i&&i.setMap(o)}),[o]),Pe.useEffect((()=>{s&&null!==i&&i.setOptions(s)}),[i,s]),Pe.useEffect((()=>{var e=new google.maps.visualization.HeatmapLayer(Fm(Fm({},s),{},{data:t,map:o}));return a(e),n&&n(e),()=>{null!==i&&(r&&r(i),i.setMap(null))}}),[]),null}));class Bm extends Pe.PureComponent{constructor(){super(...arguments),Vh(this,"registeredEvents",[]),Vh(this,"state",{heatmapLayer:null}),Vh(this,"setHeatmapLayerCallback",(()=>{null!==this.state.heatmapLayer&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)}))}componentDidMount(){Qh(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Qh(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Fm(Fm({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=rp({updaterMap:$m,eventMap:zm,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{heatmapLayer:e}}),this.setHeatmapLayerCallback)}componentDidUpdate(e){np(this.registeredEvents),this.registeredEvents=rp({updaterMap:$m,eventMap:zm,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),np(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}Vh(Bm,"contextType",Jh);var Wm={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},qm={register(e,t,n){e.registerPanoProvider(t,n)},links(e,t){e.setLinks(t)},motionTracking(e,t){e.setMotionTracking(t)},options(e,t){e.setOptions(t)},pano(e,t){e.setPano(t)},position(e,t){e.setPosition(t)},pov(e,t){e.setPov(t)},visible(e,t){e.setVisible(t)},zoom(e,t){e.setZoom(t)}};class Hm extends Pe.PureComponent{constructor(){super(...arguments),Vh(this,"registeredEvents",[]),Vh(this,"state",{streetViewPanorama:null}),Vh(this,"setStreetViewPanoramaCallback",(()=>{null!==this.state.streetViewPanorama&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)}))}componentDidMount(){var e,t,n=null!==(e=null===(t=this.context)||void 0===t?void 0:t.getStreetView())&&void 0!==e?e:null;this.registeredEvents=rp({updaterMap:qm,eventMap:Wm,prevProps:{},nextProps:this.props,instance:n}),this.setState((()=>({streetViewPanorama:n})),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){null!==this.state.streetViewPanorama&&(np(this.registeredEvents),this.registeredEvents=rp({updaterMap:qm,eventMap:Wm,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),np(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}Vh(Hm,"contextType",Jh);class Vm extends Pe.PureComponent{constructor(){super(...arguments),Vh(this,"state",{streetViewService:null}),Vh(this,"setStreetViewServiceCallback",(()=>{null!==this.state.streetViewService&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)}))}componentDidMount(){var e=new google.maps.StreetViewService;this.setState((function(){return{streetViewService:e}}),this.setStreetViewServiceCallback)}componentWillUnmount(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}Vh(Vm,"contextType",Jh);var Km={onDirectionsChanged:"directions_changed"},Gm={directions(e,t){e.setDirections(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},panel(e,t){e.setPanel(t)},routeIndex(e,t){e.setRouteIndex(t)}};class Zm extends Pe.PureComponent{constructor(){super(...arguments),Vh(this,"registeredEvents",[]),Vh(this,"state",{directionsRenderer:null}),Vh(this,"setDirectionsRendererCallback",(()=>{null!==this.state.directionsRenderer&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))}))}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=rp({updaterMap:Gm,eventMap:Km,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{directionsRenderer:e}}),this.setDirectionsRendererCallback)}componentDidUpdate(e){null!==this.state.directionsRenderer&&(np(this.registeredEvents),this.registeredEvents=rp({updaterMap:Gm,eventMap:Km,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),np(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}Vh(Zm,"contextType",Jh);var Ym={onPlacesChanged:"places_changed"},Qm={bounds(e,t){e.setBounds(t)}};class Jm extends Pe.PureComponent{constructor(){super(...arguments),Vh(this,"registeredEvents",[]),Vh(this,"containerElement",Pe.createRef()),Vh(this,"state",{searchBox:null}),Vh(this,"setSearchBoxCallback",(()=>{null!==this.state.searchBox&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)}))}componentDidMount(){if(Qh(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var e=this.containerElement.current.querySelector("input");if(null!==e){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=rp({updaterMap:Qm,eventMap:Ym,prevProps:{},nextProps:this.props,instance:t}),this.setState((function(){return{searchBox:t}}),this.setSearchBoxCallback)}}}componentDidUpdate(e){null!==this.state.searchBox&&(np(this.registeredEvents),this.registeredEvents=rp({updaterMap:Qm,eventMap:Ym,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),np(this.registeredEvents))}render(){return Qe.jsx("div",{ref:this.containerElement,children:Pe.Children.only(this.props.children)})}}Vh(Jm,"contextType",Jh);var Xm={onPlaceChanged:"place_changed"},eg={bounds(e,t){e.setBounds(t)},restrictions(e,t){e.setComponentRestrictions(t)},fields(e,t){e.setFields(t)},options(e,t){e.setOptions(t)},types(e,t){e.setTypes(t)}};class tg extends Pe.PureComponent{constructor(){super(...arguments),Vh(this,"registeredEvents",[]),Vh(this,"containerElement",Pe.createRef()),Vh(this,"state",{autocomplete:null}),Vh(this,"setAutocompleteCallback",(()=>{null!==this.state.autocomplete&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)}))}componentDidMount(){var e;Qh(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=null===(e=this.containerElement.current)||void 0===e?void 0:e.querySelector("input");if(t){var n=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=rp({updaterMap:eg,eventMap:Xm,prevProps:{},nextProps:this.props,instance:n}),this.setState((()=>({autocomplete:n})),this.setAutocompleteCallback)}}componentDidUpdate(e){np(this.registeredEvents),this.registeredEvents=rp({updaterMap:eg,eventMap:Xm,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){null!==this.state.autocomplete&&np(this.registeredEvents)}render(){return Qe.jsx("div",{ref:this.containerElement,className:this.props.className,children:Pe.Children.only(this.props.children)})}}Vh(tg,"defaultProps",{className:""}),Vh(tg,"contextType",Jh);const ng=["places"],rg=({propertyId:e,address:t,initialLat:n,initialLng:r,onLocationUpdated:s})=>{const{toast:o}=Bo(),[i,a]=Pe.useState(null),[l,c]=Pe.useState(!1),[u,d]=Pe.useState(t),[h,p]=Pe.useState({lat:n||41.1579,lng:r||-8.6291}),[f,m]=Pe.useState({lat:n||41.1579,lng:r||-8.6291}),{isLoaded:g,loadError:v}=wp({googleMapsApiKey:"your_google_maps_api_key",libraries:ng}),y=Pe.useCallback((async e=>{const t=new google.maps.Geocoder;try{const n=await t.geocode({address:e});if(n.results[0]){const{lat:e,lng:t}=n.results[0].geometry.location,r={lat:e(),lng:t()};p(r),m(r),d(n.results[0].formatted_address)}}catch(n){console.error("Geocoding error:",n),o({variant:"destructive",title:"Error",description:"Failed to find address. Please try again."})}}),[o]);return Pe.useEffect((()=>{g&&t&&!n&&!r&&y(t)}),[g,t,n,r,y]),Qe.jsxs(Bl,{children:[Qe.jsx(Wl,{children:Qe.jsxs(ql,{className:"flex items-center gap-2",children:[Qe.jsx(ja,{className:"h-5 w-5"}),"Location"]})}),Qe.jsx(Vl,{children:Qe.jsxs("div",{className:"space-y-4",children:[l?Qe.jsxs("div",{className:"flex gap-2",children:[Qe.jsx($l,{value:u,onChange:e=>d(e.target.value),placeholder:"Enter address..."}),Qe.jsx(zl,{onClick:()=>y(u),className:"flex items-center gap-2",children:"Search"}),Qe.jsxs(zl,{onClick:async()=>{try{const t=e,{error:n}=await Oo.from("property_analyses").update({address:u,location_lat:f.lat,location_lng:f.lng}).eq("id",t);if(n)throw n;c(!1),null==s||s(),o({title:"Success",description:"Location updated successfully"})}catch(t){o({variant:"destructive",title:"Error",description:t.message||"Failed to update location"})}},className:"flex items-center gap-2",children:[Qe.jsx(Pa,{className:"h-4 w-4"}),"Save"]})]}):Qe.jsxs("div",{className:"flex items-center justify-between",children:[Qe.jsx("p",{className:"text-sm",children:t}),Qe.jsx(zl,{variant:"outline",onClick:()=>c(!0),children:"Edit"})]}),g?Qe.jsx("div",{className:"h-[400px] w-full",children:Qe.jsx(ip,{mapContainerStyle:{height:"100%",width:"100%"},zoom:13,center:h,onClick:e=>{if(!l||!e.latLng)return;const t={lat:e.latLng.lat(),lng:e.latLng.lng()};m(t)},options:{disableDefaultUI:!0,zoomControl:!0,streetViewControl:!0,mapTypeControl:!0},onLoad:a,onUnmount:()=>a(null),children:Qe.jsx(Bp,{position:f,draggable:l,onDragEnd:e=>{e.latLng&&m({lat:e.latLng.lat(),lng:e.latLng.lng()})}})})}):Qe.jsx("div",{className:"h-[400px] w-full flex items-center justify-center",children:v?"Error loading map":"Loading map..."})]})})]})},sg=({propertyId:e,existingImages:t=[],onImagesUpdated:n})=>{const{toast:r}=Bo(),{user:s}=No(),[o,i]=Pe.useState(!1),[a,l]=Pe.useState(t),c=e;Pe.useEffect((()=>{const t=async t=>{var s;const o=null==(s=t.clipboardData)?void 0:s.items;if(!o)return;Array.from(o).map((e=>({type:e.type,kind:e.kind})));const u=Array.from(o).filter((e=>(e.type,e.type.startsWith("image/"))));if(0===u.length)return void r({variant:"destructive",title:"No Image Found",description:"No image found in clipboard. Please copy an image first."});i(!0);const d=[];try{for(const n of u){const t=n.getAsFile();if(!t)continue;t.type,t.size;const r=`${e}/${Date.now()}.png`,{error:s,data:o}=await Oo.storage.from("property-images").upload(r,t,{contentType:t.type});if(s)throw Lo("Storage upload error:",s),s;Po("Upload successful, data:",o);const{data:{publicUrl:i}}=Oo.storage.from("property-images").getPublicUrl(r);d.push(i)}const{error:t,data:s}=await Oo.from("property_analyses").update({images:[...a,...d]}).eq("id",c).select();if(t)throw Lo("Database update error:",t.message),t;Po("Property record updated successfully:",s),l((e=>[...e,...d])),null==n||n(),r({title:"Success",description:"Images pasted successfully"})}catch(h){Lo("Error processing pasted images:",h.message),r({variant:"destructive",title:"Error",description:h.message||"Failed to process pasted images. Please try again."})}finally{i(!1)}};return window.addEventListener("paste",t),()=>{window.removeEventListener("paste",t)}}),[e,a,n,r]);return Qe.jsx(Bl,{children:Qe.jsx(Vl,{className:"p-6",children:Qe.jsxs("div",{className:"space-y-4",children:[Qe.jsxs("div",{className:"flex items-center gap-4",children:[Qe.jsxs(zl,{variant:"outline",onClick:()=>{var e;return null==(e=document.getElementById("image-upload"))?void 0:e.click()},disabled:o,className:"flex items-center gap-2",children:[Qe.jsx(Na,{className:"h-4 w-4"}),o?"Uploading...":"Upload Images"]}),Qe.jsx($l,{id:"image-upload",type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:async t=>{const o=t.target.files;if(!o||0===o.length)return;Array.from(o).map((e=>({name:e.name,type:e.type,size:e.size}))),i(!0);const a=[];try{for(const n of o){n.name,n.type,n.size;const t=n.name.split(".").pop(),r=`${e}/${Date.now()}.${t}`,{data:o,error:i}=await Oo.storage.listBuckets();if(i)throw Lo("[PropertyImages] Error listing buckets:",i),new Error(`Failed to list buckets: ${i.message}`);const{error:l,data:c}=await Oo.storage.from("property-images").upload(r,n,{cacheControl:"3600",upsert:!1,contentType:n.type,duplex:"half",metadata:{owner:(null==s?void 0:s.id)||"",propertyId:e}});if(l)throw Lo("[PropertyImages] Storage upload error:",l.message),l;Po("[PropertyImages] Upload successful, data:",c);const{data:{publicUrl:u}}=Oo.storage.from("property-images").getPublicUrl(r);a.push(u)}const{data:t,error:i}=await Oo.from("property_analyses").select("*").eq("id",c).single();if(i)throw Lo("[PropertyImages] Error fetching current record:",i),i;const{error:u,data:d}=await Oo.from("property_analyses").update({images:[...(null==t?void 0:t.images)||[],...a]}).eq("id",c).select();if(u)throw Lo("[PropertyImages] Database update error:",u.message),u;Po("[PropertyImages] Property record updated successfully:",d),l((e=>[...e,...a])),null==n||n(),r({title:"Success",description:"Images uploaded successfully"})}catch(u){Lo("[PropertyImages] Error uploading images:",u.message),r({variant:"destructive",title:"Error",description:u.message||"Failed to upload images. Please try again."})}finally{i(!1)}},disabled:o}),Qe.jsx("div",{className:"text-sm text-muted-foreground",children:"or paste images from clipboard (Ctrl/Cmd + V)"})]}),Qe.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[a.map(((t,s)=>Qe.jsxs("div",{className:"relative group",children:[Qe.jsx("img",{src:t,alt:`Property image ${s+1}`,className:"w-full h-48 object-cover rounded-lg"}),Qe.jsx(zl,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>(async t=>{try{const s=t.split("/").pop();if(!s)return;const{error:o}=await Oo.storage.from("property-images").remove([`${e}/${s}`]);if(o)throw o;const i=a.filter((e=>e!==t)),{error:u}=await Oo.from("property_analyses").update({images:i}).eq("id",c);if(u)throw u;l(i),null==n||n(),r({title:"Success",description:"Image deleted successfully"})}catch(s){Lo("Error deleting image:",s.message),r({variant:"destructive",title:"Error",description:"Failed to delete image. Please try again."})}})(t),children:Qe.jsx(Aa,{className:"h-4 w-4"})})]},t))),0===a.length&&Qe.jsx("div",{className:"flex items-center justify-center h-48 border-2 border-dashed rounded-lg",children:Qe.jsxs("div",{className:"text-center text-muted-foreground",children:[Qe.jsx(ka,{className:"h-8 w-8 mx-auto mb-2"}),Qe.jsx("p",{children:"No images yet"})]})})]})]})})})},og=()=>{var e,t,n,r,s,o,i,a,l;const{id:c}=Ie(),u=Te(),{toast:d}=Bo(),h=Zt(),[p,f]=Pe.useState(!1),[m,g]=Pe.useState(!1),[v,y]=Pe.useState(null),{data:b,isLoading:w}=rn({queryKey:["property",c],queryFn:async()=>{const{data:e,error:t}=await Oo.from("property_analyses").select("*").eq("id",c).single();if(t)throw t;return e}});Pe.useEffect((()=>{b&&y(b)}),[b]);const{mutate:x}=sn({mutationFn:async e=>{const{data:t,error:n}=await Oo.from("property_analyses").update({...e,details:e.details}).eq("id",c);if(n)throw n;return t},onSuccess:()=>{h.invalidateQueries({queryKey:["property",c]}),d({title:"Success",description:"Property updated successfully"}),f(!1)},onError:e=>{d({variant:"destructive",title:"Error",description:"Failed to update property. Please try again."})}}),{mutate:k}=sn({mutationFn:async()=>{const{error:e}=await Oo.from("property_analyses").delete().eq("id",c);if(e)throw e},onSuccess:()=>{d({title:"Success",description:"Property deleted successfully"}),u("/properties")},onError:e=>{d({variant:"destructive",title:"Error",description:"Failed to delete property. Please try again."})}}),E=(e,t)=>{if(!e)return"";const n=e[t];return null==n?"":n},C=(e,t)=>{if(v)if(e.includes(".")){const[n,r]=e.split(".");"details"===n&&y({...v,details:{...v.details,[r]:t}})}else y({...v,[e]:t})};return w?Qe.jsx("div",{className:"flex items-center justify-center h-32",children:"Loading..."}):b?Qe.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[Qe.jsxs("div",{className:"flex items-center justify-between",children:[Qe.jsx("h1",{className:"text-3xl font-bold",children:p?Qe.jsx($l,{value:null==v?void 0:v.address,onChange:e=>C("address",e.target.value),className:"text-3xl font-bold"}):b.address||"Untitled Property"}),Qe.jsx("div",{className:"flex gap-2",children:p?Qe.jsxs(Qe.Fragment,{children:[Qe.jsxs(zl,{onClick:()=>{if(!v)return;const e=Number(v.price),t=Number(v.monthly_rent)||.008*e,n=Number(v.estimated_expenses)||.4*t,r=(12*(t-n)/e*100).toFixed(2),s={...v,price:e,monthly_rent:t,estimated_expenses:n,roi:Number(r)};x(s)},className:"flex items-center gap-2",children:[Qe.jsx(Pa,{className:"h-4 w-4"}),"Save"]}),Qe.jsxs(zl,{variant:"outline",onClick:()=>{f(!1),y(b)},className:"flex items-center gap-2",children:[Qe.jsx(Aa,{className:"h-4 w-4"}),"Cancel"]})]}):Qe.jsxs(Qe.Fragment,{children:[Qe.jsxs(zl,{variant:"default",onClick:()=>f(!0),className:"flex items-center gap-2",children:[Qe.jsx(Oa,{className:"h-4 w-4"}),"Edit"]}),Qe.jsxs(zl,{variant:"destructive",onClick:()=>g(!0),className:"flex items-center gap-2",children:[Qe.jsx(Ma,{className:"h-4 w-4"}),"Delete"]})]})})]}),Qe.jsx(Rh,{open:m,onOpenChange:g,children:Qe.jsxs(Ih,{children:[Qe.jsxs(Uh,{children:[Qe.jsx(zh,{children:"Are you sure?"}),Qe.jsx($h,{children:"This action cannot be undone. This will permanently delete the property and all its associated data."})]}),Qe.jsxs(Fh,{children:[Qe.jsx(Wh,{children:"Cancel"}),Qe.jsx(Bh,{onClick:()=>k(),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),Qe.jsxs("div",{className:"grid gap-6",children:[Qe.jsxs(Bl,{children:[Qe.jsx(Wl,{children:Qe.jsx(ql,{children:"Financial Details"})}),Qe.jsx(Vl,{children:Qe.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[Qe.jsxs("div",{children:[Qe.jsx("h3",{className:"text-lg font-medium",children:"Price"}),p?Qe.jsx($l,{type:"number",value:(null==v?void 0:v.price)||"",onChange:e=>C("price",Number(e.target.value)),className:"text-2xl font-bold"}):Qe.jsxs(Qe.Fragment,{children:[Qe.jsxs("p",{className:"text-3xl font-bold",children:["€",null==(e=b.price)?void 0:e.toLocaleString()]}),b.price&&(null==(t=b.details)?void 0:t.square_meters)&&Qe.jsxs("div",{className:"text-sm mt-1",children:[Qe.jsxs("span",{className:"text-muted-foreground",children:["€",Math.round(b.price/b.details.square_meters).toLocaleString(),"/m²"]}),(null==(n=b.details)?void 0:n.area_average)&&Qe.jsxs("span",{className:la("ml-2",b.details.difference_percent>0?"text-red-500":"text-green-500"),children:["(",b.details.difference_percent>0?"+":"",b.details.difference_percent,"% vs ",b.details.area_name||"area",")"]})]})]})]}),Qe.jsxs("div",{children:[Qe.jsx("h3",{className:"text-lg font-medium",children:"Monthly Rent"}),p?Qe.jsx($l,{type:"number",value:(null==v?void 0:v.monthly_rent)||"",onChange:e=>C("monthly_rent",Number(e.target.value)),className:"text-2xl font-bold"}):Qe.jsxs("p",{className:"text-3xl font-bold",children:["€",null==(r=b.monthly_rent)?void 0:r.toLocaleString()]})]}),Qe.jsxs("div",{children:[Qe.jsx("h3",{className:"text-lg font-medium",children:"Monthly Expenses"}),p?Qe.jsx($l,{type:"number",value:(null==v?void 0:v.estimated_expenses)||"",onChange:e=>C("estimated_expenses",Number(e.target.value)),className:"text-2xl font-bold"}):Qe.jsxs("p",{className:"text-3xl font-bold",children:["€",null==(s=b.estimated_expenses)?void 0:s.toLocaleString()]})]}),Qe.jsxs("div",{children:[Qe.jsx("h3",{className:"text-lg font-medium",children:"ROI"}),Qe.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[b.roi,"%"]})]})]})})]}),Qe.jsxs(Bl,{children:[Qe.jsx(Wl,{children:Qe.jsx(ql,{children:"Property Details"})}),Qe.jsxs(Vl,{children:[Qe.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[Qe.jsxs("div",{children:[Qe.jsx("h3",{className:"text-lg font-medium",children:"Bedrooms"}),p?Qe.jsx($l,{type:"number",value:E(null==v?void 0:v.details,"bedrooms"),onChange:e=>C("details.bedrooms",e.target.value),className:"text-2xl font-bold"}):Qe.jsx("p",{className:"text-2xl font-bold",children:(null==(o=b.details)?void 0:o.bedrooms)||"N/A"})]}),Qe.jsxs("div",{children:[Qe.jsx("h3",{className:"text-lg font-medium",children:"Bathrooms"}),p?Qe.jsx($l,{type:"number",value:E(null==v?void 0:v.details,"bathrooms"),onChange:e=>C("details.bathrooms",e.target.value),className:"text-2xl font-bold"}):Qe.jsx("p",{className:"text-2xl font-bold",children:(null==(i=b.details)?void 0:i.bathrooms)||"N/A"})]}),Qe.jsxs("div",{children:[Qe.jsx("h3",{className:"text-lg font-medium",children:"Area"}),p?Qe.jsx($l,{type:"number",value:E(null==v?void 0:v.details,"square_meters"),onChange:e=>C("details.square_meters",Number(e.target.value)),className:"text-2xl font-bold"}):Qe.jsxs("p",{className:"text-2xl font-bold",children:[(null==(a=b.details)?void 0:a.square_meters)||"N/A"," m²"]})]})]}),Qe.jsxs("div",{className:"mt-6",children:[Qe.jsx("h3",{className:"text-lg font-medium",children:"Description"}),p?Qe.jsx("textarea",{value:E(null==v?void 0:v.details,"description"),onChange:e=>C("details.description",e.target.value),className:"w-full min-h-[100px] mt-2 p-2 border rounded-md"}):Qe.jsx("p",{className:"mt-2 text-muted-foreground",children:null==(l=b.details)?void 0:l.description})]})]})]})]}),Qe.jsx(sg,{propertyId:b.id,existingImages:b.images||[],onImagesUpdated:()=>h.invalidateQueries({queryKey:["property",c]})}),Qe.jsx(rg,{propertyId:b.id,address:b.address,initialLat:b.location_lat,initialLng:b.location_lng,onLocationUpdated:()=>h.invalidateQueries({queryKey:["property",c]})})]}):Qe.jsxs("div",{className:"flex flex-col items-center justify-center h-32 space-y-4",children:[Qe.jsx("div",{children:"Property not found"}),Qe.jsx(zl,{onClick:()=>u("/properties"),children:"Back to Properties"})]})};const ig=()=>{var e;const{user:t}=No(),{toast:n}=Bo(),r=Te(),[s,o]=Pe.useState(!1),[i,a]=Pe.useState(""),[l,c]=Pe.useState([]),[u,d]=Pe.useState(!1),[h,p]=Pe.useState(""),[f,m]=Pe.useState("paste"),[g,v]=Pe.useState(null),[y,b]=Pe.useState({address:"",price:"",bedrooms:"",bathrooms:"",squareMeters:"",description:"",monthlyRent:"",estimatedExpenses:"",summary:"",score:0,pros:[],cons:[]}),[w,x]=Pe.useState([]),k=Pe.useRef(null),E=async e=>{var t,r,s,o,i,l,u,h,f;e.preventDefault(),d(!0),p("Extracting content...");const g=e.clipboardData;let y="";g&&(y=g.getData("text/plain").trim()),y.substring(0,200),a(y);let w="",x="";if(g&&(w=g.getData("text/html"),w)){const e=(new DOMParser).parseFromString(w,"text/html");x=e.body?e.body.innerText.trim():(null==(t=e.documentElement.textContent)?void 0:t.trim())||"",x.substring(0,200)}const k=x.length>y.length?x:y;k.substring(0,200),p("Processing images...");let E=[];if(g&&g.files&&g.files.length>0&&(E=Array.from(g.files),E.length),w){const e=(new DOMParser).parseFromString(w,"text/html"),t=Array.from(e.querySelectorAll("img"));t.length;const n=new Set,r=(await Promise.all(t.map((async(e,t)=>{const r=e.getAttribute("src")||e.getAttribute("data-src");if(!r)return e.outerHTML,null;if(n.has(r))return null;n.add(r);try{let e;if(r.startsWith("data:"))e=function(e){const t=e.split(","),n=t[0].match(/:(.*?);/);if(!n)throw new Error("Invalid data URL format");const r=n[1],s=atob(t[1]);let o=s.length;const i=new Uint8Array(o);for(;o--;)i[o]=s.charCodeAt(o);return new Blob([i],{type:r})}(r);else{if(r.includes("maps.googleapis.com/maps/api/staticmap"))return null;const t=await(async e=>{try{const n="your_supabase_anon_key",r="your_supabase_url/functions/v1/proxy-image";try{const t=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({imageUrl:e})});if(t.ok)return await t.blob();await t.text(),t.status;const s=`${r}?url=${encodeURIComponent(e)}`,o=await fetch(s,{method:"GET",headers:{Authorization:`Bearer ${n}`}});return o.ok?await o.blob():(await o.text(),o.status,null)}catch(t){return null}}catch(t){return null}})(r);if(t)e=t;else try{const t=await fetch(r,{mode:"no-cors"});e=await t.blob()}catch(s){return null}}const n=e.type.split("/")[1]||"jpg",o=`pasted-image-${Date.now()}-${t}.${n}`;return new File([e],o,{type:e.type})}catch(Hw){return null}})))).filter((e=>null!==e));r.length,E=E.concat(r),E.length}if(E.length>0&&(c(E),E.length),!(k.length>0))return E.length>0?(n({variant:"destructive",title:"No text found",description:"Only images were found. Please add property details manually."}),d(!1),void p("")):k||0!==E.length?void 0:(n({variant:"destructive",title:"No content found",description:"Please copy both text and images from your listing."}),d(!1),void p(""));p("Analyzing property details...");try{k.length;const{data:e,error:t}=await Oo.functions.invoke("analyze-content",{body:{content:k}});if(t)throw t;if(!e)throw new Error("No result returned from analysis");v(e);const a=(null==(r=e.details)?void 0:r.square_meters)||"";p("Populating form fields..."),b({address:e.address||"",price:e.price?e.price.toString():"",monthlyRent:e.monthly_rent?e.monthly_rent.toString():"",estimatedExpenses:e.estimated_expenses?e.estimated_expenses.toString():"",bedrooms:(null==(s=e.details)?void 0:s.bedrooms)||"",bathrooms:(null==(o=e.details)?void 0:o.bathrooms)||"",squareMeters:a,description:(null==(i=e.details)?void 0:i.description)||"",summary:(null==(l=e.details)?void 0:l.summary)||"",score:(null==(u=e.details)?void 0:u.score)||0,pros:(null==(h=e.details)?void 0:h.pros)||[],cons:(null==(f=e.details)?void 0:f.cons)||[]}),n({title:"Property Details Parsed",description:"Review the property details under Manual Input."}),m("manual")}catch(C){console.error("Analysis error:",C);let e="Failed to analyze the content. Please try again or enter details manually.";C instanceof Error&&(C.message,C.message.includes("Edge Function returned a non-2xx status code")&&(e="The analysis service is currently unavailable. Please try again later or enter details manually.")),n({variant:"destructive",title:"Analysis Failed",description:e}),m("manual")}finally{d(!1),p("")}},C=Pe.useCallback((e=>{var t;if("manual"===f&&(null==(t=e.clipboardData)?void 0:t.files.length)>0){e.preventDefault();const t=Array.from(e.clipboardData.files).filter((e=>e.type.startsWith("image/")));x((e=>[...e,...t])),n({title:"Images Added",description:`${t.length} image(s) added to the property.`})}}),[f]);Pe.useEffect((()=>(window.addEventListener("paste",E),window.addEventListener("paste",C),()=>{window.removeEventListener("paste",E),window.removeEventListener("paste",C)})),[E,C]);const j=(e,t)=>{b((n=>({...n,[e]:t})))};return Qe.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[Qe.jsx("div",{className:"flex items-center justify-between",children:Qe.jsx("h1",{className:"text-3xl font-bold",children:"Add New Property"})}),Qe.jsxs(Uc,{value:f,onValueChange:m,className:"w-full",children:[Qe.jsxs(Fc,{className:"grid w-full grid-cols-2",children:[Qe.jsx(zc,{value:"paste",children:"Paste from Website"}),Qe.jsx(zc,{value:"manual",children:"Manual Input"})]}),Qe.jsx($c,{value:"paste",children:Qe.jsxs(Bl,{children:[Qe.jsx(Wl,{children:Qe.jsx(ql,{children:"Paste Property Details"})}),Qe.jsx(Vl,{children:Qe.jsx("div",{className:"space-y-4",children:Qe.jsx("div",{className:"text-center p-8 border-2 border-dashed rounded-lg",children:u?Qe.jsxs("div",{className:"flex flex-col items-center gap-4",children:[Qe.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),Qe.jsxs("div",{className:"space-y-2",children:[Qe.jsx("p",{className:"font-medium",children:"Analyzing property details..."}),h&&Qe.jsx("p",{className:"text-sm text-muted-foreground",children:h})]})]}):Qe.jsx("p",{className:"text-muted-foreground",children:"Copy content from your property listing and paste it here (Ctrl/Cmd + V)"})})})})]})}),Qe.jsx($c,{value:"manual",children:Qe.jsxs(Bl,{children:[Qe.jsx(Wl,{children:Qe.jsx(ql,{children:"Manual Property Details"})}),Qe.jsx(Vl,{children:Qe.jsxs("form",{onSubmit:async e=>{e.preventDefault(),o(!0);try{const e=parseFloat(y.price);let s=parseFloat(y.monthlyRent),o=.008;s?o=s/e:(e>5e5?o=.006:e>3e5?o=.007:e<1e5&&(o=.009),s=e*o);let i=parseFloat(y.estimatedExpenses),a=.4;if(i)a=i/s;else{const e=y.description.toLowerCase();e.includes("new")||e.includes("renovated")||e.includes("modern")?a=.35:(e.includes("old")||e.includes("needs work")||e.includes("fixer"))&&(a=.45),i=s*a}const c=(12*(s-i)/e*100).toFixed(2),u=Number(y.squareMeters)||null,d=u?Math.round(e/u):null;let h=null;if(y.address){const{data:e}=await Oo.functions.invoke("analyze-content",{body:{content:y.address}});(null==e?void 0:e.details)&&(h={area_average:e.details.area_average,difference_percent:d?Math.round((d-e.details.area_average)/e.details.area_average*100):null,area_name:e.details.area_name})}const p={address:y.address,price:e,monthly_rent:s,estimated_expenses:i,roi:parseFloat(c),details:{bedrooms:y.bedrooms,bathrooms:y.bathrooms,square_meters:u,description:y.description,price_per_meter:d,...h&&{area_average:h.area_average,difference_percent:h.difference_percent,area_name:h.area_name}},pros:y.pros.filter((e=>""!==e.trim())),cons:y.cons.filter((e=>""!==e.trim())),summary:y.summary,score:y.score,user_id:null==t?void 0:t.id,property_url:""},{data:f,error:m}=await Oo.from("property_analyses").insert([p]).select().single();if(m)throw m;const g=f.id,v=[...l,...w];if(v.length>0&&g){const e=[];for(const n of v){const t=`${g}/${Date.now()}-${n.name}`,{error:r}=await Oo.storage.from("property-images").upload(t,n,{contentType:n.type,upsert:!1});if(r)throw r;const{data:{publicUrl:s}}=Oo.storage.from("property-images").getPublicUrl(t);e.push(s)}const{error:t}=await Oo.from("property_analyses").update({images:e}).eq("id",g);if(t)throw t}n({title:"Success",description:"Property added successfully"}),r(`/properties/${g}`)}catch(s){console.error("Error adding property:",s),n({variant:"destructive",title:"Error",description:s.message||"Failed to add property. Please check your input and try again."})}finally{o(!1)}},className:"space-y-4",children:[Qe.jsxs("div",{className:"space-y-2",children:[Qe.jsx(Yl,{htmlFor:"address",children:"Property Address"}),Qe.jsx($l,{id:"address",value:y.address,onChange:e=>j("address",e.target.value),required:!0})]}),Qe.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Qe.jsxs("div",{className:"space-y-2",children:[Qe.jsx(Yl,{htmlFor:"price",children:"Price (€)"}),Qe.jsx($l,{id:"price",type:"number",value:y.price,onChange:e=>j("price",e.target.value),required:!0}),y.price&&y.squareMeters&&Qe.jsxs("div",{className:"mt-1 text-sm",children:[Qe.jsxs("span",{className:"text-muted-foreground",children:["€",Math.round(parseFloat(y.price)/Number(y.squareMeters)).toLocaleString(),"/m²"]}),(null==(e=null==g?void 0:g.details)?void 0:e.area_average)&&Qe.jsxs("span",{className:la("ml-2",g.details.difference_percent>0?"text-red-500":"text-green-500"),children:["(",g.details.difference_percent>0?"+":"",g.details.difference_percent,"% vs ",g.details.area_name||"area",")"]})]})]}),Qe.jsxs("div",{className:"space-y-2",children:[Qe.jsx(Yl,{htmlFor:"monthlyRent",children:"Monthly Rent (€)"}),Qe.jsx($l,{id:"monthlyRent",type:"number",value:y.monthlyRent,onChange:e=>j("monthlyRent",e.target.value),placeholder:"Optional - defaults to 0.8% of price"})]})]}),Qe.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[Qe.jsxs("div",{className:"space-y-2",children:[Qe.jsx(Yl,{htmlFor:"bedrooms",children:"Bedrooms"}),Qe.jsx($l,{id:"bedrooms",type:"number",value:y.bedrooms,onChange:e=>j("bedrooms",e.target.value)})]}),Qe.jsxs("div",{className:"space-y-2",children:[Qe.jsx(Yl,{htmlFor:"bathrooms",children:"Bathrooms"}),Qe.jsx($l,{id:"bathrooms",type:"number",value:y.bathrooms,onChange:e=>j("bathrooms",e.target.value)})]}),Qe.jsxs("div",{className:"space-y-2",children:[Qe.jsx(Yl,{htmlFor:"squareMeters",children:"Area (m²)"}),Qe.jsx($l,{id:"squareMeters",type:"number",value:y.squareMeters,onChange:e=>j("squareMeters",e.target.value)})]})]}),Qe.jsxs("div",{className:"space-y-2",children:[Qe.jsx(Yl,{htmlFor:"estimatedExpenses",children:"Monthly Expenses (€)"}),Qe.jsx($l,{id:"estimatedExpenses",type:"number",value:y.estimatedExpenses,onChange:e=>j("estimatedExpenses",e.target.value),placeholder:"Optional - defaults to 40% of rent"})]}),Qe.jsxs("div",{className:"space-y-2",children:[Qe.jsx(Yl,{htmlFor:"description",children:"Description"}),Qe.jsx($l,{id:"description",value:y.description,onChange:e=>j("description",e.target.value)})]}),Qe.jsxs("div",{className:"space-y-4",children:[Qe.jsxs("div",{children:[Qe.jsx(Yl,{children:"Rating"}),Qe.jsx("div",{className:"flex items-center gap-2 mt-2",children:[1,2,3,4,5].map((e=>Qe.jsx("button",{type:"button",onClick:()=>j("score",e),className:la("text-2xl transition-colors",y.score>=e?"text-yellow-400":"text-gray-300"),children:"★"},e)))})]}),Qe.jsxs("div",{className:"space-y-2",children:[Qe.jsx(Yl,{htmlFor:"summary",children:"Summary"}),Qe.jsx("textarea",{id:"summary",value:y.summary,onChange:e=>j("summary",e.target.value),className:"w-full min-h-[100px] p-2 border rounded-md",placeholder:"Add a summary of the property..."})]}),Qe.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Qe.jsxs("div",{className:"space-y-2",children:[Qe.jsx(Yl,{children:"Pros"}),Qe.jsxs("div",{className:"space-y-2",children:[y.pros.map(((e,t)=>Qe.jsxs("div",{className:"flex items-center gap-2",children:[Qe.jsx($l,{value:e,onChange:e=>{const n=[...y.pros];n[t]=e.target.value,j("pros",n)},placeholder:`Pro ${t+1}`}),Qe.jsx(zl,{type:"button",variant:"ghost",size:"icon",onClick:()=>{const e=[...y.pros];e.splice(t,1),j("pros",e)},children:Qe.jsx(Aa,{className:"h-4 w-4"})})]},t))),Qe.jsx(zl,{type:"button",variant:"outline",onClick:()=>j("pros",[...y.pros,""]),children:"Add Pro"})]})]}),Qe.jsxs("div",{className:"space-y-2",children:[Qe.jsx(Yl,{children:"Cons"}),Qe.jsxs("div",{className:"space-y-2",children:[y.cons.map(((e,t)=>Qe.jsxs("div",{className:"flex items-center gap-2",children:[Qe.jsx($l,{value:e,onChange:e=>{const n=[...y.cons];n[t]=e.target.value,j("cons",n)},placeholder:`Con ${t+1}`}),Qe.jsx(zl,{type:"button",variant:"ghost",size:"icon",onClick:()=>{const e=[...y.cons];e.splice(t,1),j("cons",e)},children:Qe.jsx(Aa,{className:"h-4 w-4"})})]},t))),Qe.jsx(zl,{type:"button",variant:"outline",onClick:()=>j("cons",[...y.cons,""]),children:"Add Con"})]})]})]})]}),Qe.jsxs("div",{className:"space-y-2",children:[Qe.jsx(Yl,{children:"Images"}),Qe.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[[...l,...w].map(((e,t)=>Qe.jsxs("div",{className:"relative group",children:[Qe.jsx("img",{src:URL.createObjectURL(e),alt:`Property image ${t+1}`,className:"w-full h-32 object-cover rounded-lg"}),Qe.jsx("button",{type:"button",onClick:()=>(e=>{const t=[...l,...w][e],n=l.indexOf(t);if(-1!==n)return void c((e=>e.filter(((e,t)=>t!==n))));const r=w.indexOf(t);-1!==r&&x((e=>e.filter(((e,t)=>t!==r))))})(t),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:Qe.jsx(Aa,{className:"h-4 w-4"})})]},t))),Qe.jsx("button",{type:"button",onClick:()=>{var e;return null==(e=k.current)?void 0:e.click()},className:"flex items-center justify-center h-32 border-2 border-dashed rounded-lg hover:border-primary transition-colors",children:Qe.jsx("span",{className:"text-sm text-muted-foreground",children:"Upload Images"})})]}),Qe.jsx("input",{ref:k,type:"file",accept:"image/*",multiple:!0,onChange:e=>{if(e.target.files){const t=Array.from(e.target.files);x((e=>[...e,...t])),e.target.value=""}},className:"hidden"}),Qe.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"You can also paste images directly (Ctrl/Cmd + V)"})]}),Qe.jsxs("div",{className:"flex gap-4",children:[Qe.jsx(zl,{type:"submit",disabled:s,children:s?"Adding...":"Add Property"}),Qe.jsx(zl,{type:"button",variant:"outline",onClick:()=>r("/properties"),children:"Cancel"})]})]},"property-form")})]})})]})]})},ag=()=>{const{data:e,isLoading:t}=rn({queryKey:["clients"],queryFn:async()=>{const{data:e,error:t}=await Oo.from("profiles").select("*").eq("role","client");if(t)throw t;return e}});return t?Qe.jsx("div",{children:"Loading..."}):Qe.jsxs("div",{className:"space-y-6",children:[Qe.jsx("h1",{className:"text-3xl font-bold",children:"Clients"}),Qe.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:null==e?void 0:e.map((e=>Qe.jsxs(Bl,{children:[Qe.jsx(Wl,{children:Qe.jsx(ql,{className:"text-lg",children:e.full_name})}),Qe.jsx(Vl,{children:Qe.jsx("p",{className:"text-sm text-muted-foreground",children:e.email})})]},e.id)))})]})},lg=th,cg=nh,ug=rh,dg=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx(sh,{ref:n,className:Ll("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t})));dg.displayName=sh.displayName;const hg=Pe.forwardRef((({className:e,children:t,...n},r)=>Qe.jsxs(ug,{children:[Qe.jsx(dg,{}),Qe.jsxs(oh,{ref:r,className:Ll("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,Qe.jsxs(lh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[Qe.jsx(Aa,{className:"h-4 w-4"}),Qe.jsx("span",{className:"sr-only",children:"Close"})]})]})]})));hg.displayName=oh.displayName;const pg=({className:e,...t})=>Qe.jsx("div",{className:Ll("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});pg.displayName="DialogHeader";const fg=({className:e,...t})=>Qe.jsx("div",{className:Ll("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});fg.displayName="DialogFooter";const mg=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx(ih,{ref:n,className:Ll("text-lg font-semibold leading-none tracking-tight",e),...t})));mg.displayName=ih.displayName;const gg=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx(ah,{ref:n,className:Ll("text-sm text-muted-foreground",e),...t})));function vg(e,[t,n]){return Math.min(n,Math.max(t,e))}gg.displayName=ah.displayName;const yg=["top","right","bottom","left"],bg=Math.min,wg=Math.max,xg=Math.round,kg=Math.floor,Eg=e=>({x:e,y:e}),Cg={left:"right",right:"left",bottom:"top",top:"bottom"},jg={start:"end",end:"start"};function Sg(e,t,n){return wg(e,bg(t,n))}function _g(e,t){return"function"==typeof e?e(t):e}function Pg(e){return e.split("-")[0]}function Lg(e){return e.split("-")[1]}function Og(e){return"x"===e?"y":"x"}function Mg(e){return"y"===e?"height":"width"}function Tg(e){return["top","bottom"].includes(Pg(e))?"y":"x"}function Ng(e){return Og(Tg(e))}function Rg(e){return e.replace(/start|end/g,(e=>jg[e]))}function Dg(e){return e.replace(/left|right|bottom|top/g,(e=>Cg[e]))}function Ag(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Ig(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Ug(e,t,n){let{reference:r,floating:s}=e;const o=Tg(t),i=Ng(t),a=Mg(i),l=Pg(t),c="y"===o,u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-s.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-s.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Lg(t)){case"start":p[i]-=h*(n&&c?-1:1);break;case"end":p[i]+=h*(n&&c?-1:1)}return p}async function Fg(e,t){var n;void 0===t&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=_g(t,e),f=Ag(p),m=a[h?"floating"===d?"reference":"floating":d],g=Ig(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(m)))||n?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,y=await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),b=await(null==o.isElement?void 0:o.isElement(y))&&await(null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},w=Ig(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-w.top+f.top)/b.y,bottom:(w.bottom-g.bottom+f.bottom)/b.y,left:(g.left-w.left+f.left)/b.x,right:(w.right-g.right+f.right)/b.x}}function zg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function $g(e){return yg.some((t=>e[t]>=0))}function Bg(){return"undefined"!=typeof window}function Wg(e){return Vg(e)?(e.nodeName||"").toLowerCase():"#document"}function qg(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Hg(e){var t;return null==(t=(Vg(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Vg(e){return!!Bg()&&(e instanceof Node||e instanceof qg(e).Node)}function Kg(e){return!!Bg()&&(e instanceof Element||e instanceof qg(e).Element)}function Gg(e){return!!Bg()&&(e instanceof HTMLElement||e instanceof qg(e).HTMLElement)}function Zg(e){return!(!Bg()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof qg(e).ShadowRoot)}function Yg(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=nv(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function Qg(e){return["table","td","th"].includes(Wg(e))}function Jg(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(n){return!1}}))}function Xg(e){const t=ev(),n=Kg(e)?nv(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function ev(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function tv(e){return["html","body","#document"].includes(Wg(e))}function nv(e){return qg(e).getComputedStyle(e)}function rv(e){return Kg(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function sv(e){if("html"===Wg(e))return e;const t=e.assignedSlot||e.parentNode||Zg(e)&&e.host||Hg(e);return Zg(t)?t.host:t}function ov(e){const t=sv(e);return tv(t)?e.ownerDocument?e.ownerDocument.body:e.body:Gg(t)&&Yg(t)?t:ov(t)}function iv(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const s=ov(e),o=s===(null==(r=e.ownerDocument)?void 0:r.body),i=qg(s);if(o){const e=av(i);return t.concat(i,i.visualViewport||[],Yg(s)?s:[],e&&n?iv(e):[])}return t.concat(s,iv(s,[],n))}function av(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function lv(e){const t=nv(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Gg(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=xg(n)!==o||xg(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function cv(e){return Kg(e)?e:e.contextElement}function uv(e){const t=cv(e);if(!Gg(t))return Eg(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=lv(t);let i=(o?xg(n.width):n.width)/r,a=(o?xg(n.height):n.height)/s;return i&&Number.isFinite(i)||(i=1),a&&Number.isFinite(a)||(a=1),{x:i,y:a}}const dv=Eg(0);function hv(e){const t=qg(e);return ev()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:dv}function pv(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const s=e.getBoundingClientRect(),o=cv(e);let i=Eg(1);t&&(r?Kg(r)&&(i=uv(r)):i=uv(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==qg(e))&&t}(o,n,r)?hv(o):Eg(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,u=s.width/i.x,d=s.height/i.y;if(o){const e=qg(o),t=r&&Kg(r)?qg(r):r;let n=e,s=av(n);for(;s&&r&&t!==n;){const e=uv(s),t=s.getBoundingClientRect(),r=nv(s),o=t.left+(s.clientLeft+parseFloat(r.paddingLeft))*e.x,i=t.top+(s.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=o,c+=i,n=qg(s),s=av(n)}}return Ig({width:u,height:d,x:l,y:c})}function fv(e,t){const n=rv(e).scrollLeft;return t?t.left+n:pv(Hg(e)).left+n}function mv(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:fv(e,r)),y:r.top+t.scrollTop}}function gv(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=qg(e),r=Hg(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const e=ev();(!e||e&&"fixed"===t)&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}(e,n);else if("document"===t)r=function(e){const t=Hg(e),n=rv(e),r=e.ownerDocument.body,s=wg(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=wg(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+fv(e);const a=-n.scrollTop;return"rtl"===nv(r).direction&&(i+=wg(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}(Hg(e));else if(Kg(t))r=function(e,t){const n=pv(e,!0,"fixed"===t),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Gg(e)?uv(e):Eg(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:s*o.x,y:r*o.y}}(t,n);else{const n=hv(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Ig(r)}function vv(e,t){const n=sv(e);return!(n===t||!Kg(n)||tv(n))&&("fixed"===nv(n).position||vv(n,t))}function yv(e,t,n){const r=Gg(t),s=Hg(t),o="fixed"===n,i=pv(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=Eg(0);if(r||!r&&!o)if(("body"!==Wg(t)||Yg(s))&&(a=rv(t)),r){const e=pv(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else s&&(l.x=fv(s));const c=!s||r||o?Eg(0):mv(s,a);return{x:i.left+a.scrollLeft-l.x-c.x,y:i.top+a.scrollTop-l.y-c.y,width:i.width,height:i.height}}function bv(e){return"static"===nv(e).position}function wv(e,t){if(!Gg(e)||"fixed"===nv(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Hg(e)===n&&(n=n.ownerDocument.body),n}function xv(e,t){const n=qg(e);if(Jg(e))return n;if(!Gg(e)){let t=sv(e);for(;t&&!tv(t);){if(Kg(t)&&!bv(t))return t;t=sv(t)}return n}let r=wv(e,t);for(;r&&Qg(r)&&bv(r);)r=wv(r,t);return r&&tv(r)&&bv(r)&&!Xg(r)?n:r||function(e){let t=sv(e);for(;Gg(t)&&!tv(t);){if(Xg(t))return t;if(Jg(t))return null;t=sv(t)}return null}(e)||n}const kv={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o="fixed"===s,i=Hg(r),a=!!t&&Jg(t.floating);if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Eg(1);const u=Eg(0),d=Gg(r);if((d||!d&&!o)&&(("body"!==Wg(r)||Yg(i))&&(l=rv(r)),Gg(r))){const e=pv(r);c=uv(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const h=!i||d||o?Eg(0):mv(i,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:Hg,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[..."clippingAncestors"===n?Jg(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=iv(e,[],!1).filter((e=>Kg(e)&&"body"!==Wg(e))),s=null;const o="fixed"===nv(e).position;let i=o?sv(e):e;for(;Kg(i)&&!tv(i);){const t=nv(i),n=Xg(i);n||"fixed"!==t.position||(s=null),(o?!n&&!s:!n&&"static"===t.position&&s&&["absolute","fixed"].includes(s.position)||Yg(i)&&!n&&vv(e,i))?r=r.filter((e=>e!==i)):s=t,i=sv(i)}return t.set(e,r),r}(t,this._c):[].concat(n),r],i=o[0],a=o.reduce(((e,n)=>{const r=gv(t,n,s);return e.top=wg(r.top,e.top),e.right=bg(r.right,e.right),e.bottom=bg(r.bottom,e.bottom),e.left=wg(r.left,e.left),e}),gv(t,i,s));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:xv,getElementRects:async function(e){const t=this.getOffsetParent||xv,n=this.getDimensions,r=await n(e.floating);return{reference:yv(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=lv(e);return{width:t,height:n}},getScale:uv,isElement:Kg,isRTL:function(e){return"rtl"===nv(e).direction}};function Ev(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Cv(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=cv(e),u=s||o?[...c?iv(c):[],...iv(t)]:[];u.forEach((e=>{s&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)}));const d=c&&a?function(e,t){let n,r=null;const s=Hg(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function i(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:d,width:h,height:p}=c;if(a||t(),!h||!p)return;const f={rootMargin:-kg(d)+"px "+-kg(s.clientWidth-(u+h))+"px "+-kg(s.clientHeight-(d+p))+"px "+-kg(u)+"px",threshold:wg(0,bg(1,l))||1};let m=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!m)return i();r?i(!1,r):n=setTimeout((()=>{i(!1,1e-7)}),1e3)}1!==r||Ev(c,e.getBoundingClientRect())||i(),m=!1}try{r=new IntersectionObserver(g,{...f,root:s.ownerDocument})}catch(v){r=new IntersectionObserver(g,f)}r.observe(e)}(!0),o}(c,n):null;let h,p=-1,f=null;i&&(f=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var e;null==(e=f)||e.observe(t)}))),n()})),c&&!l&&f.observe(c),f.observe(t));let m=l?pv(e):null;return l&&function t(){const r=pv(e);m&&!Ev(m,r)&&n();m=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{s&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)})),null==d||d(),null==(e=f)||e.disconnect(),f=null,l&&cancelAnimationFrame(h)}}const jv=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await async function(e,t){const{placement:n,platform:r,elements:s}=e,o=await(null==r.isRTL?void 0:r.isRTL(s.floating)),i=Pg(n),a=Lg(n),l="y"===Tg(n),c=["left","top"].includes(i)?-1:1,u=o&&l?-1:1,d=_g(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:f}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&"number"==typeof f&&(p="end"===a?-1*f:f),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}(t,e);return i===(null==(n=a.offset)?void 0:n.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},Sv=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=_g(e,t),c={x:n,y:r},u=await Fg(t,l),d=Tg(Pg(s)),h=Og(d);let p=c[h],f=c[d];if(o){const e="y"===h?"bottom":"right";p=Sg(p+u["y"===h?"top":"left"],p,p-u[e])}if(i){const e="y"===d?"bottom":"right";f=Sg(f+u["y"===d?"top":"left"],f,f-u[e])}const m=a.fn({...t,[h]:p,[d]:f});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:o,[d]:i}}}}}},_v=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:m=!0,...g}=_g(e,t);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const v=Pg(s),y=Tg(a),b=Pg(a)===a,w=await(null==l.isRTL?void 0:l.isRTL(c.floating)),x=h||(b||!m?[Dg(a)]:function(e){const t=Dg(e);return[Rg(e),t,Rg(t)]}(a)),k="none"!==f;!h&&k&&x.push(...function(e,t,n,r){const s=Lg(e);let o=function(e,t,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?o:i;default:return[]}}(Pg(e),"start"===n,r);return s&&(o=o.map((e=>e+"-"+s)),t&&(o=o.concat(o.map(Rg)))),o}(a,m,f,w));const E=[a,...x],C=await Fg(t,g),j=[];let S=(null==(r=o.flip)?void 0:r.overflows)||[];if(u&&j.push(C[v]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=Lg(e),s=Ng(e),o=Mg(s);let i="x"===s?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Dg(i)),[i,Dg(i)]}(s,i,w);j.push(C[e[0]],C[e[1]])}if(S=[...S,{placement:s,overflows:j}],!j.every((e=>e<=0))){var _,P;const e=((null==(_=o.flip)?void 0:_.index)||0)+1,t=E[e];if(t)return{data:{index:e,overflows:S},reset:{placement:t}};let n=null==(P=S.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:P.placement;if(!n)switch(p){case"bestFit":{var L;const e=null==(L=S.filter((e=>{if(k){const t=Tg(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:L[0];e&&(n=e);break}case"initialPlacement":n=a}if(s!==n)return{reset:{placement:n}}}return{}}}},Pv=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:l=()=>{},...c}=_g(e,t),u=await Fg(t,c),d=Pg(s),h=Lg(s),p="y"===Tg(s),{width:f,height:m}=o.floating;let g,v;"top"===d||"bottom"===d?(g=d,v=h===(await(null==i.isRTL?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,g="end"===h?"top":"bottom");const y=m-u.top-u.bottom,b=f-u.left-u.right,w=bg(m-u[g],y),x=bg(f-u[v],b),k=!t.middlewareData.shift;let E=w,C=x;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(C=b),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(E=y),k&&!h){const e=wg(u.left,0),t=wg(u.right,0),n=wg(u.top,0),r=wg(u.bottom,0);p?C=f-2*(0!==e||0!==t?e+t:wg(u.left,u.right)):E=m-2*(0!==n||0!==r?n+r:wg(u.top,u.bottom))}await l({...t,availableWidth:C,availableHeight:E});const j=await i.getDimensions(a.floating);return f!==j.width||m!==j.height?{reset:{rects:!0}}:{}}}},Lv=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=_g(e,t);switch(r){case"referenceHidden":{const e=zg(await Fg(t,{...s,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:$g(e)}}}case"escaped":{const e=zg(await Fg(t,{...s,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:$g(e)}}}default:return{}}}}},Ov=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=_g(e,t)||{};if(null==c)return{};const d=Ag(u),h={x:n,y:r},p=Ng(s),f=Mg(p),m=await i.getDimensions(c),g="y"===p,v=g?"top":"left",y=g?"bottom":"right",b=g?"clientHeight":"clientWidth",w=o.reference[f]+o.reference[p]-h[p]-o.floating[f],x=h[p]-o.reference[p],k=await(null==i.getOffsetParent?void 0:i.getOffsetParent(c));let E=k?k[b]:0;E&&await(null==i.isElement?void 0:i.isElement(k))||(E=a.floating[b]||o.floating[f]);const C=w/2-x/2,j=E/2-m[f]/2-1,S=bg(d[v],j),_=bg(d[y],j),P=S,L=E-m[f]-_,O=E/2-m[f]/2+C,M=Sg(P,O,L),T=!l.arrow&&null!=Lg(s)&&O!==M&&o.reference[f]/2-(O<P?S:_)-m[f]/2<0,N=T?O<P?O-P:O-L:0;return{[p]:h[p]+N,data:{[p]:M,centerOffset:O-M-N,...T&&{alignmentOffset:N}},reset:T}}}),Mv=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=_g(e,t),u={x:n,y:r},d=Tg(s),h=Og(d);let p=u[h],f=u[d];const m=_g(a,t),g="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const e="y"===h?"height":"width",t=o.reference[h]-o.floating[e]+g.mainAxis,n=o.reference[h]+o.reference[e]-g.mainAxis;p<t?p=t:p>n&&(p=n)}if(c){var v,y;const e="y"===h?"width":"height",t=["top","left"].includes(Pg(s)),n=o.reference[d]-o.floating[e]+(t&&(null==(v=i.offset)?void 0:v[d])||0)+(t?0:g.crossAxis),r=o.reference[d]+o.reference[e]+(t?0:(null==(y=i.offset)?void 0:y[d])||0)-(t?g.crossAxis:0);f<n?f=n:f>r&&(f=r)}return{[h]:p,[d]:f}}}},Tv=(e,t,n)=>{const r=new Map,s={platform:kv,...n},o={...s.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(null==i.isRTL?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:d}=Ug(c,r,l),h=r,p={},f=0;for(let m=0;m<a.length;m++){const{name:n,fn:o}=a[m],{x:g,y:v,data:y,reset:b}=await o({x:u,y:d,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:c,platform:i,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=v?v:d,p={...p,[n]:{...p[n],...y}},b&&f<=50&&(f++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await i.getElementRects({reference:e,floating:t,strategy:s}):b.rects),({x:u,y:d}=Ug(c,h,l))),m=-1)}return{x:u,y:d,placement:h,strategy:s,middlewareData:p}})(e,t,{...s,platform:o})};var Nv="undefined"!=typeof document?Pe.useLayoutEffect:Pe.useEffect;function Rv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!=r--;)if(!Rv(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;0!=r--;){const n=s[r];if(("_owner"!==n||!e.$$typeof)&&!Rv(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function Dv(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Av(e,t){const n=Dv(e);return Math.round(t*n)/n}function Iv(e){const t=Pe.useRef(e);return Nv((()=>{t.current=e})),t}const Uv=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"==typeof e?e(t):e;return n&&(s=n,{}.hasOwnProperty.call(s,"current"))?null!=n.current?Ov({element:n.current,padding:r}).fn(t):{}:n?Ov({element:n,padding:r}).fn(t):{};var s}}),Fv=(e,t)=>({...jv(e),options:[e,t]}),zv=(e,t)=>({...Sv(e),options:[e,t]}),$v=(e,t)=>({...Mv(e),options:[e,t]}),Bv=(e,t)=>({..._v(e),options:[e,t]}),Wv=(e,t)=>({...Pv(e),options:[e,t]}),qv=(e,t)=>({...Lv(e),options:[e,t]}),Hv=(e,t)=>({...Uv(e),options:[e,t]});var Vv=Pe.forwardRef(((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return Qe.jsx(ei.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:Qe.jsx("polygon",{points:"0,0 30,0 15,10"})})}));Vv.displayName="Arrow";var Kv=Vv,Gv="Popper",[Zv,Yv]=Ko(Gv),[Qv,Jv]=Zv(Gv),Xv=e=>{const{__scopePopper:t,children:n}=e,[r,s]=Pe.useState(null);return Qe.jsx(Qv,{scope:t,anchor:r,onAnchorChange:s,children:n})};Xv.displayName=Gv;var ey="PopperAnchor",ty=Pe.forwardRef(((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=Jv(ey,n),i=Pe.useRef(null),a=Vo(t,i);return Pe.useEffect((()=>{o.onAnchorChange((null==r?void 0:r.current)||i.current)})),r?null:Qe.jsx(ei.div,{...s,ref:a})}));ty.displayName=ey;var ny="PopperContent",[ry,sy]=Zv(ny),oy=Pe.forwardRef(((e,t)=>{var n,r,s,o,i,a;const{__scopePopper:l,side:c="bottom",sideOffset:u=0,align:d="center",alignOffset:h=0,arrowPadding:p=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:w,...x}=e,k=Jv(ny,l),[E,C]=Pe.useState(null),j=Vo(t,(e=>C(e))),[S,_]=Pe.useState(null),P=eu(S),L=(null==P?void 0:P.width)??0,O=(null==P?void 0:P.height)??0,M=c+("center"!==d?"-"+d:""),T="number"==typeof g?g:{top:0,right:0,bottom:0,left:0,...g},N=Array.isArray(m)?m:[m],R=N.length>0,D={padding:T,boundary:N.filter(cy),altBoundary:R},{refs:A,floatingStyles:I,placement:U,isPositioned:F,middlewareData:z}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,d]=Pe.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=Pe.useState(r);Rv(h,r)||p(r);const[f,m]=Pe.useState(null),[g,v]=Pe.useState(null),y=Pe.useCallback((e=>{e!==k.current&&(k.current=e,m(e))}),[]),b=Pe.useCallback((e=>{e!==E.current&&(E.current=e,v(e))}),[]),w=o||f,x=i||g,k=Pe.useRef(null),E=Pe.useRef(null),C=Pe.useRef(u),j=null!=l,S=Iv(l),_=Iv(s),P=Iv(c),L=Pe.useCallback((()=>{if(!k.current||!E.current)return;const e={placement:t,strategy:n,middleware:h};_.current&&(e.platform=_.current),Tv(k.current,E.current,e).then((e=>{const t={...e,isPositioned:!1!==P.current};O.current&&!Rv(C.current,t)&&(C.current=t,Le.flushSync((()=>{d(t)})))}))}),[h,t,n,_,P]);Nv((()=>{!1===c&&C.current.isPositioned&&(C.current.isPositioned=!1,d((e=>({...e,isPositioned:!1}))))}),[c]);const O=Pe.useRef(!1);Nv((()=>(O.current=!0,()=>{O.current=!1})),[]),Nv((()=>{if(w&&(k.current=w),x&&(E.current=x),w&&x){if(S.current)return S.current(w,x,L);L()}}),[w,x,L,S,j]);const M=Pe.useMemo((()=>({reference:k,floating:E,setReference:y,setFloating:b})),[y,b]),T=Pe.useMemo((()=>({reference:w,floating:x})),[w,x]),N=Pe.useMemo((()=>{const e={position:n,left:0,top:0};if(!T.floating)return e;const t=Av(T.floating,u.x),r=Av(T.floating,u.y);return a?{...e,transform:"translate("+t+"px, "+r+"px)",...Dv(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,a,T.floating,u.x,u.y]);return Pe.useMemo((()=>({...u,update:L,refs:M,elements:T,floatingStyles:N})),[u,L,M,T,N])}({strategy:"fixed",placement:M,whileElementsMounted:(...e)=>Cv(...e,{animationFrame:"always"===b}),elements:{reference:k.anchor},middleware:[Fv({mainAxis:u+O,alignmentAxis:h}),f&&zv({mainAxis:!0,crossAxis:!1,limiter:"partial"===v?$v():void 0,...D}),f&&Bv({...D}),Wv({...D,apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{const{width:s,height:o}=t.reference,i=e.floating.style;i.setProperty("--radix-popper-available-width",`${n}px`),i.setProperty("--radix-popper-available-height",`${r}px`),i.setProperty("--radix-popper-anchor-width",`${s}px`),i.setProperty("--radix-popper-anchor-height",`${o}px`)}}),S&&Hv({element:S,padding:p}),uy({arrowWidth:L,arrowHeight:O}),y&&qv({strategy:"referenceHidden",...D})]}),[$,B]=dy(U),W=ni(w);fi((()=>{F&&(null==W||W())}),[F,W]);const q=null==(n=z.arrow)?void 0:n.x,H=null==(r=z.arrow)?void 0:r.y,V=0!==(null==(s=z.arrow)?void 0:s.centerOffset),[K,G]=Pe.useState();return fi((()=>{E&&G(window.getComputedStyle(E).zIndex)}),[E]),Qe.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:F?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[null==(o=z.transformOrigin)?void 0:o.x,null==(i=z.transformOrigin)?void 0:i.y].join(" "),...(null==(a=z.hide)?void 0:a.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:Qe.jsx(ry,{scope:l,placedSide:$,onArrowChange:_,arrowX:q,arrowY:H,shouldHideArrow:V,children:Qe.jsx(ei.div,{"data-side":$,"data-align":B,...x,ref:j,style:{...x.style,animation:F?void 0:"none"}})})})}));oy.displayName=ny;var iy="PopperArrow",ay={top:"bottom",right:"left",bottom:"top",left:"right"},ly=Pe.forwardRef((function(e,t){const{__scopePopper:n,...r}=e,s=sy(iy,n),o=ay[s.placedSide];return Qe.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:Qe.jsx(Kv,{...r,ref:t,style:{...r.style,display:"block"}})})}));function cy(e){return null!==e}ly.displayName=iy;var uy=e=>({name:"transformOrigin",options:e,fn(t){var n,r,s;const{placement:o,rects:i,middlewareData:a}=t,l=0!==(null==(n=a.arrow)?void 0:n.centerOffset),c=l?0:e.arrowWidth,u=l?0:e.arrowHeight,[d,h]=dy(o),p={start:"0%",center:"50%",end:"100%"}[h],f=((null==(r=a.arrow)?void 0:r.x)??0)+c/2,m=((null==(s=a.arrow)?void 0:s.y)??0)+u/2;let g="",v="";return"bottom"===d?(g=l?p:`${f}px`,v=-u+"px"):"top"===d?(g=l?p:`${f}px`,v=`${i.floating.height+u}px`):"right"===d?(g=-u+"px",v=l?p:`${m}px`):"left"===d&&(g=`${i.floating.width+u}px`,v=l?p:`${m}px`),{data:{x:g,y:v}}}});function dy(e){const[t,n="center"]=e.split("-");return[t,n]}var hy=Xv,py=ty,fy=oy,my=ly,gy=[" ","Enter","ArrowUp","ArrowDown"],vy=[" ","Enter"],yy="Select",[by,wy,xy]=Xo(yy),[ky,Ey]=Ko(yy,[xy,Yv]),Cy=Yv(),[jy,Sy]=ky(yy),[_y,Py]=ky(yy),Ly=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:p,form:f}=e,m=Cy(t),[g,v]=Pe.useState(null),[y,b]=Pe.useState(null),[w,x]=Pe.useState(!1),k=tc(c),[E=!1,C]=yi({prop:r,defaultProp:s,onChange:o}),[j,S]=yi({prop:i,defaultProp:a,onChange:l}),_=Pe.useRef(null),P=!g||(f||!!g.closest("form")),[L,O]=Pe.useState(new Set),M=Array.from(L).map((e=>e.props.value)).join(";");return Qe.jsx(hy,{...m,children:Qe.jsxs(jy,{required:p,scope:t,trigger:g,onTriggerChange:v,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:x,contentId:Xl(),value:j,onValueChange:S,open:E,onOpenChange:C,dir:k,triggerPointerDownPosRef:_,disabled:h,children:[Qe.jsx(by.Provider,{scope:t,children:Qe.jsx(_y,{scope:e.__scopeSelect,onNativeOptionAdd:Pe.useCallback((e=>{O((t=>new Set(t).add(e)))}),[]),onNativeOptionRemove:Pe.useCallback((e=>{O((t=>{const n=new Set(t);return n.delete(e),n}))}),[]),children:n})}),P?Qe.jsxs(mb,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:d,value:j,onChange:e=>S(e.target.value),disabled:h,form:f,children:[void 0===j?Qe.jsx("option",{value:""}):null,Array.from(L)]},M):null]})})};Ly.displayName=yy;var Oy="SelectTrigger",My=Pe.forwardRef(((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=Cy(n),i=Sy(Oy,n),a=i.disabled||r,l=Vo(t,i.onTriggerChange),c=wy(n),u=Pe.useRef("touch"),[d,h,p]=gb((e=>{const t=c().filter((e=>!e.disabled)),n=t.find((e=>e.value===i.value)),r=vb(t,e,n);void 0!==r&&i.onValueChange(r.value)})),f=e=>{a||(i.onOpenChange(!0),p()),e&&(i.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return Qe.jsx(py,{asChild:!0,...o,children:Qe.jsx(ei.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":fb(i.value)?"":void 0,...s,ref:l,onClick:Wo(s.onClick,(e=>{e.currentTarget.focus(),"mouse"!==u.current&&f(e)})),onPointerDown:Wo(s.onPointerDown,(e=>{u.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(f(e),e.preventDefault())})),onKeyDown:Wo(s.onKeyDown,(e=>{const t=""!==d.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||h(e.key),t&&" "===e.key||gy.includes(e.key)&&(f(),e.preventDefault())}))})})}));My.displayName=Oy;var Ty="SelectValue",Ny=Pe.forwardRef(((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=e,l=Sy(Ty,n),{onValueNodeHasChildrenChange:c}=l,u=void 0!==o,d=Vo(t,l.onValueNodeChange);return fi((()=>{c(u)}),[c,u]),Qe.jsx(ei.span,{...a,ref:d,style:{pointerEvents:"none"},children:fb(l.value)?Qe.jsx(Qe.Fragment,{children:i}):o})}));Ny.displayName=Ty;var Ry=Pe.forwardRef(((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return Qe.jsx(ei.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})}));Ry.displayName="SelectIcon";var Dy=e=>Qe.jsx(mi,{asChild:!0,...e});Dy.displayName="SelectPortal";var Ay="SelectContent",Iy=Pe.forwardRef(((e,t)=>{const n=Sy(Ay,e.__scopeSelect),[r,s]=Pe.useState();if(fi((()=>{s(new DocumentFragment)}),[]),!n.open){const t=r;return t?Le.createPortal(Qe.jsx(Fy,{scope:e.__scopeSelect,children:Qe.jsx(by.Slot,{scope:e.__scopeSelect,children:Qe.jsx("div",{children:e.children})})}),t):null}return Qe.jsx($y,{...e,ref:t})}));Iy.displayName=Ay;var Uy=10,[Fy,zy]=ky(Ay),$y=Pe.forwardRef(((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:f,hideWhenDetached:m,avoidCollisions:g,...v}=e,y=Sy(Ay,n),[b,w]=Pe.useState(null),[x,k]=Pe.useState(null),E=Vo(t,(e=>w(e))),[C,j]=Pe.useState(null),[S,_]=Pe.useState(null),P=wy(n),[L,O]=Pe.useState(!1),M=Pe.useRef(!1);Pe.useEffect((()=>{if(b)return kd(b)}),[b]),_u();const T=Pe.useCallback((e=>{const[t,...n]=P().map((e=>e.ref.current)),[r]=n.slice(-1),s=document.activeElement;for(const o of e){if(o===s)return;if(null==o||o.scrollIntoView({block:"nearest"}),o===t&&x&&(x.scrollTop=0),o===r&&x&&(x.scrollTop=x.scrollHeight),null==o||o.focus(),document.activeElement!==s)return}}),[P,x]),N=Pe.useCallback((()=>T([C,b])),[T,C,b]);Pe.useEffect((()=>{L&&N()}),[L,N]);const{onOpenChange:R,triggerPointerDownPosRef:D}=y;Pe.useEffect((()=>{if(b){let e={x:0,y:0};const t=t=>{var n,r;e={x:Math.abs(Math.round(t.pageX)-((null==(n=D.current)?void 0:n.x)??0)),y:Math.abs(Math.round(t.pageY)-((null==(r=D.current)?void 0:r.y)??0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():b.contains(n.target)||R(!1),document.removeEventListener("pointermove",t),D.current=null};return null!==D.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}}),[b,R,D]),Pe.useEffect((()=>{const e=()=>R(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}}),[R]);const[A,I]=gb((e=>{const t=P().filter((e=>!e.disabled)),n=t.find((e=>e.ref.current===document.activeElement)),r=vb(t,e,n);r&&setTimeout((()=>r.ref.current.focus()))})),U=Pe.useCallback(((e,t,n)=>{const r=!M.current&&!n;(void 0!==y.value&&y.value===t||r)&&(j(e),r&&(M.current=!0))}),[y.value]),F=Pe.useCallback((()=>null==b?void 0:b.focus()),[b]),z=Pe.useCallback(((e,t,n)=>{const r=!M.current&&!n;(void 0!==y.value&&y.value===t||r)&&_(e)}),[y.value]),$="popper"===r?Wy:By,B=$===Wy?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:f,hideWhenDetached:m,avoidCollisions:g}:{};return Qe.jsx(Fy,{scope:n,content:b,viewport:x,onViewportChange:k,itemRefCallback:U,selectedItem:C,onItemLeave:F,itemTextRefCallback:z,focusSelectedItem:N,selectedItemText:S,position:r,isPositioned:L,searchRef:A,children:Qe.jsx(md,{as:Zo,allowPinchZoom:!0,children:Qe.jsx(bu,{asChild:!0,trapped:y.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:Wo(s,(e=>{var t;null==(t=y.trigger)||t.focus({preventScroll:!0}),e.preventDefault()})),children:Qe.jsx(li,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:Qe.jsx($,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:e=>e.preventDefault(),...v,...B,onPlaced:()=>O(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Wo(v.onKeyDown,(e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||I(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=P().filter((e=>!e.disabled)).map((e=>e.ref.current));if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout((()=>T(t))),e.preventDefault()}}))})})})})})}));$y.displayName="SelectContentImpl";var By=Pe.forwardRef(((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=Sy(Ay,n),i=zy(Ay,n),[a,l]=Pe.useState(null),[c,u]=Pe.useState(null),d=Vo(t,(e=>u(e))),h=wy(n),p=Pe.useRef(!1),f=Pe.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:v,focusSelectedItem:y}=i,b=Pe.useCallback((()=>{if(o.trigger&&o.valueNode&&a&&c&&m&&g&&v){const e=o.trigger.getBoundingClientRect(),t=c.getBoundingClientRect(),n=o.valueNode.getBoundingClientRect(),s=v.getBoundingClientRect();if("rtl"!==o.dir){const r=s.left-t.left,o=n.left-r,i=e.left-o,l=e.width+i,c=Math.max(l,t.width),u=window.innerWidth-Uy,d=vg(o,[Uy,Math.max(Uy,u-c)]);a.style.minWidth=l+"px",a.style.left=d+"px"}else{const r=t.right-s.right,o=window.innerWidth-n.right-r,i=window.innerWidth-e.right-o,l=e.width+i,c=Math.max(l,t.width),u=window.innerWidth-Uy,d=vg(o,[Uy,Math.max(Uy,u-c)]);a.style.minWidth=l+"px",a.style.right=d+"px"}const i=h(),l=window.innerHeight-2*Uy,u=m.scrollHeight,d=window.getComputedStyle(c),f=parseInt(d.borderTopWidth,10),y=parseInt(d.paddingTop,10),b=parseInt(d.borderBottomWidth,10),w=f+y+u+parseInt(d.paddingBottom,10)+b,x=Math.min(5*g.offsetHeight,w),k=window.getComputedStyle(m),E=parseInt(k.paddingTop,10),C=parseInt(k.paddingBottom,10),j=e.top+e.height/2-Uy,S=l-j,_=g.offsetHeight/2,P=f+y+(g.offsetTop+_),L=w-P;if(P<=j){const e=i.length>0&&g===i[i.length-1].ref.current;a.style.bottom="0px";const t=c.clientHeight-m.offsetTop-m.offsetHeight,n=P+Math.max(S,_+(e?C:0)+t+b);a.style.height=n+"px"}else{const e=i.length>0&&g===i[0].ref.current;a.style.top="0px";const t=Math.max(j,f+m.offsetTop+(e?E:0)+_)+L;a.style.height=t+"px",m.scrollTop=P-j+m.offsetTop}a.style.margin=`${Uy}px 0`,a.style.minHeight=x+"px",a.style.maxHeight=l+"px",null==r||r(),requestAnimationFrame((()=>p.current=!0))}}),[h,o.trigger,o.valueNode,a,c,m,g,v,o.dir,r]);fi((()=>b()),[b]);const[w,x]=Pe.useState();fi((()=>{c&&x(window.getComputedStyle(c).zIndex)}),[c]);const k=Pe.useCallback((e=>{e&&!0===f.current&&(b(),null==y||y(),f.current=!1)}),[b,y]);return Qe.jsx(qy,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:Qe.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:Qe.jsx(ei.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})}));By.displayName="SelectItemAlignedPosition";var Wy=Pe.forwardRef(((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Uy,...o}=e,i=Cy(n);return Qe.jsx(fy,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})}));Wy.displayName="SelectPopperPosition";var[qy,Hy]=ky(Ay,{}),Vy="SelectViewport",Ky=Pe.forwardRef(((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=zy(Vy,n),i=Hy(Vy,n),a=Vo(t,o.onViewportChange),l=Pe.useRef(0);return Qe.jsxs(Qe.Fragment,{children:[Qe.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),Qe.jsx(by.Slot,{scope:n,children:Qe.jsx(ei.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Wo(s.onScroll,(e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=i;if((null==r?void 0:r.current)&&n){const e=Math.abs(l.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*Uy,s=parseFloat(n.style.minHeight),o=parseFloat(n.style.height),i=Math.max(s,o);if(i<r){const s=i+e,o=Math.min(r,s),a=s-o;n.style.height=o+"px","0px"===n.style.bottom&&(t.scrollTop=a>0?a:0,n.style.justifyContent="flex-end")}}}l.current=t.scrollTop}))})})]})}));Ky.displayName=Vy;var Gy="SelectGroup",[Zy,Yy]=ky(Gy);Pe.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,s=Xl();return Qe.jsx(Zy,{scope:n,id:s,children:Qe.jsx(ei.div,{role:"group","aria-labelledby":s,...r,ref:t})})})).displayName=Gy;var Qy="SelectLabel",Jy=Pe.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,s=Yy(Qy,n);return Qe.jsx(ei.div,{id:s.id,...r,ref:t})}));Jy.displayName=Qy;var Xy="SelectItem",[eb,tb]=ky(Xy),nb=Pe.forwardRef(((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,a=Sy(Xy,n),l=zy(Xy,n),c=a.value===r,[u,d]=Pe.useState(o??""),[h,p]=Pe.useState(!1),f=Vo(t,(e=>{var t;return null==(t=l.itemRefCallback)?void 0:t.call(l,e,r,s)})),m=Xl(),g=Pe.useRef("touch"),v=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(""===r)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return Qe.jsx(eb,{scope:n,value:r,disabled:s,textId:m,isSelected:c,onItemTextChange:Pe.useCallback((e=>{d((t=>t||((null==e?void 0:e.textContent)??"").trim()))}),[]),children:Qe.jsx(by.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:Qe.jsx(ei.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:f,onFocus:Wo(i.onFocus,(()=>p(!0))),onBlur:Wo(i.onBlur,(()=>p(!1))),onClick:Wo(i.onClick,(()=>{"mouse"!==g.current&&v()})),onPointerUp:Wo(i.onPointerUp,(()=>{"mouse"===g.current&&v()})),onPointerDown:Wo(i.onPointerDown,(e=>{g.current=e.pointerType})),onPointerMove:Wo(i.onPointerMove,(e=>{var t;g.current=e.pointerType,s?null==(t=l.onItemLeave)||t.call(l):"mouse"===g.current&&e.currentTarget.focus({preventScroll:!0})})),onPointerLeave:Wo(i.onPointerLeave,(e=>{var t;e.currentTarget===document.activeElement&&(null==(t=l.onItemLeave)||t.call(l))})),onKeyDown:Wo(i.onKeyDown,(e=>{var t;""!==(null==(t=l.searchRef)?void 0:t.current)&&" "===e.key||(vy.includes(e.key)&&v()," "===e.key&&e.preventDefault())}))})})})}));nb.displayName=Xy;var rb="SelectItemText",sb=Pe.forwardRef(((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=Sy(rb,n),a=zy(rb,n),l=tb(rb,n),c=Py(rb,n),[u,d]=Pe.useState(null),h=Vo(t,(e=>d(e)),l.onItemTextChange,(e=>{var t;return null==(t=a.itemTextRefCallback)?void 0:t.call(a,e,l.value,l.disabled)})),p=null==u?void 0:u.textContent,f=Pe.useMemo((()=>Qe.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value)),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=c;return fi((()=>(m(f),()=>g(f))),[m,g,f]),Qe.jsxs(Qe.Fragment,{children:[Qe.jsx(ei.span,{id:l.textId,...o,ref:h}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Le.createPortal(o.children,i.valueNode):null]})}));sb.displayName=rb;var ob="SelectItemIndicator",ib=Pe.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e;return tb(ob,n).isSelected?Qe.jsx(ei.span,{"aria-hidden":!0,...r,ref:t}):null}));ib.displayName=ob;var ab="SelectScrollUpButton",lb=Pe.forwardRef(((e,t)=>{const n=zy(ab,e.__scopeSelect),r=Hy(ab,e.__scopeSelect),[s,o]=Pe.useState(!1),i=Vo(t,r.onScrollButtonChange);return fi((()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;o(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[n.viewport,n.isPositioned]),s?Qe.jsx(db,{...e,ref:i,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null}));lb.displayName=ab;var cb="SelectScrollDownButton",ub=Pe.forwardRef(((e,t)=>{const n=zy(cb,e.__scopeSelect),r=Hy(cb,e.__scopeSelect),[s,o]=Pe.useState(!1),i=Vo(t,r.onScrollButtonChange);return fi((()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;o(n)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[n.viewport,n.isPositioned]),s?Qe.jsx(db,{...e,ref:i,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null}));ub.displayName=cb;var db=Pe.forwardRef(((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=zy("SelectScrollButton",n),i=Pe.useRef(null),a=wy(n),l=Pe.useCallback((()=>{null!==i.current&&(window.clearInterval(i.current),i.current=null)}),[]);return Pe.useEffect((()=>()=>l()),[l]),fi((()=>{var e;const t=a().find((e=>e.ref.current===document.activeElement));null==(e=null==t?void 0:t.ref.current)||e.scrollIntoView({block:"nearest"})}),[a]),Qe.jsx(ei.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Wo(s.onPointerDown,(()=>{null===i.current&&(i.current=window.setInterval(r,50))})),onPointerMove:Wo(s.onPointerMove,(()=>{var e;null==(e=o.onItemLeave)||e.call(o),null===i.current&&(i.current=window.setInterval(r,50))})),onPointerLeave:Wo(s.onPointerLeave,(()=>{l()}))})})),hb=Pe.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e;return Qe.jsx(ei.div,{"aria-hidden":!0,...r,ref:t})}));hb.displayName="SelectSeparator";var pb="SelectArrow";function fb(e){return""===e||void 0===e}Pe.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,s=Cy(n),o=Sy(pb,n),i=zy(pb,n);return o.open&&"popper"===i.position?Qe.jsx(my,{...s,...r,ref:t}):null})).displayName=pb;var mb=Pe.forwardRef(((e,t)=>{const{value:n,...r}=e,s=Pe.useRef(null),o=Vo(t,s),i=Xc(n);return Pe.useEffect((()=>{const e=s.current,t=window.HTMLSelectElement.prototype,r=Object.getOwnPropertyDescriptor(t,"value").set;if(i!==n&&r){const t=new Event("change",{bubbles:!0});r.call(e,n),e.dispatchEvent(t)}}),[i,n]),Qe.jsx(bi,{asChild:!0,children:Qe.jsx("select",{...r,ref:o,defaultValue:n})})}));function gb(e){const t=ni(e),n=Pe.useRef(""),r=Pe.useRef(0),s=Pe.useCallback((e=>{const s=n.current+e;t(s),function e(t){n.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout((()=>e("")),1e3))}(s)}),[t]),o=Pe.useCallback((()=>{n.current="",window.clearTimeout(r.current)}),[]);return Pe.useEffect((()=>()=>window.clearTimeout(r.current)),[]),[n,s,o]}function vb(e,t,n){const r=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,s=n?e.indexOf(n):-1;let o=(i=e,a=Math.max(s,0),i.map(((e,t)=>i[(a+t)%i.length])));var i,a;1===r.length&&(o=o.filter((e=>e!==n)));const l=o.find((e=>e.textValue.toLowerCase().startsWith(r.toLowerCase())));return l!==n?l:void 0}mb.displayName="BubbleSelect";var yb=My,bb=Ry,wb=Dy,xb=Iy,kb=Ky,Eb=Jy,Cb=nb,jb=sb,Sb=ib,_b=lb,Pb=ub,Lb=hb;const Ob=Ly,Mb=Ny,Tb=Pe.forwardRef((({className:e,children:t,...n},r)=>Qe.jsxs(yb,{ref:r,className:Ll("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,Qe.jsx(bb,{asChild:!0,children:Qe.jsx(ba,{className:"h-4 w-4 opacity-50"})})]})));Tb.displayName=yb.displayName;const Nb=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx(_b,{ref:n,className:Ll("flex cursor-default items-center justify-center py-1",e),...t,children:Qe.jsx(wa,{className:"h-4 w-4"})})));Nb.displayName=_b.displayName;const Rb=Pe.forwardRef((({className:e,...t},n)=>Qe.jsx(Pb,{ref:n,className:Ll("flex cursor-default items-center justify-center py-1",e),...t,children:Qe.jsx(ba,{className:"h-4 w-4"})})));Rb.displayName=Pb.displayName;const Db=Pe.forwardRef((({className:e,children:t,position:n="popper",...r},s)=>Qe.jsx(wb,{children:Qe.jsxs(xb,{ref:s,className:Ll("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[Qe.jsx(Nb,{}),Qe.jsx(kb,{className:Ll("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),Qe.jsx(Rb,{})]})})));Db.displayName=xb.displayName;Pe.forwardRef((({className:e,...t},n)=>Qe.jsx(Eb,{ref:n,className:Ll("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}))).displayName=Eb.displayName;const Ab=Pe.forwardRef((({className:e,children:t,...n},r)=>Qe.jsxs(Cb,{ref:r,className:Ll("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[Qe.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:Qe.jsx(Sb,{children:Qe.jsx(ya,{className:"h-4 w-4"})})}),Qe.jsx(jb,{children:t})]})));Ab.displayName=Cb.displayName;function Ib(){return[{id:"1",email:"admin@example.com",created_at:(new Date).toISOString(),role:"admin",last_sign_in_at:(new Date).toISOString()},{id:"2",email:"user1@example.com",created_at:(new Date).toISOString(),role:"user",last_sign_in_at:(new Date).toISOString()},{id:"3",email:"user2@example.com",created_at:new Date(Date.now()-6048e5).toISOString(),role:"user",last_sign_in_at:new Date(Date.now()-1728e5).toISOString()}]}function Ub(e){return(Ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fb(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function zb(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function $b(e){zb(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===Ub(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}Pe.forwardRef((({className:e,...t},n)=>Qe.jsx(Lb,{ref:n,className:Ll("-mx-1 my-1 h-px bg-muted",e),...t}))).displayName=Lb.displayName;var Bb={};function Wb(){return Bb}function qb(e){if(zb(1,arguments),!function(e){return zb(1,arguments),e instanceof Date||"object"===Ub(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!=typeof e)return!1;var t=$b(e);return!isNaN(Number(t))}function Hb(e,t){return zb(2,arguments),function(e,t){zb(2,arguments);var n=$b(e).getTime(),r=Fb(t);return new Date(n+r)}(e,-Fb(t))}function Vb(e){zb(1,arguments);var t=$b(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function Kb(e){zb(1,arguments);var t=$b(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Vb(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var i=Vb(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function Gb(e){zb(1,arguments);var t=$b(e),n=Vb(t).getTime()-function(e){zb(1,arguments);var t=Kb(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),Vb(n)}(t).getTime();return Math.round(n/6048e5)+1}function Zb(e,t){var n,r,s,o,i,a,l,c;zb(1,arguments);var u=Wb(),d=Fb(null!==(n=null!==(r=null!==(s=null!==(o=null==t?void 0:t.weekStartsOn)&&void 0!==o?o:null==t||null===(i=t.locale)||void 0===i||null===(a=i.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==s?s:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=$b(e),p=h.getUTCDay(),f=(p<d?7:0)+p-d;return h.setUTCDate(h.getUTCDate()-f),h.setUTCHours(0,0,0,0),h}function Yb(e,t){var n,r,s,o,i,a,l,c;zb(1,arguments);var u=$b(e),d=u.getUTCFullYear(),h=Wb(),p=Fb(null!==(n=null!==(r=null!==(s=null!==(o=null==t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null==t||null===(i=t.locale)||void 0===i||null===(a=i.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==s?s:h.firstWeekContainsDate)&&void 0!==r?r:null===(l=h.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(d+1,0,p),f.setUTCHours(0,0,0,0);var m=Zb(f,t),g=new Date(0);g.setUTCFullYear(d,0,p),g.setUTCHours(0,0,0,0);var v=Zb(g,t);return u.getTime()>=m.getTime()?d+1:u.getTime()>=v.getTime()?d:d-1}function Qb(e,t){zb(1,arguments);var n=$b(e),r=Zb(n,t).getTime()-function(e,t){var n,r,s,o,i,a,l,c;zb(1,arguments);var u=Wb(),d=Fb(null!==(n=null!==(r=null!==(s=null!==(o=null==t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null==t||null===(i=t.locale)||void 0===i||null===(a=i.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==s?s:u.firstWeekContainsDate)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),h=Yb(e,t),p=new Date(0);return p.setUTCFullYear(h,0,d),p.setUTCHours(0,0,0,0),Zb(p,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function Jb(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Xb=function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Jb("yy"===t?r%100:r,t.length)},ew=function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Jb(n+1,2)},tw=function(e,t){return Jb(e.getUTCDate(),t.length)},nw=function(e,t){return Jb(e.getUTCHours()%12||12,t.length)},rw=function(e,t){return Jb(e.getUTCHours(),t.length)},sw=function(e,t){return Jb(e.getUTCMinutes(),t.length)},ow=function(e,t){return Jb(e.getUTCSeconds(),t.length)},iw=function(e,t){var n=t.length,r=e.getUTCMilliseconds();return Jb(Math.floor(r*Math.pow(10,n-3)),t.length)},aw="midnight",lw="noon",cw="morning",uw="afternoon",dw="evening",hw="night",pw={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Xb(e,t)},Y:function(e,t,n,r){var s=Yb(e,r),o=s>0?s:1-s;return"YY"===t?Jb(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):Jb(o,t.length)},R:function(e,t){return Jb(Kb(e),t.length)},u:function(e,t){return Jb(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Jb(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Jb(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return ew(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Jb(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var s=Qb(e,r);return"wo"===t?n.ordinalNumber(s,{unit:"week"}):Jb(s,t.length)},I:function(e,t,n){var r=Gb(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Jb(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):tw(e,t)},D:function(e,t,n){var r=function(e){zb(1,arguments);var t=$b(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Jb(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var s=e.getUTCDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Jb(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var s=e.getUTCDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Jb(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),s=0===r?7:r;switch(t){case"i":return String(s);case"ii":return Jb(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,s=e.getUTCHours();switch(r=12===s?lw:0===s?aw:s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,s=e.getUTCHours();switch(r=s>=17?dw:s>=12?uw:s>=4?cw:hw,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return nw(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):rw(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Jb(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Jb(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):sw(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):ow(e,t)},S:function(e,t){return iw(e,t)},X:function(e,t,n,r){var s=(r._originalDate||e).getTimezoneOffset();if(0===s)return"Z";switch(t){case"X":return mw(s);case"XXXX":case"XX":return gw(s);default:return gw(s,":")}},x:function(e,t,n,r){var s=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return mw(s);case"xxxx":case"xx":return gw(s);default:return gw(s,":")}},O:function(e,t,n,r){var s=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+fw(s,":");default:return"GMT"+gw(s,":")}},z:function(e,t,n,r){var s=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+fw(s,":");default:return"GMT"+gw(s,":")}},t:function(e,t,n,r){var s=r._originalDate||e;return Jb(Math.floor(s.getTime()/1e3),t.length)},T:function(e,t,n,r){return Jb((r._originalDate||e).getTime(),t.length)}};function fw(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),o=r%60;if(0===o)return n+String(s);var i=t;return n+String(s)+i+Jb(o,2)}function mw(e,t){return e%60==0?(e>0?"-":"+")+Jb(Math.abs(e)/60,2):gw(e,t)}function gw(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e);return r+Jb(Math.floor(s/60),2)+n+Jb(s%60,2)}var vw=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},yw=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},bw={p:yw,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return vw(e,t);switch(s){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",vw(s,t)).replace("{{time}}",yw(o,t))}},ww=["D","DD"],xw=["YY","YYYY"];function kw(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Ew={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Cw(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var jw={date:Cw({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Cw({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Cw({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Sw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function _w(e){return function(t,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,o=null!=n&&n.width?String(n.width):s;r=e.formattingValues[o]||e.formattingValues[s]}else{var i=e.defaultWidth,a=null!=n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[i]}return r[e.argumentCallback?e.argumentCallback(t):t]}}var Pw={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:_w({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:_w({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:_w({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:_w({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:_w({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Lw(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;var i,a=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,(function(e){return e.test(a)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,(function(e){return e.test(a)}));return i=e.valueCallback?e.valueCallback(c):c,{value:i=n.valueCallback?n.valueCallback(i):i,rest:t.slice(a.length)}}}var Ow,Mw={ordinalNumber:(Ow={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(Ow.matchPattern);if(!n)return null;var r=n[0],s=e.match(Ow.parsePattern);if(!s)return null;var o=Ow.valueCallback?Ow.valueCallback(s[0]):s[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:e.slice(r.length)}}),era:Lw({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Lw({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Lw({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Lw({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Lw({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},Tw={code:"en-US",formatDistance:function(e,t,n){var r,s=Ew[e];return r="string"==typeof s?s:1===t?s.one:s.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:jw,formatRelative:function(e,t,n,r){return Sw[e]},localize:Pw,match:Mw,options:{weekStartsOn:0,firstWeekContainsDate:1}},Nw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Rw=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Dw=/^'([^]*?)'?$/,Aw=/''/g,Iw=/[a-zA-Z]/;function Uw(e,t,n){var r,s,o,i,a,l,c,u,d,h,p;zb(2,arguments);var f=String(t),m=Wb(),g=null!==(r=m.locale)&&void 0!==r?r:Tw,v=Fb(null!==(s=null!==(o=null!==(i=void 0)&&void 0!==i?i:m.firstWeekContainsDate)&&void 0!==o?o:null===(a=m.locale)||void 0===a||null===(l=a.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==s?s:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=Fb(null!==(c=null!==(u=null!==(d=void 0)&&void 0!==d?d:m.weekStartsOn)&&void 0!==u?u:null===(h=m.locale)||void 0===h||null===(p=h.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==c?c:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!g.localize)throw new RangeError("locale must contain localize property");if(!g.formatLong)throw new RangeError("locale must contain formatLong property");var b=$b(e);if(!qb(b))throw new RangeError("Invalid time value");var w=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}(b),x=Hb(b,w),k={firstWeekContainsDate:v,weekStartsOn:y,locale:g,_originalDate:b};return f.match(Rw).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,bw[t])(e,g.formatLong):e})).join("").match(Nw).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return function(e){var t=e.match(Dw);if(!t)return e;return t[1].replace(Aw,"'")}(n);var s,o=pw[r];if(o)return s=n,-1!==xw.indexOf(s)&&kw(n,t,String(e)),function(e){return-1!==ww.indexOf(e)}(n)&&kw(n,t,String(e)),o(x,n,g.localize,k);if(r.match(Iw))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("")}const Fw=()=>{const[e,t]=Pe.useState([]),[n,r]=Pe.useState(!0),[s,o]=Pe.useState(!1),[i,a]=Pe.useState(null),[l,c]=Pe.useState(""),[u,d]=Pe.useState(""),[h,p]=Pe.useState("user"),[f,m]=Pe.useState(!1),{toast:g}=Bo();Pe.useEffect((()=>{v()}),[]);const v=async()=>{try{r(!0);const e=await async function(){try{return Po("[UserService] Fetching all users"),Ib()}catch(Hw){return Lo("[UserService] Unexpected error fetching users:",Hw),Ib()}}();t(e)}catch(e){console.error("Error fetching users:",e),g({title:"Error",description:"Failed to fetch users. Please try again.",variant:"destructive"})}finally{r(!1)}},y=async(n,r)=>{if(confirm(`Are you sure you want to delete user ${r}?`))try{a(n),await async function(e){try{Po("[UserService] Deleting user with ID:",e)}catch(Hw){throw Lo("[UserService] Unexpected error deleting user:",Hw),Hw}}(n),t(e.filter((e=>e.id!==n))),g({title:"Success",description:`User ${r} deleted successfully.`})}catch(s){console.error("Error deleting user:",s),g({title:"Error",description:"Failed to delete user. Please try again.",variant:"destructive"})}finally{a(null)}},b=e=>e?Uw(new Date(e),"MMM d, yyyy h:mm a"):"Never";return Qe.jsxs(Bl,{children:[Qe.jsxs(Wl,{className:"flex flex-row items-center justify-between",children:[Qe.jsxs("div",{children:[Qe.jsx(ql,{children:"User Management"}),Qe.jsx(Hl,{children:"Manage users of your application"})]}),Qe.jsxs("div",{className:"flex items-center gap-2",children:[Qe.jsx(zl,{variant:"outline",size:"icon",onClick:v,disabled:n,children:n?Qe.jsx(Ea,{className:"h-4 w-4 animate-spin"}):Qe.jsx(_a,{className:"h-4 w-4"})}),Qe.jsxs(lg,{open:f,onOpenChange:m,children:[Qe.jsx(cg,{asChild:!0,children:Qe.jsxs(zl,{className:"flex items-center gap-2",children:[Qe.jsx(Ra,{className:"h-4 w-4"}),"Add User"]})}),Qe.jsxs(hg,{children:[Qe.jsxs(pg,{children:[Qe.jsx(mg,{children:"Add New User"}),Qe.jsx(gg,{children:"Create a new user account with specified permissions."})]}),Qe.jsxs("div",{className:"grid gap-4 py-4",children:[Qe.jsxs("div",{className:"grid gap-2",children:[Qe.jsx(Yl,{htmlFor:"email",children:"Email"}),Qe.jsx($l,{id:"email",type:"email",placeholder:"user@example.com",value:l,onChange:e=>c(e.target.value)})]}),Qe.jsxs("div",{className:"grid gap-2",children:[Qe.jsx(Yl,{htmlFor:"password",children:"Password"}),Qe.jsx($l,{id:"password",type:"password",placeholder:"••••••••",value:u,onChange:e=>d(e.target.value)})]}),Qe.jsxs("div",{className:"grid gap-2",children:[Qe.jsx(Yl,{htmlFor:"role",children:"Role"}),Qe.jsxs(Ob,{value:h,onValueChange:p,children:[Qe.jsx(Tb,{children:Qe.jsx(Mb,{placeholder:"Select a role"})}),Qe.jsxs(Db,{children:[Qe.jsx(Ab,{value:"admin",children:"Admin"}),Qe.jsx(Ab,{value:"user",children:"User"})]})]})]})]}),Qe.jsxs(fg,{children:[Qe.jsx(zl,{variant:"outline",onClick:()=>m(!1),disabled:s,children:"Cancel"}),Qe.jsx(zl,{onClick:async()=>{if(l&&u)if(u.length<6)g({title:"Validation Error",description:"Password must be at least 6 characters long.",variant:"destructive"});else try{o(!0);const n=await async function(e,t,n="user"){var r,s;try{Po("[UserService] Creating new user with email:",e);const{data:i}=await Oo.from("profiles").select("email").eq("email",e).single();if(i)throw Lo("[UserService] User already exists:",e),new Error(`User with email ${e} already exists`);const{data:a,error:l}=await Oo.auth.signUp({email:e,password:t,options:{data:{role:n},emailRedirectTo:window.location.origin}});if(l)throw Lo("[UserService] Error creating user:",l),l;null==(r=null==a?void 0:a.user)||r.id;try{await Oo.auth.signInWithPassword({email:e,password:t}),await Oo.auth.signOut()}catch(o){}return{id:a.user.id,email:a.user.email||"",created_at:a.user.created_at||(new Date).toISOString(),role:(null==(s=a.user.user_metadata)?void 0:s.role)||"user"}}catch(Hw){throw Lo("[UserService] Unexpected error creating user:",Hw),Hw}}(l,u,h);t([...e,n]),c(""),d(""),p("user"),m(!1),g({title:"Success",description:`User ${l} created successfully. Note: Email verification may be required before login.`})}catch(n){console.error("Error creating user:",n);const e=n instanceof Error?n.message:"Failed to create user. Please try again.";g({title:"Error",description:e,variant:"destructive"})}finally{o(!1)}else g({title:"Validation Error",description:"Email and password are required.",variant:"destructive"})},disabled:s,children:s?Qe.jsxs(Qe.Fragment,{children:[Qe.jsx(Ea,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create User"})]})]})]})]})]}),Qe.jsx(Vl,{children:n?Qe.jsxs("div",{className:"flex justify-center py-6",children:[Qe.jsx(Ea,{className:"h-6 w-6 animate-spin mr-2"}),"Loading users..."]}):Qe.jsxs(Vc,{children:[Qe.jsx(Kc,{children:Qe.jsxs(Zc,{children:[Qe.jsx(Yc,{children:"Email"}),Qe.jsx(Yc,{children:"Role"}),Qe.jsx(Yc,{children:"Created"}),Qe.jsx(Yc,{children:"Last Sign In"}),Qe.jsx(Yc,{className:"w-[80px]",children:"Actions"})]})}),Qe.jsx(Gc,{children:0===e.length?Qe.jsx(Zc,{children:Qe.jsx(Qc,{colSpan:5,className:"text-center py-6",children:"No users found"})}):e.map((e=>Qe.jsxs(Zc,{children:[Qe.jsx(Qc,{children:e.email}),Qe.jsx(Qc,{className:"capitalize",children:e.role||"user"}),Qe.jsx(Qc,{children:b(e.created_at)}),Qe.jsx(Qc,{children:b(e.last_sign_in_at)}),Qe.jsx(Qc,{children:Qe.jsx(zl,{variant:"ghost",size:"icon",onClick:()=>y(e.id,e.email),disabled:i===e.id,children:i===e.id?Qe.jsx(Ea,{className:"h-4 w-4 animate-spin"}):Qe.jsx(Ma,{className:"h-4 w-4 text-destructive"})})})]},e.id)))})]})})]})},zw=()=>{var e,t;const{user:n,signOut:r}=No(),s=Te();return null==(e=null==n?void 0:n.user_metadata)||e.role,Qe.jsxs("div",{className:"space-y-6",children:[Qe.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),Qe.jsxs(Bl,{children:[Qe.jsx(Wl,{children:Qe.jsx(ql,{children:"Account Information"})}),Qe.jsx(Vl,{className:"space-y-6",children:Qe.jsxs("div",{className:"space-y-2",children:[Qe.jsxs("div",{className:"flex items-center justify-between",children:[Qe.jsxs("div",{children:[Qe.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),Qe.jsx("p",{className:"text-lg font-medium",children:null==n?void 0:n.email})]}),Qe.jsxs(zl,{variant:"destructive",onClick:async()=>{await r(),s("/auth")},className:"flex items-center gap-2",children:[Qe.jsx(Ca,{className:"h-4 w-4"}),"Sign Out"]})]}),(null==(t=null==n?void 0:n.user_metadata)?void 0:t.role)&&Qe.jsxs("div",{children:[Qe.jsx("p",{className:"text-sm text-muted-foreground",children:"Role"}),Qe.jsx("p",{className:"text-lg font-medium capitalize",children:n.user_metadata.role})]})]})})]}),Qe.jsx("div",{className:"pt-4",children:Qe.jsx(Fw,{})})]})},$w=({children:e})=>{const{user:t}=No();return t?Qe.jsx(Qe.Fragment,{children:e}):Qe.jsx(Ue,{to:"/auth",replace:!0})},Bw=new $t({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1}}});function Ww(){return Qe.jsx(Yt,{client:Bw,children:Qe.jsx(Fe,{children:Qe.jsxs(To,{children:[Qe.jsx(Ul,{children:Qe.jsxs(ze,{children:[Qe.jsx($e,{path:"/auth",element:Qe.jsx(Bc,{})}),Qe.jsx($e,{path:"/",element:Qe.jsx($w,{children:Qe.jsx(Wc,{})})}),Qe.jsx($e,{path:"/properties",element:Qe.jsx($w,{children:Qe.jsx(mu,{})})}),Qe.jsx($e,{path:"/properties/new",element:Qe.jsx($w,{children:Qe.jsx(ig,{})})}),Qe.jsx($e,{path:"/properties/:id",element:Qe.jsx($w,{children:Qe.jsx(og,{})})}),Qe.jsx($e,{path:"/clients",element:Qe.jsx($w,{children:Qe.jsx(ag,{})})}),Qe.jsx($e,{path:"/settings",element:Qe.jsx($w,{children:Qe.jsx(zw,{})})})]})}),Qe.jsx(Il,{})]})})})}Po("[App] === App Starting ===");const qw=document.getElementById("root");if(!qw)throw Lo("[Main] Root element not found"),new Error("Root element not found");try{Je.createRoot(qw).render(Qe.jsx(Ww,{}))}catch(Vw){Lo("[Main] Error rendering app:",Vw),qw&&(qw.innerHTML=`\n      <div style="color: red; padding: 20px; border: 1px solid #f44336; margin: 20px;">\n        <h2>Error Rendering Application</h2>\n        <p>${Vw instanceof Error?Vw.message:"Unknown error"}</p>\n        <pre>${Vw instanceof Error?Vw.stack:""}</pre>\n      </div>\n    `)}
//# sourceMappingURL=index-CxerZN2r.js.map
